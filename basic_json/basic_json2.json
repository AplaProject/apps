{
    "blocks": [],
    "contracts": [
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "contract Notifications_Roles_Close {\n    data {\n        notific_id int\n    }\n\n    conditions {\n        $notifications_map = DBFind(\"notifications\").Columns(\"id,date_start_processing,processing_info->member_id,closed\").Where(\"id=$\", $notific_id).Row()\n        if !$notifications_map {\n            warning \"Notification not found\"\n        }\n\n        if $notifications_map[\"date_start_processing\"] == \"\" {\n            warning \"Sorry, processing of this notification has not yet begun\"\n        }\n\n        if $notifications_map[\"processing_info.member_id\"] != $key_id {\n            warning \"Sorry, processing of this notice began another member\"\n        }\n\n        if $notifications_map[\"closed\"] > 0 {\n            warning \"Sorry, this notification has already been closed before\"\n        }\n    }\n\n    action {\n        DBUpdate(\"notifications\", $notific_id, \"timestamp date_closed,closed\", $block_time, 1)\n    }\n}",
            "Name": "Notifications_Roles_Close"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "contract Notifications_Roles_Processing {\n    data {\n        notific_id int\n    }\n\n    conditions {\n        $notifications_map = DBFind(\"notifications\").Where(\"id=$\", $notific_id).Row()\n        if !$notifications_map {\n            warning \"Notification not found\"\n        }\n\n        if $notifications_map[\"date_start_processing\"] != \"\" {\n            warning \"Sorry, processing of this notification has already begun\"\n        }\n\n        $participant_id = DBFind(\"roles_participants\").Where(\"role->id=$ and member->member_id=$ and deleted=0\", Int($notifications_map[\"role_id\"]), $key_id).One(\"id\")\n        if $participant_id == 0 {\n            warning \"Sorry, you are not part of the role for which this notification is intended\"\n        }\n\n        $processing_map = DBFind(\"members\").Where(\"id = $\", $key_id).Row()\n        if !$processing_map {\n            warning \"Member not found\"\n        }\n    }\n\n    action {\n        var processing_info map\n        processing_info[\"member_id\"] = $processing_map[\"id\"]\n        processing_info[\"member_name\"] = $processing_map[\"member_name\"]\n        processing_info[\"image_id\"] = $processing_map[\"image_id\"]\n\n        DBUpdate(\"notifications\", $notific_id, \"timestamp date_start_processing,processing_info\", $block_time, processing_info)\n    }\n}",
            "Name": "Notifications_Roles_Processing"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "contract Notifications_Single_Send_map {\n    data {\n        member_id int\n        sender int\n        icon_name string\n        text_header string\n        text_body string \"optional\"\n        page_name string\n        params_map map\n    }\n\n    conditions {\n        $member_map = DBFind(\"members\").Where(\"id = $\", $member_id).Row()\n        if !$member_map {\n            warning \"Member not found\"\n        }\n\n        if $sender == 1 {\n            $sender_map = DBFind(\"members\").Where(\"id = $\", $key_id).Row()\n            if !$sender_map {\n                warning \"Member not found\"\n            }\n        }\n        if $sender == 2 {\n            // !!! need to fix role_id to the global variable !!!!\n            $sender_map = DBFind(\"roles\").Where(\"id = $\", 1).Row()\n            if !$sender_map {\n                warning \"Member not found\"\n            }\n        }\n    }\n\n    action {\n        var recipient map\n        recipient[\"member_id\"] = $member_map[\"id\"]\n        recipient[\"member_name\"] = $member_map[\"member_name\"]\n        recipient[\"image_id\"] = $member_map[\"image_id\"]\n\n        var sender map\n        if $sender == 1 {\n            sender[\"type\"] = 1\n            sender[\"member_id\"] = $sender_map[\"id\"]\n            sender[\"member_name\"] = $sender_map[\"member_name\"]\n            sender[\"image_id\"] = $sender_map[\"image_id\"]\n        }\n        if $sender == 2 {\n            sender[\"type\"] = 2\n            sender[\"role_id\"] = $sender_map[\"id\"]\n            sender[\"role_name\"] = $sender_map[\"role_name\"]\n            sender[\"image_id\"] = $sender_map[\"image_id\"]\n        }\n\n        var notification map\n        notification[\"header\"] = $text_header\n        notification[\"type\"] = 1\n        notification[\"icon\"] = $icon_name\n        notification[\"body\"] = $text_body\n\n        DBInsert(\"notifications\", \"recipient,sender,notification,page_name,page_params,timestamp date_created\",\n            recipient, sender, notification, $page_name, $params_map, $block_time)\n    }\n}",
            "Name": "Notifications_Single_Send_map"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "contract Notifications_Single_Send_str {\n    data {\n        member_id int\n        sender int\n        icon_name string\n        text_header string\n        text_body string \"optional\"\n        page_name string\n        params_val string \"optional\"\n    }\n\n    conditions {}\n\n    action {\n        var params_map map\n        if Size($params_val) > 0 {\n            params_map = JSONToMap($params_val)\n        }\n        Notifications_Single_Send_map(\"member_id,sender,icon_name,text_header,text_body,page_name,params_map\",\n            $member_id, $sender, $icon_name, $text_header, $text_body, $page_name, params_map)\n    }\n}",
            "Name": "Notifications_Single_Send_str"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "contract Notifications_Single_Close {\n    data {\n        notific_id int\n    }\n\n    conditions {\n        $processing_map = DBFind(\"members\").Where(\"id = $\", $key_id).Row()\n        if !$processing_map {\n            warning \"Member not found\"\n        }\n    }\n\n    action {\n        var processing_info map\n        processing_info[\"member_id\"] = $processing_map[\"id\"]\n        processing_info[\"member_name\"] = $processing_map[\"member_name\"]\n        processing_info[\"image_id\"] = $processing_map[\"image_id\"]\n\n        DBUpdate(\"notifications\", $notific_id, \"timestamp date_start_processing,processing_info,timestamp date_closed,closed\",\n            $block_time, processing_info, $block_time, 1)\n    }\n}",
            "Name": "Notifications_Single_Close"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "contract Notifications_Roles_Send_map {\n    data {\n        role_id int\n        closure_type int\n        sender int\n        icon_name string\n        text_header string\n        text_body string \"optional\"\n        page_name string\n        params_map map\n    }\n    \n    conditions {\n        $roles_map = DBFind(\"roles\").Where(\"id = $\", $role_id).Row()\n        if !$roles_map {\n            warning \"Role not found\"\n        }\n        \n        $participant_id = DBFind(\"roles_participants\").Where(\"role->id=$ and deleted=$\", $role_id, 0).One(\"id\")\n        if !$participant_id {\n            warning \"Role does not contain members\"\n        }\n        \n        if $sender == 1 {\n            $sender_map = DBFind(\"members\").Where(\"id = $\", $key_id).Row()\n            if !$sender_map {\n                warning \"Member not found\"\n            }\n        }\n        if $sender == 2 {\n            // !!! need to fix role_id to the global variable !!!!\n            $sender_map = DBFind(\"roles\").Where(\"id = $\", 1).Row()\n            if !$sender_map {\n                warning \"Member not found\"\n            }\n        }\n    }\n    \n    action {\n        //closure_type - Single\n        if $closure_type == 1 {\n            var recipient map\n            recipient[\"role_id\"] = $roles_map[\"id\"]\n            recipient[\"role_name\"] = $roles_map[\"role_name\"]\n            recipient[\"image_id\"] = $roles_map[\"image_id\"]\n            \n            var sender map\n            if $sender == 1 {\n                sender[\"type\"] = 1\n                sender[\"member_id\"] = $sender_map[\"id\"]\n                sender[\"member_name\"] = $sender_map[\"member_name\"]\n                sender[\"image_id\"] = $sender_map[\"image_id\"]\n            }\n            if $sender == 2 {\n                sender[\"type\"] = 2\n                sender[\"role_id\"] = $sender_map[\"id\"]\n                sender[\"role_name\"] = $sender_map[\"role_name\"]\n                sender[\"image_id\"] = $sender_map[\"image_id\"]\n            }\n            \n            var notification map\n            notification[\"header\"] = $text_header\n            notification[\"type\"] = 2\n            notification[\"icon\"] = $icon_name\n            notification[\"body\"] = $text_body\n            \n            DBInsert(\"notifications\", \"recipient,sender,notification,page_name,page_params,timestamp date_created\",\n            recipient, sender, notification, $page_name, $params_map, $block_time)\n        }\n        //closure_type - Multiple\n        else {\n            var participants array\n            participants = DBFind(\"roles_participants\").Columns(\"member->member_id\").Where(\"role->id = $ and deleted=0\", $role_id)\n            \n            var i int\n            while i < Len(participants) {\n                var p map\n                p = participants[i]\n                Notifications_Single_Send_str(\"member_id,sender,icon_name,text_header,text_body,page_name,params_map\",\n                Int(p[\"member.member_id\"]), $sender, $icon_name, $text_header, $text_body, $page_name, $params_map)\n                \n                i = i + 1\n            }\n        }\n    }\n}",
            "Name": "Notifications_Roles_Send_map"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "contract Notifications_Roles_Send_str {\n    data {\n        role_id int\n        closure_type int\n        sender int\n        icon_name string\n        text_header string\n        text_body string \"optional\"\n        page_name string\n        params_val string \"optional\"\n    }\n\n    conditions {}\n\n    action {\n        var params_map map\n        if Size($params_val) > 0 {\n            params_map = JSONToMap($params_val)\n        }\n        Notifications_Roles_Send_map(\"role_id,closure_type,sender,icon_name,text_header,text_body,page_name,params_map\",\n            $role_id, $closure_type, $sender, $icon_name, $text_header, $text_body, $page_name, params_map)\n    }\n}",
            "Name": "Notifications_Roles_Send_str"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "contract Profile_Edit {\n    data {\n        member_name string\n        member_image string \"image\"\n        information string \"optional\"\n    }\n\n    conditions {\n        $member_map = DBFind(\"members\").Where(\"id = $\", $key_id).Row()\n\n        if !$member_map {\n            // check member_name \n            $member_id = DBFind(\"members\").Where(\"member_name = $\", $member_name).One(\"id\")\n            if $member_id {\n                warning \"This member name is busy. Enter another member name, please\"\n            }\n\n            if Size($member_image) == 0 {\n                warning \"Avatar was not received\"\n            }\n        }\n    }\n\n    action {\n        if $member_map {\n            // update avatar\n            if Size($member_image) > 0 {\n                $binaries_id = DBFind(\"binaries\").Where(\"id = $\", Int($member_map[\"image_id\"])).One(\"id\")\n                if $binaries_id {\n                    DBUpdate(\"binaries\", Int($member_map[\"image_id\"]), \"data\", $member_image)\n                } else {\n                    var image_id int\n                    image_id = DBInsert(\"binaries\", \"data\", $member_image)\n                    DBUpdate(\"members\", Int($member_map[\"id\"]), \"image_id\", image_id)\n                }\n            }\n\n            var member_info map\n            member_info = JSONToMap($member_map[\"member_info\"])\n            member_info[\"information\"] = $information\n\n            DBUpdate(\"members\", Int($member_map[\"id\"]), \"member_info\", member_info)\n        } else {\n            // new image\n            var image_id int\n            image_id = DBInsert(\"binaries\", \"data\", $member_image)\n\n            // new information\n            var member_info map\n            member_info[\"information\"] = $information\n\n            DBInsert(\"members\", \"id,member_name,image_id,member_info\", $key_id, $member_name, image_id, member_info)\n        }\n    }\n}",
            "Name": "Profile_Edit"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "contract RoleConditions {\n    data{\n        role string\n    }\n    conditions {\n        var assigned string\n        assigned = DBFind(\"roles_assign\").Where(\"role_name=? and member_id=? and delete=0\", $role, $key_id).One(\"id\")\n\t\tif !assigned {\n            warning Sprintf(\"This action allowed only for role: %v\", $role)\n        }\n    }\n}",
            "Name": "RoleConditions"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "contract Roles_Unassign {\n    data {\n        row_id int\n    }\n    \n    conditions {\n        // check record\n        var assigned, role map\n        assigned = DBFind(\"roles_participants\").Columns(\"id,role->id\").Where(\"id=$\", $row_id).Row()\n        if !assigned {\n            warning \"Participant not found\"\n        }\n        \n        role = DBFind(\"roles\").Columns(\"id,creator->member_id\").Where(\"id=?\", assigned[\"role.id\"]).Row()\n        if !role {\n            warning \"Role not found in the roles registry\"\n        }\n        \n        var specialRules map\n        specialRules[\"sysparams_AcceptValidator\"] = \"Validator\"\n        specialRules[\"sysparams_DelegateRefresh\"] = \"Delegate\"\n        specialRules[\"sysparams_CandidateValidatorRequest\"] = \"Candidate for validators\"\n        specialRules[\"sysparams_InvestorRefresh\"] = \"Investor with voting rights\"\n        specialRules[\"sysparams_ValidatorResign\"] = \"Validator\"\n        \n        if !(specialRules[$original_contract] == role[\"role_name\"]) {\n            // check creator of the role\n            if role[\"creator.member_id\"] != $key_id {\n                warning \"Sorry, you are not the creator of this role\"\n            }\n        }\n    }\n    \n    action {\n        // delete the member\n        DBUpdate(\"roles_participants\", $row_id, \"deleted,timestamp date_deleted\", 1, $block_time)\n    }\n}",
            "Name": "Roles_Unassign"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "contract UploadBinary {\n    data {\n        Name string\n        Data string\n        AppID int\n        MemberID int \"optional\"\n    }\n    conditions {\n        $Id = Int(DBFind(\"binaries\").Columns(\"id\").Where(\"app_id = ? AND member_id = ? AND name = ?\", $AppID, $MemberID, $Name).One(\"id\"))\n    }\n    action {\n        var hash string\n        hash = MD5($Data)\n\n        var imageId int\n        if $Id != 0 {\n             DBUpdate(\"binaries\", $Id, \"data,hash\", $Data, hash)\n             imageId = $Id\n        } else {\n             imageId = DBInsert(\"binaries\", \"app_id,member_id,name,data,hash\", $AppID, $MemberID, $Name, $Data, hash)\n        }\n        $result =  imageId\n    }\n}",
            "Name": "UploadBinary"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "contract Roles_Assign {\n    data {\n        role_id int\n        member_id int\n    }\n    \n    conditions {\n        $role_map = DBFind(\"roles\").Columns(\"id,deleted,role_type,role_name,image_id,creator->member_id\").Where(\"id = $\", $role_id).Row()\n        if !$role_map {\n            warning \"Role not found\"\n        }\n        \n        $member_map = DBFind(\"members\").Where(\"id = $\", $member_id).Row()\n        if !$member_map {\n            warning \"Member not found\"\n        }\n        \n        $appointer_map = DBFind(\"members\").Where(\"id = $\", $key_id).Row()\n        if !$appointer_map {\n            warning \"Appointer not found\"\n        }\n        \n        if $role_map[\"deleted\"] == 1 {\n            warning \"This role has been deleted. The appointment of members is impossible\"\n        }\n        \n        var specialRules map\n        specialRules[\"sysparams_AcceptValidator\"] = \"Validator\"\n        specialRules[\"sysparams_DelegateRefresh\"] = \"Delegate\"\n        specialRules[\"sysparams_CandidateValidatorRequest\"] = \"Candidate for validators\"\n        specialRules[\"sysparams_InvestorRefresh\"] = \"Investor with voting rights\"\n        \n        if !(specialRules[$original_contract] == $role_map[\"role_name\"]) {\n            if $role_map[\"role_type\"] != 1 && $role_map[\"role_type\"] != 4 {\n                warning \"This role is not assignable. The appointment of members is impossible\"\n            }\n            // check creator of the role\n            if $role_map[\"creator.member_id\"] != $key_id {\n                warning \"Sorry, you are not the creator of this role. The appointment of members is impossible\"\n            }\n        }\n        \n        $assign_id = DBFind(\"roles_participants\").Where(\"role->id=$ and member->member_id=$ and deleted=0\", $role_id, $member_id).One(\"id\")\n        if $assign_id {\n            warning \"This member has already been added\"\n        }\n        \n    }\n    \n    action {\n        var role map\n        role[\"id\"] = $role_map[\"id\"]\n        role[\"type\"] = $role_map[\"role_type\"]\n        role[\"name\"] = $role_map[\"role_name\"]\n        role[\"image_id\"] = $role_map[\"image_id\"]\n        \n        var member map\n        member[\"member_id\"] = $member_map[\"id\"]\n        member[\"member_name\"] = $member_map[\"member_name\"]\n        member[\"image_id\"] = $member_map[\"image_id\"]\n        \n        var appointed map\n        appointed[\"member_id\"] = $appointer_map[\"id\"]\n        appointed[\"member_name\"] = $appointer_map[\"member_name\"]\n        appointed[\"image_id\"] = $appointer_map[\"image_id\"]\n        \n        DBInsert(\"roles_participants\", \"role,member,appointed,timestamp date_created\", role, member, appointed, $block_time)\n    }\n}",
            "Name": "Roles_Assign"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "contract sysparams_RemoveNode{\n    data{}\n    func jsonToArray(json string) array {\n        // KOSTYL\n        var res, parts array\n        if Size(json) < 60 {\n            // fastway empty|incorrect detect\n            return res\n        }\n        if HasPrefix(json, \"[\") {\n            json = Substr(json, 1, Size(json)-2)\n            if Contains(json, \"},\"){\n                // json have many objects\n                parts = Split(json, \"},\")\n                var i int\n                while i < Len(parts){\n                    var p, lastSym string\n                    p = parts[i]\n                    lastSym = Substr(p, Size(p)-1, 1)\n                    if lastSym != \"}\"{\n                        p = Sprintf(\"%v}\", p)\n                    }\n                    res[i] = JSONToMap(p)\n                    i=i+1\n                }\n            }else{\n                if HasPrefix(json, \"{\"){\n                    res[0] = JSONToMap(json)\n                }\n            }\n        }\n        return res\n    }\n    func nodesRemove(keyId int) array{\n        var json string\n        var nodes, res array\n        json = SysParamString(\"full_nodes\")\n        if !HasPrefix(json, \"[\") {\n            // empty string nodes\n            return res\n        }\n        nodes = jsonToArray(json)\n        var i, i_res int\n        while i < Len(nodes){\n            var node map\n            node = nodes[i]\n            if node[\"key_id\"] != keyId {\n                res[i_res] = node\n                i_res = i_res+1\n            }\n            i=i+1\n        }\n        return res\n    }\n    func nodesArrayToJson(nodes array) string{\n        var res string\n        var json array\n        if Len(nodes) == 0 {\n            res = \"[]\"\n            return res\n        }\n        var i int\n        while i < Len(nodes){\n            var node map\n            node = nodes[i]\n            json[i] = Sprintf(`{\"tcp_address\":\"%v\", \"api_address\":\"%v\", \"key_id\":\"%v\", \"public_key\":\"%v\"}`, node[\"tcp_address\"], node[\"api_address\"], node[\"key_id\"], node[\"public_key\"])\n            i=i+1\n        }\n        res = Join(json, \",\")\n        res = Sprintf(\"[%v]\", res)\n        return res\n    }\n    conditions{\n        if $original_contract != \"sysparams_ValidatorResign\"{\n            warning \"Unknown contract\"\n        }\n    }\n    \n    action{\n        var nodes array\n        nodes = nodesRemove($key_id)\n        var fullNodes string\n        fullNodes = nodesArrayToJson(nodes)\n        DBUpdateSysParam(\"full_nodes\", fullNodes, \"\")\n    }\n}",
            "Name": "sysparams_RemoveNode"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "contract TokenTransfer {\n    data {\n        Amount money\n        Sender_AccountId int\n        Recipient_AccountId int\n        Comment string \"optional\"\n        Signature string \"optional hidden\"\n    }\n    \n    conditions {\n        //check amount\n        if $Amount == 0 {\n            error \"Amount is zero\"\n        }\n        if $Amount < 0 {\n            error \"Amount is negative\"\n        }\n        \n        //check the sender\n        var sender string\n        sender = DBFind(\"keys\").Where(\"id=$\", $Sender_AccountId).One(\"id\")\n        if !sender {\n            error Sprintf(\"Sender %v is invalid\", $Sender_AccountId)\n        }\n        \n        //check balance\n        $sender_balance = Money(DBFind(\"keys\").Where(\"id=$\", $Sender_AccountId).One(\"amount\"))\n        if $Amount > $sender_balance {\n            error Sprintf(\"Money is not enough %v < %v\", $sender_balance, $Amount)\n        }\n        \n        //check the recipient\n        var recipient string\n        recipient = DBFind(\"keys\").Where(\"id=$\", $Recipient_AccountId).One(\"id\")\n        if !recipient {\n            error Sprintf(\"Recipient %v is invalid\", $Recipient_AccountId)\n        }\n    }\n    \n    action {\n        DBUpdate(\"keys\", $Sender_AccountId, \"-amount\", $Amount)\n        DBUpdate(\"keys\", $Recipient_AccountId, \"+amount\", $Amount)\n        DBInsert(\"history\", \"sender_id,recipient_id,amount,comment,block_id,txhash\", $Sender_AccountId, $Recipient_AccountId, $Amount, $Comment, $block, $txhash)\n    }\n}",
            "Name": "TokenTransfer"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "contract SendTokens {\n    data {\n        Amount money\n        Recipient_Account string\n        Signature string \"signature:TokenTransfer\"\n    }\n\n    conditions {\n        $recipient = AddressToId($Recipient_Account)\n        if $recipient == 0 {\n            error Sprintf(\"Recipient %v is invalid\", $Recipient_Account)\n        }\n    }\n\n    action {\n        TokenTransfer(\"Amount,Sender_AccountId,Recipient_AccountId,Signature\", $Amount, $key_id, $recipient, $Signature)\n    }\n}",
            "Name": "SendTokens"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "contract Roles_Create {\n    data {\n        role_name string\n        role_type int\n        icon string \"image,optional\"\n        company_id int \"optional\"\n    }\n    \n    conditions {\n        // system role\n        if $role_type == 3 {\n            warning \"System role can not be created\"\n        }\n        \n        // company role\n        if $role_type == 4 {\n            // check param\n            if $company_id == 0 {\n                warning \"On this page you can not create a role for the company. Go to the company's view page to create a role\"\n            }\n            \n            // check creator of the company\n            if $company_id != $key_id {\n                warning \"Sorry, you are not the creator of this company\"\n            }\n        }\n        \n        $member_map = DBFind(\"members\").Where(\"id = $\", $key_id).Row()\n        if !$member_map {\n            warning \"You are not a member of the ecosystem\"\n        }\n    }\n    \n    action {\n        var creator map\n        creator[\"member_id\"] = $member_map[\"id\"]\n        creator[\"member_name\"] = $member_map[\"member_name\"]\n        creator[\"image_id\"] = $member_map[\"image_id\"]\n        \n        var imageId int\n        if Size($icon) > 0 {\n            // binaries index: app_id + member_id + name\n            // TODO: GET app_id for real applications id. It is zero for debug\n            var appId, memberId int\n            appId = 0\n            memberId = $key_id\n            imageId = UploadBinary(\"Name,Data,AppID,MemberID\", $role_name, $icon, appId, memberId)\n        }\n        \n        // insert role\n        if $role_type == 4 {\n            $result = DBInsert(\"roles\", \"role_name,role_type,image_id,creator,timestamp date_created,company_id\",\n            $role_name, $role_type, imageId, creator, $block_time, $company_id)\n        } else {\n            $result = DBInsert(\"roles\", \"role_name,role_type,image_id,creator,timestamp date_created,company_id\",\n            $role_name, $role_type, imageId, creator, $block_time, 0)\n        }\n    }\n}",
            "Name": "Roles_Create"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "contract catalog_ecosystems_Add {\n    data {\n        Ecosystem_name string\n        Ecosystem_number int\n        Logo string \"image\"\n        Ecosystem_type int\n        Description string\n        Conditions string\n        Flag_free int\n        Vde_form_address string \"optional\"\n        Vde_page string \"optional\"\n        Web_form_address string \"optional\"\n        Web_page string \"optional\"\n        Email string \"optional\"\n        Phone string \"optional\"\n    }\n    conditions {\n        var FOUNDER_ACCOUNT, DELEGATE_ACCOUNT string\n        FOUNDER_ACCOUNT = \"founder_account\"\n        DELEGATE_ACCOUNT = \"delegate_account\"\n        \n        if Size($Email) > 0 {\n            var emailParts int\n            emailParts = Split($Email, \"@\")\n            if Len(emailParts) != 2 {\n                warning \"Invalid email\"\n            }\n        }\n        \n        if Size($Logo) == 0 {\n            warning \"Required logo\"\n        }\n        var ecoExists map\n        ecoExists = DBFind(\"catalog_ecosystems\").Where(\"ecosystem_number=? and deleted=0\", $Ecosystem_number).Row()\n        if ecoExists {\n            info \"The ecosystem with same number already added\"\n        }\n\n        var isFounder, isDelegate bool\n        var founder, delegate map\n        founder = DBFind(\"parameters\").Where(\"name=?\", FOUNDER_ACCOUNT).Ecosystem($Ecosystem_number).Row()\n        isFounder = founder[\"value\"] == $key_id\n        \n        delegate = DBFind(\"parameters\").Where(\"name=?\", DELEGATE_ACCOUNT).Ecosystem($Ecosystem_number).Row()\n        if delegate {\n            isDelegate = delegate[\"value\"] == $key_id\n        }\n        if !(isFounder || isDelegate) {\n            warning \"Sorry, you can not add this ecosystem\"\n        }\n    }\n    \n    action {\n        var ecosystem_info map\n        ecosystem_info[\"description\"] = $Description\n        ecosystem_info[\"conditions\"] = $Conditions\n        ecosystem_info[\"email\"] = $Email\n        ecosystem_info[\"phone\"] = $Phone\n        \n        var url_address map\n        url_address[\"web_page\"] = $Web_page\n        url_address[\"web_form_address\"] = $Web_form_address\n        url_address[\"vde_page\"] = $Vde_page\n        url_address[\"vde_form_address\"] = $Vde_form_address\n        \n        var image_id int\n        image_id = DBInsert(\"binaries\", \"data\", $Logo)\n        \n        DBInsert(\"catalog_ecosystems\", \"ecosystem_name,ecosystem_number,ecosystem_type,image_id,ecosystem_info,url_address,flag_free\",\n        $Ecosystem_name, $Ecosystem_number, $Ecosystem_type, image_id, ecosystem_info, url_address, $Flag_free)\n    }\n}",
            "Name": "catalog_ecosystems_Add"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "contract catalog_ecosystems_Request {\n    data {\n        ecosystem_num int\n        pub_key string\n        comment string \"optional\"\n    }\n    \n    conditions {\n        if $ecosystem_num <= 1 {\n            warning \"Invalid number of Ecosystem\"\n        }\n        var requested string\n        requested = DBFind(\"membership_requests\").Where(\"member_id=?\", $key_id).Ecosystem($ecosystem_num).One(\"id\")\n        if requested {\n            warning \"Request was sent earlier\"\n        }\n        var id int\n        id = PubToID($pub_key)\n        if id != $key_id {\n            warning \"Invalid Public key\"\n        }\n    }\n    \n    action {\n        DBInsert($table_name, \"member_id,pub_key,comment\", $key_id, $pub_key, $comment)\n    }\n}",
            "Name": "catalog_ecosystems_Request"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "contract sysparams_DelegateRefresh{\n    func NotInArray(val string, arr array) bool{\n        var i int\n        // info arr\n        while i< Len(arr){\n            if val == arr[i]{\n                return false\n            }\n            i=i+1\n        }\n        return true\n    }\n    \n    conditions{\n        MainCondition()\n        \n        var ROLE_NAME string\n        var ROLE_ID int\n        ROLE_NAME = \"Delegate\"\n        ROLE_ID = 5\n        \n        // get role Id and Type\n        $role = DBFind(\"roles\").Where(\"role_name=? and id=? and delete=0\", ROLE_NAME, ROLE_ID).Row()\n        if !$role{\n            warning Sprintf(\"Role %q not found\", ROLE_NAME)\n        }\n        if EcosysParam(\"last_ecosystem_number\") == 0 {\n            warning \"last ecosystem number unknown\"\n        }\n    }\n    \n    action{\n        var DELEGATE_ACCOUNT string\n        DELEGATE_ACCOUNT = \"delegate_account\"\n        // get delegates ids\n        var delegateIds, currentDelegates array\n        var dIndex, i int\n        \n        var lastEcosystemNumber int\n        lastEcosystemNumber = Int(EcosysParam(\"last_ecosystem_number\"))\n        \n        i = 1\n        while i <= lastEcosystemNumber {\n            var delegateParam map\n            delegateParam = DBFind(\"parameters\").Where(\"name=?\", DELEGATE_ACCOUNT).Ecosystem(i).Row()\n            if !delegateParam{\n                delegateParam = DBFind(\"parameters\").Where(\"name='founder_account'\").Ecosystem(i).Row()\n            }\n            var delegateValue string\n            delegateValue = delegateParam[\"value\"]\n            if NotInArray(delegateValue, delegateIds){\n                delegateIds[dIndex] = delegateValue\n                dIndex = dIndex + 1\n            }\n            i = i + 1\n        }\n        \n        // remove old role assigns\n        currentDelegates = DBFind(\"roles_participants\").Where(\"role->id=? and deleted=0\", $role[\"id\"])\n        i = 0\n        while i < Len(currentDelegates){\n            var delegate map\n            delegate = currentDelegates[i]\n            if NotInArray(delegate[\"member_id\"], delegateIds){\n                var id int\n                id = Int(delegate[\"id\"])\n                Roles_Unassign(\"row_id\", id)\n            }\n            i = i + 1\n        }\n        \n        // assign new roles\n        i = 0\n        while i < Len(delegateIds) {\n            var delegateId int\n            delegateId = Int(delegateIds[i])\n            var member map\n            member = DBFind(\"members\").Where(\"id=?\",delegateId).Row()\n            if member{\n                // check role dup\n                var assigned map\n                assigned = DBFind(\"roles_participants\").Where(\"member->member_id=? and role->id=? and deleted=0\", delegateId, $role[\"id\"]).Row()\n                if !assigned{\n                    Roles_Assign(\"role_id,member_id\", Int($role[\"id\"]), Int(member[\"id\"]))\n                }\n            }\n            i=i+1\n        }\n    }\n}",
            "Name": "sysparams_DelegateRefresh"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "contract sysparams_InvestorRefresh {\n    func NotInArray(val string, arr array) bool{\n        var i int\n        // info arr\n        while i< Len(arr){\n            if val == arr[i]{\n                return false\n            }\n            i=i+1\n        }\n        return true\n    }\n    conditions{\n        MainCondition()\n        \n        // roles:id == 4 Investor with voting rights\n        $roleId = Int(DBFind(\"roles\").Where(\"id=4 and deleted=0\").One(\"id\"))\n        if !$roleId{\n            warning \"Investor role not found\"\n        }\n        $limitInvestors = Int(EcosysParam(\"investors_number\"))\n        if $limitInvestors == 0 {\n            warning \"Investors number not set\"\n        }\n    }\n    \n    action{\n        // get investors ids\n        var keysInvestors, assignedInvestors, investorsIds, assignedIds array\n        var dIndex, i int\n        keysInvestors = DBFind(\"keys\").Order(\"amount desc, id\").Limit($limitInvestors)\n        assignedInvestors = DBFind(\"roles_participants\").Where(\"role->id=? and deleted=0\", $roleId)\n        \n        // get ids\n        i=0\n        while i < Len(keysInvestors) {\n            var inv map\n            inv = keysInvestors[i]\n            investorsIds[i] = inv[\"id\"]\n            i = i + 1\n        }\n        i=0\n        while i < Len(assignedInvestors) {\n            var inv map\n            inv = assignedInvestors[i]\n            assignedIds[i] = inv[\"member_id\"]\n            i = i + 1\n        }\n        \n        // remove old investors\n        i = 0\n        while i < Len(assignedIds) {\n            if NotInArray(assignedIds[i], investorsIds){\n                var assigned map\n                assigned = DBFind(\"roles_participants\").Where(\"member->member_id=? and role->id=?\", assignedIds[i], $roleId).Row()\n                if assigned {\n                    Roles_Unassign(\"row_id\", Int(assigned[\"id\"]))\n                }\n            }\n            i = i+1\n        }\n        // add new investors\n        i = 0\n        while i < Len(investorsIds) {\n            if NotInArray(investorsIds[i], assignedIds){\n                Roles_Assign(\"role_id,member_id\", $roleId, investorsIds[i])\n            }\n            i = i+1\n        }\n    }\n}",
            "Name": "sysparams_InvestorRefresh"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "contract sysparams_AcceptValidator{\n    data{\n        VotingTemplateId string\n        KeyId string\n        VotingId string\n    }\n    func conditions{\n        var templateId int\n        templateId = Int(EcosysParam(\"voting_validators_template_id\"))\n        \n        var params map\n        params = DBFind(\"voting_templates\").Where(\"id=?\", templateId).Row()\n        if params{\n            warning \"Voting params not found\"\n        }\n\n        $Id = Int($KeyId)\n        var candidateId, oldRoleId, roleId int\n        oldRoleId = 2 // Candidate for validators\n        roleId = 3 // Validator\n        \n        candidateId = DBFind(\"sysparams_candidate\").Where(\"id=?\",$Id).One(\"candidate_key_id\")\n        if !candidateId {\n            warning \"Candidate key id not found\"\n        }\n        $rowId = Int(DBFind(\"roles_participants\").Where(\"deleted=0 and role->id=? and member->member_id=?\", oldRoleId, candidateId).One(\"id\"))\n        \n        $roleId = Int(DBFind(\"roles\").Where(\"role->id=? and deleted=0\", roleId).One(\"id\"))\n        if $roleId == 0 {\n            warning \"Validator role not found\"\n        }\n    }\n    \n    func action{\n        if $rowId > 0 {\n            Roles_Unassign(\"row_id\", $rowId)\n        }\n        Roles_Assign(\"role_id,member_id\", $roleId, $Id)\n    }\n}",
            "Name": "sysparams_AcceptValidator"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "contract sysparams_CandidateValidatorRequest{\n    data{\n        HostIp string\n        // CommissionPub string\n        CommissionAddress string\n        Description string \"optional\"\n        Comment string \"optional\"\n    }\n    \n    func IsNotValidIp(ip string)bool{\n        var parts array\n        var i, lenParts, part int\n        parts = Split(ip, \".\")\n        \n        lenParts = Len(parts)\n        if lenParts != 4{\n            return true\n        }\n        while i< lenParts {\n            part = Int(parts[i])\n            if part < 0{\n                return true\n            }\n            if part > 255{\n                return true\n            }\n            i = i+1\n        }\n        \n        return false\n    }\n    \n    conditions{\n        // $CommissionPub = Replace($CommissionPub, \" \", \"\")\n        // info Sprintf(\"%v %v\", $CommissionAddress, PubToID($CommissionPub))\n        // if $CommissionAddress != PubToID($CommissionPub) {\n        // info \"Address or Public key are invalid\"\n        // }\n        \n        $CommissionAddress = AddressToId($CommissionAddress)\n        if !DBFind(\"keys\").Where(\"id=?\", $CommissionAddress).Row(){\n            warning \"Address not valid\"\n        }\n        \n        if IsNotValidIp($HostIp){\n            warning \"Please enter a valid ip address\"\n        }\n        var roleName string\n        var roleId int\n        var role map\n        roleName = \"Candidate for validators\"\n        roleId = 2\n        role = DBFind(\"roles\").Where(\"role_name=? and id=? and deleted=0\", roleName, roleId).Row()\n        if !role{\n            warning Sprintf(\"Role %q not found\", roleName)\n        }\n        Roles_Assign(\"role_id,member_id\", roleId, $key_id)\n    }\n    \n    action{\n        \n        DBInsert(\"sysparams_candidate\", \"host_ip,commission_pub,commission_address,description,comment,candidate_key_id,timestamp date_created,deleted\", $HostIp, \"\", $CommissionAddress, $Description, $Comment, $key_id, $block_time, 0)\n        \n    }\n    \n}",
            "Name": "sysparams_CandidateValidatorRequest"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "contract sysparams_CandidateValidator_Delete{\n    data{\n        Id int\n    }\n    conditions{\n        var candidateId, roleId int\n        roleId = 2 // Candidate for validators\n        candidateId = DBFind(\"sysparams_candidate\").Where(\"id=?\",$Id).One(\"candidate_key_id\")\n        \n        $role = DBFind(\"roles_participants\").Where(\"deleted=0 and role->id=? and member->member_id=?\", roleId, candidateId).Row()\n        if !$role {\n            warning \"Candidate role not found\"\n        }\n    }\n    action{\n        DBUpdate(\"sysparams_candidate\", $Id, \"deleted\", 1)\n        Roles_Unassign(\"row_id\", Int($role[\"id\"]))\n    }\n}",
            "Name": "sysparams_CandidateValidator_Delete"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "contract Roles_Del {\n    data {\n        role_id int\n    }\n    \n    conditions {        \n        var role map\n        role = DBFind(\"roles\").Columns(\"id,role_type,creator->member_id\").Where(\"id=?\", $role_id).Row()\n        if !role {\n            warning \"Role not found\"\n        }\n        \n        if role[\"role_type\"] == 3 {\n            warning \"System role can not be removed\"\n        }\n        \n        if role[\"creator.member_id\"] != $key_id {\n            warning \"Sorry, you are not the creator of this role\"\n        }\n    }\n    \n    action {\n        var participants array\n        participants = DBFind(\"roles_participants\").Columns(\"id\").Where(\"role->id=? and deleted=0\", $role_id)\n        \n        // delete all participants\n        var i int\n        while i < Len(participants) {\n            var p map\n            p = participants[i]\n            Roles_Unassign(\"row_id\", Int(p[\"id\"]))\n            i = i + 1\n        }\n        \n        DBUpdate(\"roles\", $role_id, \"deleted,timestamp date_deleted\", 1, $block_time)\n    }\n}",
            "Name": "Roles_Del"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "contract voting_SubjectCheckFulldata {\n    data {\n        votingID int\n    }\n    func safeJsonToMap(m string) map {\n        var res map\n        if Size(m) > 0 { res = JSONToMap(m) }\n        return res\n    }\n    \n    conditions {\n        $voting_map = DBFind(\"votings\").Columns(\"id,optional,voting->type,voting->type_decision,flags\").Where(\"id=?\", $votingID).Row()\n        if !$voting_map {\n            warning \"Voting is not found\"\n        }\n        \n        $type_decision = $voting_map[\"voting.type_decision\"]\n        if $type_decision < 1 || $type_decision > 5 {\n            warning \"invalid type of decision\"\n        }\n        \n        $subject_map = DBFind(\"votings_subject\").Where(\"voting_id=?\", $votingID).Row()\n        if !$subject_map {\n            warning \"Subject of voting is not found\"\n        }\n    }\n    \n    action {\n        var flags, subject map\n        flags = safeJsonToMap($voting_map[\"flags\"])\n        if $type_decision > 2 && $type_decision <= 5 {\n            subject = safeJsonToMap($subject_map[\"subject\"])\n        }\n        \n        var fullData string\n        \n        if $type_decision == 1 || $type_decision == 2 {\n            var optional map\n            optional = safeJsonToMap($voting_map[\"optional\"])\n            \n            if optional[\"number_candidates\"] > 0 && optional[\"role_vacancies\"] > 0 && optional[\"role_id\"] > 0 {\n                fullData = 1\n            }\n        }\n        \n        if $type_decision == 3 {\n            if subject[\"text\"] != \"\" && subject[\"hash\"] != \"\" {\n                fullData = 1\n            }\n        }\n        \n        if $type_decision == 4 {\n            if $voting_map[\"voting.type\"] == 1{ // personal\n                if subject[\"table\"] != \"\" && subject[\"table_id\"] != \"\" && subject[\"column\"] != \"\" && subject[\"column_value\"] != \"\" {\n                    fullData = 1\n                }\n            }\n            if $voting_map[\"voting.type\"] == 2 { // system\n                if subject[\"column\"] != \"\" && subject[\"column_value\"] != \"\" {\n                    fullData = 1\n                }\n            }\n        }\n        \n        if $type_decision == 5 {\n            if subject[\"contract_accept\"] != \"\" && subject[\"contract_reject\"] != \"\" {\n                fullData = 1\n            }\n        }\n        \n        if fullData == 1 {\n            flags[\"full_data\"] = 1\n            DBUpdate(\"votings\", $votingID, \"flags\", flags)\n        }\n    }\n}",
            "Name": "voting_SubjectCheckFulldata"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "contract sysparams_StartVotingValidator{\n    data{\n        KeyId int\n    }\n    \n    conditions{\n        ContractConditions(\"MainCondition\")\n        $candidate = DBFind(\"sysparams_candidate\").Where(\"candidate_key_id=? and deleted=0\", $KeyId).Row()\n        if !$candidate{\n            warning \"Candidate not found\"\n        }\n    }\n    action{\n        sysparams_DelegateRefresh()\n    }\n}",
            "Name": "sysparams_StartVotingValidator"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "contract sysparams_UpdateFullNodesKeysList{\n    data{\n        Param string\n    }\n    func jsonToArray(json string) array {\n        // kostyl\n        var res, parts array\n        if HasPrefix(json, \"[\") {\n            json = Substr(json, 1, Size(json)-2)\n            if Contains(json, \"},\"){\n                // json have many objects\n                parts = Split(json, \"},\")\n                var i int\n                while i < Len(parts){\n                    var p, lastSym string\n                    p = parts[i]\n                    lastSym = Substr(p, Size(p)-1, 1)\n                    if lastSym != \"}\"{\n                        p = Sprintf(\"%v}\", p)\n                    }\n                    res[i] = JSONToMap(p)\n                    i=i+1\n                }\n            }else{\n                res[0] = JSONToMap(json)\n            }\n        }\n        return res\n    }\n    conditions{\n        $FULL_NODES_KEYS = \"full_nodes_keys\"\n        $FULL_NODES = \"full_nodes\"\n        $paramId = DBFind(\"parameters\").Where(\"name=?\", $FULL_NODES_KEYS).One(\"id\")\n    }\n    \n    action{\n        if $Param != $FULL_NODES {\n            return\n        }\n        var nodesJson string\n        nodesJson = SysParamString($FULL_NODES)\n        var nodes, keys array\n        nodes = jsonToArray(nodesJson)\n        \n        var i int\n        while i<Len(nodes){\n            var node map\n            node = nodes[i]\n            keys[i] = node[\"key_id\"]\n            i=i+1\n        }\n        var keysList, cond string\n        keysList = Join(keys, \",\")\n        cond = `ContractConditions(\"MainCondition\")`\n        if $paramId {\n            DBUpdate(\"parameters\", Int($paramId), \"value,conditions\", keysList, cond)\n        }else{\n            DBInsert(\"parameters\", \"name,value,conditions\", $FULL_NODES_KEYS, keysList, cond)\n        }\n    }\n}",
            "Name": "sysparams_UpdateFullNodesKeysList"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "contract sysparams_ValidatorResign{\n    data{}\n    \n    conditions{\n        $assigned = DBFind(\"roles_participants\").Columns(\"id,member->member_id,role->id,role->name,deleted\").Where(\"member->member_id=? and role->id='3' and role->name='Validator' and deleted=0\", $key_id).One(\"id\")\n        if !$assigned {\n            warning \"You are not a validator\"\n        }\n    }\n    \n    action{\n        Roles_Unassign(\"row_id\", Int($assigned))\n        sysparams_RemoveNode()\n    }\n}",
            "Name": "sysparams_ValidatorResign"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "contract voting_CheckDecision {\n    data {\n        votingID int\n    }\n    func runContract(cont, p string){\n        if Size(cont) > 0 {\n            var params map\n            if Size(p) > 0 {\n                params = JSONToMap(p)\n            }\n            CallContract(cont, params)\n        }\n    }\n    func percentPartOfTotal(part, total int) int {\n        if total == 0{ total = 1 }\n        var percent int\n        percent = Int((part * 100)/total)\n        if percent > 100 { percent = 100 }\n        return percent\n    }\n    conditions {\n        $voting_map = DBFind(\"votings\").Columns(\"voting->name,voting->type,voting->quorum,voting->type_decision,flags->success,progress->number_voters,optional->role_id,optional->role_vacancies,optional->contract_accept,optional->contract_reject,optional->contract_accept_params,optional->contract_reject_params\").Where(\"id=? and (CAST(progress->percent_voters as INTEGER)>=CAST(voting->quorum as INTEGER) or date_ended<now())\", $votingID).Row()\n        if !$voting_map {\n            warning \"Voting has not expired. Try again later, please\"\n        }\n        \n        $subject_id = DBFind(\"votings_subject\").Where(\"voting_id=$\", $votingID).One(\"id\")\n        if !$subject_id {\n            warning \"Subject of voting is not found\"\n        }\n        \n        $voting_name = $voting_map[\"voting.name\"]\n        $voting_type = Int($voting_map[\"voting.type\"]) //system or custom\n        $quorum = Int($voting_map[\"voting.quorum\"])\n        $type_decision = Int($voting_map[\"voting.type_decision\"])\n        $optional_role_id = Int($voting_map[\"optional.role_id\"])\n        $number_role_vacancies = Int($voting_map[\"optional.role_vacancies\"])\n        $number_voters = Int($voting_map[\"progress.number_voters\"]) // already voted\n        $contract_accept = $voting_map[\"optional.contract_accept\"]\n        $contract_reject = $voting_map[\"optional.contract_reject\"]\n        $param_accept = $voting_map[\"optional.contract_accept_params\"]\n        $param_reject = $voting_map[\"optional.contract_reject_params\"]\n        $flag_success = $voting_map[\"flags.success\"]\n    }\n    \n    action {\n        // if notifications have been sent, then close it\n        var notes array\n        notes = DBFind(\"notifications\").Where(\"page_name='voting_view' and page_params::jsonb->voting_id=? and closed=0\", $votingID)\n        var i int\n        while i < Len(notes) {\n            var note map\n            note = notes[i]\n            Notifications_Single_Close(\"notific_id\", Int(note[\"id\"]))\n            i = i + 1\n        }\n        \n        var percent_voters, flag_decision int\n        flag_decision = -2 // decision can not be made (not enough participants to make a decision)\n        if $flag_success == 1 { //now enough participants to make a decision\n            \n            if $type_decision == 1 || $type_decision == 2 {\n                var candidates_added_count int\n                candidates_added_count = 0 // candidates who have already been added\n                flag_decision = -1 // none of the candidates has been added yet\n                \n                var subjects array\n                subjects = DBFind(\"votings_subject\").Columns(\"voting_id,number_accept,subject->member_id,subject->member_name,subject->image_id\").Where(\"voting_id=$\", $votingID).Order(\"number_accept DESC\")\n                i = 0\n                while i < Len(subjects) {\n                    var subject map\n                    subject = subjects[i]\n                    \n                    // if there are still vacancies\n                    if candidates_added_count < $number_role_vacancies {\n                        percent_voters = percentPartOfTotal(Int(subject[\"number_accept\"]), $number_voters)\n                        \n                        if percent_voters >= $quorum {\n                            // added candidate to the role\n                            var role map\n                            role = DBFind(\"roles\").Columns(\"id,role_type,role_name,image_id\").Where(\"id=$\", $optional_role_id).Row()\n                            if role {\n                                var member, assignedMember map\n                                member[\"member_id\"] = subject[\"subject.member_id\"]\n                                assignedMember = DBFind(\"roles_participants\").Where(\"member->member_id=? and role->id=? and deleted=0\", member[\"member_id\"], role[\"id\"]).Row()\n                                \n                                if !assignedMember {\n                                    member[\"member_name\"] = subject[\"subject.member_name\"]\n                                    member[\"image_id\"] = subject[\"subject.image_id\"]\n                                    \n                                    var rolePart map\n                                    rolePart[\"id\"] = role[\"id\"]\n                                    rolePart[\"type\"] = role[\"role_type\"]\n                                    rolePart[\"name\"] = role[\"role_name\"]\n                                    rolePart[\"image_id\"] = role[\"image_id\"]\n                                    \n                                    var appointed map\n                                    appointed[\"voting_id\"] = $votingID\n                                    appointed[\"voting_name\"] = $voting_name\n                                    \n                                    // add a candidate to the role\n                                    DBInsert(\"roles_participants\", \"role,member,appointed,timestamp date_created\", rolePart, member, appointed, $block_time)\n                                    \n                                    candidates_added_count = candidates_added_count + 1\n                                    // if at least one of the candidates was added to the role, then the voting decision is considered successful\n                                    flag_decision = 1\n                                }\n                            }\n                        }\n                    }\n                    i = i + 1\n                }\n            }\n            \n            if $type_decision == 3 {\n                var subject map\n                subject = DBFind(\"votings_subject\").Columns(\"id,number_accept\").Where(\"voting_id=$\", $votingID).Row()\n                if subject {\n                    percent_voters = percentPartOfTotal(Int(subject[\"number_accept\"]), $number_voters)\n                    if percent_voters >= $quorum {\n                        flag_decision = 1 // accepted\n                    } else {\n                        flag_decision = -1 // rejected\n                    }\n                }\n            }\n            \n            if $type_decision == 4 {\n                var subject map\n                subject = DBFind(\"votings_subject\").Columns(\"id,number_accept,subject->table,subject->table_id,subject->column,subject->column_value\").Where(\"voting_id=$\", $votingID).Row()\n                if subject {\n                    percent_voters = percentPartOfTotal(Int(subject[\"number_accept\"]), $number_voters)\n                    if percent_voters >= $quorum {\n                        flag_decision = 1 // accepted\n                        \n                        var column, value string\n                        column = Str(subject[\"subject.column\"])\n                        value = Str(subject[\"subject.column_value\"])\n                        \n                        // type of voting - custom\n                        if $voting_type == 1 {\n                            // ALWAYS CHECK THE PERMISSION\n                            DBUpdate(subject[\"subject.table\"], Int(subject[\"subject.table_id\"]), column, value)\n                        }\n                        \n                        // type of voting - system\n                        if $voting_type == 2 {\n                            DBUpdateSysParam(column, value, \"\")\n                        }\n                    } else {\n                        flag_decision = -1 // rejected\n                    }\n                }\n            }\n            \n            if $type_decision == 5 {\n                var subject map\n                subject = DBFind(\"votings_subject\").Columns(\"id,number_accept,subject->contract_accept,subject->contract_reject,subject->contract_accept_params,subject->contract_reject_params\").Where(\"voting_id=$\", $votingID).Row()\n                if subject {\n                    $contract_accept = subject[\"subject.contract_accept\"]\n                    $contract_reject = subject[\"subject.contract_reject\"]\n                    $param_accept = subject[\"subject.contract_accept_params\"]\n                    $param_reject = subject[\"subject.contract_reject_params\"]\n                    \n                    percent_voters = percentPartOfTotal(Int(subject[\"number_accept\"]), $number_voters)\n                    if percent_voters >= $quorum {\n                        flag_decision = 1 // accepted\n                    } else {\n                        flag_decision = -1 // rejected\n                    }\n                }\n            }\n            \n            if flag_decision == 1 {\n                runContract($contract_accept, $param_accept)\n            } else {\n                runContract($contract_reject, $param_reject)\n            }\n        }\n        \n        var voting, flags map\n        voting = DBFind(\"votings\").Columns(\"flags\").Where(\"id=?\", $votingID).Row()\n        flags = JSONToMap(voting[\"flags\"])\n        flags[\"decision\"] = flag_decision\n        DBUpdate(\"votings\", $votingID, \"flags\", flags)\n        // DBUpdate(\"votings\", $votingID, \"flags->decision\", flag_decision)\n    }\n}",
            "Name": "voting_CheckDecision"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "contract voting_UpdateDataForGraphs {\n    data {\n        votingID int\n    }\n    \n    func safeJsonToMap(m string) map {\n        var res map\n        if Size(m) > 0 { res = JSONToMap(m) }\n        return res\n    }\n  \n    func percentPartOfTotal(part, total int) int {\n        if total == 0{ total = 1 }\n        var percent int\n        percent = Int((part * 100)/total)\n        if percent > 100 { percent = 100 }\n        return percent\n    }\n    \n    conditions {\n        $voting_map = DBFind(\"votings\").Columns(\"flags,voting,progress\").Where(\"id=?\", $votingID).Row()\n        if !$voting_map {\n            warning \"Voting is not found\"\n        }\n    }\n    \n    action {\n        var progress, voting, flags map\n        progress = safeJsonToMap($voting_map[\"progress\"])\n        voting = safeJsonToMap($voting_map[\"voting\"])\n        flags = safeJsonToMap($voting_map[\"flags\"])\n        \n        var flag_success, percent_success, percent_voters, number_voters, quorum int\n        // increment count of voters\n        quorum = Int(voting[\"quorum\"])\n        number_voters = Int(progress[\"number_voters\"]) + 1\n        percent_voters = percentPartOfTotal(number_voters, Int(progress[\"number_participants\"]))\n        percent_success = percentPartOfTotal(percent_voters, Int(voting[\"volume\"]))\n        \n        // update the flag of success\n        if percent_success == 100 {\n            flag_success = 1\n        }\n        progress[\"percent_voters\"] = percent_voters\n        progress[\"percent_success\"] = percent_success\n        progress[\"number_voters\"] = number_voters\n        flags[\"success\"] = flag_success\n        \n        DBUpdate(\"votings\", $votingID, \"progress,flags\", progress, flags)\n        \n        if (percent_voters >= quorum && quorum > 50) || percent_voters == 100 {\n            // if a quorum is more than 50% we can immediately make the decision\n            // OR\n            // if all participants have voted we can not wait until the end of the voting period\n            \n            voting_CheckDecision(\"votingID\", $votingID)\n        }\n    }\n}",
            "Name": "voting_UpdateDataForGraphs"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "contract voting_AcceptCandidates {\n    data {\n        votingID int\n        candidateID int\n    }\n    \n    conditions {\n        $voting_map = DBFind(\"votings\").Columns(\"id,flags\").Where(\"id=?\", $votingID).Row()\n        if !$voting_map {\n            warning \"Voting is not found\"\n        }\n        \n        $subject_map = DBFind(\"votings_subject\").Where(\"voting_id=$ and subject->member_id=$\", $votingID, $candidateID).Row()\n        if !$subject_map {\n            warning \"Subject of voting is not found\"\n        }\n        \n        $participant_id = DBFind(\"votings_participants\").Where(\"voting_id=$ and member->member_id=$\", $votingID, $key_id).One(\"id\")\n        if !$participant_id {\n            warning \"You are not a participant in this voting\"\n        }\n    }\n    \n    action {\n        var flags map\n        flags = JSONToMap($voting_map[\"flags\"])\n        // if notifications have been sent, then close it\n        if flags[\"notifics\"] == 1 {\n            \n            $notific_id = DBFind(\"notifications\").Where(\"recipient->member_id=$ and page_name=$ and page_params->voting_id=$ and closed=$\", $key_id, \"voting_view\", $votingID, 0).One(\"id\")\n            \n            if $notific_id {\n                Notifications_Single_Close(\"notific_id\", Int($notific_id))\n            }\n        }\n        \n        // check the decision\n        if flags[\"decision\"] == 1 {\n            warning \"Decision was taken. Voting is now not possible\"\n        }\n        \n        // check start-end of voting time\n        var voting_start, voting_end string\n        voting_start = DBFind(\"votings\").Where(\"id=$ and date_started < now()\", $votingID).One(\"id\")\n        voting_end = DBFind(\"votings\").Where(\"id=$ and date_ended > now()\", $votingID).One(\"id\")\n        if !voting_start {\n            warning \"Voting has not yet begun. Try again later, please\"\n        }\n        if !voting_end {\n            warning \"Voting has expired. Voting is now not possible\"\n        }\n        \n        //-----------------------------------------------------------------------------------------------\n        \n        // write the result of the voting\n        DBUpdate(\"votings_participants\", Int($participant_id), \"timestamp decision_date,decision\", $block_time, $candidateID)\n        \n        // increment count of accept\n        DBUpdate(\"votings_subject\", Int($subject_map[\"id\"]), \"+number_accept\", 1)\n        \n        voting_UpdateDataForGraphs(\"votingID\", $votingID)\n    }\n}",
            "Name": "voting_AcceptCandidates"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "contract voting_Invite {\n    data {\n        votingID int\n        var_id int //0, member_id, role_id\n    }\n    func safeJsonToMap(m string) map {\n        var res map\n        if Size(m) > 0 { res = JSONToMap(m) }\n        return res\n    }\n    func addVotingMember(fullMember map, votingId int) {\n        var member map\n        member[\"member_id\"] = fullMember[\"id\"]\n        member[\"member_name\"] = fullMember[\"member_name\"]\n        member[\"image_id\"] = fullMember[\"image_id\"]\n        DBInsert(\"votings_participants\", \"voting_id,member\", votingId, member)\n    }\n    conditions {\n        $voting_map = DBFind(\"votings\").Columns(\"progress,progress->number_participants,voting->type_participants,voting->type,id,date_ended\").Where(\"id=$ and date_ended > now()\", $votingID).Row()\n        if !$voting_map {\n            warning \"Voting has expired. Can not add new participants\"\n        }\n        \n        $type_participants = $voting_map[\"voting.type_participants\"]\n        $type_voting = $voting_map[\"voting.type\"]\n        $number_participants = Int($voting_map[\"progress.number_participants\"])\n        \n        if $number_participants > 1 && $type_voting == 2 {\n            warning \"This vote is a system. Add new participants are not possible\"\n        }\n        var isAdded string\n        if $type_participants == 2 { \n            isAdded = DBFind(\"votings_participants\").Where(\"voting_id=$ and member->member_id=$\", $votingID, $var_id).One(\"id\")\n            if isAdded {\n                warning \"Member has already been added before\"\n            }\n        }\n        \n        if $type_participants == 3 { \n            isAdded = DBFind(\"votings_participants\").Where(\"voting_id=$\", $votingID).One(\"id\")\n            if isAdded {\n                warning \"Voting participants have already been added before\"\n            }\n        }\n    }\n    \n    action {\n        var i int\n        if $type_participants == 1 { // everybody\n            var members array\n            members = DBFind(\"members\")\n            i=0\n            while i < Len(members) {\n                addVotingMember(members[i], $votingID)\n                $number_participants = $number_participants + 1\n                i = i + 1\n            }\n        }\n        \n        if $type_participants == 2 { // manual\n            var member map\n            member = DBFind(\"members\").Where(\"id=?\", $var_id).Row()\n            if member {\n                addVotingMember(member, $votingID)\n                $number_participants = $number_participants + 1\n            }\n        }\n        \n        if $type_participants == 3 { // role\n            var roles array\n            roles = DBFind(\"roles_participants\").Where(\"role->id=$ and deleted=0\", $var_id).Order(\"id\")\n            i=0\n            while i < Len(roles) {\n                var role map\n                role = roles[i]\n                DBInsert(\"votings_participants\", \"voting_id,member\", $votingID, role[\"member\"])\n                $number_participants = $number_participants + 1\n                i = i + 1\n            }\n        }\n        \n        var progress map\n        progress = safeJsonToMap($voting_map[\"progress\"])\n        progress[\"number_participants\"] = $number_participants\n        DBUpdate(\"votings\", $votingID, \"progress\", progress)\n    }\n}",
            "Name": "voting_Invite"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "contract voting_Delete {\n    data {\n        votingID int\n    }\n\n    conditions {\n        var voting map\n        $voting_map = DBFind(\"votings\").Columns(\"creator->member_id,date_started,id\").Where(\"id=? and date_started > now()\", $votingID).Row()\n        if !$voting_map {\n            warning \"Voting already started. Delete voting impossible\"\n        }\n\n        if $voting_map[\"creator.member_id\"] != $key_id {\n            warning \"You are not the creator of the voting\"\n        }\n    }\n\n    action {\n        DBUpdate(\"votings\", $votingID, \"deleted\", 1)\n    }\n}",
            "Name": "voting_Delete"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "contract voting_CreateNew {\n    data {\n        voting_name string\n        voting_type int\n        type_participants int\n        type_decision int\n        \n        volume int\n        quorum int\n        \n        now_date string \"date\"\n        start_time string \"date\"\n        start_date string \"date\"\n        end_date string \"date\"\n        end_time string \"date\"\n        \n        description string \"optional\"\n    }\n    \n    func conditions {\n        $date_started = $start_date + \" \" + $start_time\n        $date_ended = $end_date + \" \" + $end_time\n        var m string\n        \n        if $now_date >= $date_started {\n            m = Sprintf(\"Voting start date [%v] is less than the current date [%v]\", $date_started, $now_date)\n            warning m\n        }\n        \n        if $date_started >= $date_ended {\n            m = Sprintf(\"Voting end date [%v] is less than the start date [%v]\", $date_ended, $date_started)\n            warning m\n        }\n        \n        if ($volume < 50) || ($volume > 100) {\n            m = Sprintf(\"Volume [%v] should be in the range from 50 to 100\", $volume)\n            warning m\n        }\n        \n        if ($quorum < 5) || ($quorum > 100) {\n            m = Sprintf(\"Quorum [%v] should be in the range from 5 to 100\", $quorum)\n            warning m\n        }\n        \n        $member_map = DBFind(\"members\").Where(\"id=$\", $key_id).Row()\n        if !$member_map {\n            warning \"You are not a member of the ecosystem\"\n        }\n    }\n    \n    func action {\n        var voting map\n        voting[\"name\"] = $voting_name\n        voting[\"type\"] = $voting_type\n        voting[\"description\"] = $description\n        voting[\"type_participants\"] = $type_participants\n        voting[\"type_decision\"] = $type_decision\n        voting[\"volume\"] = $volume\n        voting[\"quorum\"] = $quorum\n        \n        var progress map\n        progress[\"number_participants\"] = \"0\"\n        progress[\"number_voters\"] = \"0\"\n        progress[\"percent_success\"] = \"0\"\n        progress[\"percent_voters\"] = \"0\"\n        \n        var flags map\n        flags[\"success\"] = \"0\"\n        flags[\"decision\"] = \"0\"\n        flags[\"full_data\"] = \"0\"\n        flags[\"notifics\"] = \"0\"\n        \n        var creator map\n        creator[\"member_id\"] = $member_map[\"id\"]\n        creator[\"member_name\"] = $member_map[\"member_name\"]\n        creator[\"image_id\"] = $member_map[\"image_id\"]\n        \n        var votingId int\n        votingId = DBInsert(\"votings\", \"voting,progress,flags,creator,date_started,date_ended\", voting, progress, flags, creator, $date_started, $date_ended)\n        \n        // if all members are voting participants\n        if $type_participants == 1 {\n            voting_Invite(\"votingID,var_id\", votingId, 0)\n        }\n        $result = votingId\n    }\n}",
            "Name": "voting_CreateNew"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "contract voting_AcceptDecision {\n    data {\n        votingID int\n    }\n    \n    conditions {\n        $voting_map = DBFind(\"votings\").Columns(\"id,flags->decision,flags->notifics\").Where(\"id=?\", $votingID).Row()\n        if !$voting_map {\n            warning \"Voting is not found\"\n        }\n        \n        $subject_map = DBFind(\"votings_subject\").Where(\"voting_id=$\", $votingID).Row()\n        if !$subject_map {\n            warning \"Subject of voting is not found\"\n        }\n        \n        $participant_id = DBFind(\"votings_participants\").Where(\"voting_id=$ and member->member_id=$\", $votingID, $key_id).One(\"id\")\n        if !$participant_id {\n            warning \"You are not a participant in this voting\"\n        }\n    }\n    \n    action {\n        // if notifications have been sent, then close it\n        if $voting_map[\"flags.notifics\"] == 1 {\n            var noteId string\n            noteId = DBFind(\"notifications\").Where(\"recipient->member_id=$ and page_name=$ and page_params->voting_id=$ and closed=$\", $key_id, \"voting_view\", $votingID, 0).One(\"id\")\n            if noteId {\n                Notifications_Single_Close(\"notific_id\", Int(noteId))\n            }\n        }\n        \n        // check the decision\n        if $voting_map[\"flags.decision\"] == 1 {\n            warning \"Decision was taken. Voting is now not possible\"\n        }\n        \n        // check start-end of voting time\n        var voting_start, voting_end string\n        voting_start = DBFind(\"votings\").Where(\"id=$ and date_started < now()\", $votingID).One(\"id\")\n        voting_end = DBFind(\"votings\").Where(\"id=$ and date_ended > now()\", $votingID).One(\"id\")\n        if !voting_start {\n            warning \"Voting has not yet begun. Try again later, please\"\n        }\n        if !voting_end {\n            warning \"Voting has expired. Voting is now not possible\"\n        }\n                \n        DBUpdate(\"votings_participants\", Int($participant_id), \"timestamp decision_date,decision\", $block_time, 1)\n        \n        // increment count of accept\n        DBUpdate(\"votings_subject\", Int($subject_map[\"id\"]), \"+number_accept\", 1)\n        \n        voting_UpdateDataForGraphs(\"votingID\", $votingID)\n    }\n}",
            "Name": "voting_AcceptDecision"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "contract voting_SendNotifics {\n    data {\n        votingID int\n    }\n    func safeJsonToMap(m string) map {\n        var res map\n        if Size(m) > 0 { res = JSONToMap(m) }\n        return res\n    }\n    conditions {\n        $voting_map = DBFind(\"votings\").Columns(\"id,date_ended\").Where(\"id=$ and date_ended > now()\", $votingID).One(\"id\")\n        if !$voting_map {\n            warning \"Voting has expired. Notifications can not be sent\"\n        }\n        \n        $voting_map = DBFind(\"votings\").Columns(\"voting->name,creator->member_id,flags->notifics,flags,date_started\").Where(\"id=$ and date_started < now()\", $votingID).Row()\n        if !$voting_map {\n            warning \"Voting has not yet begun. Try again later, please\"\n        }\n        if $voting_map[\"creator.member_id\"] != $key_id {\n            warning \"You are not the creator of the voting\"\n        }\n        if $voting_map[\"flags.notifics\"] == 1 {\n            warning \"Notifications have already been sent\"\n        }\n        \n        $voting_name = $voting_map[\"voting.name\"]\n    }\n    \n    action {\n        var participants array\n        participants = DBFind(\"votings_participants\").Where(\"voting_id=$ and decision=$\", $votingID, 0)\n        var i int\n        while i < Len(participants) {\n            var participant, member, params map\n            participant = participants[i]\n            member = safeJsonToMap(participant[\"member\"])\n            params[\"voting_id\"] = $votingID\n            Notifications_Single_Send_map(\"member_id,sender,icon_name,text_header,text_body,page_name,params_map\", Int(member[\"member_id\"]), 1, \"fa-check\", \"Voting\", $voting_name, \"voting_view\", params)\n            \n            i = i + 1\n        }\n        \n        var flags map\n        flags = safeJsonToMap($voting_map[\"flags\"])\n        flags[\"notifics\"] = 1\n        DBUpdate(\"votings\", $votingID, \"flags\", flags)\n    }\n}",
            "Name": "voting_SendNotifics"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "contract voting_SubjectCandidates {\n    data {\n        votingID int\n        memberID int\n    }\n    func safeJsonToMap(m string) map {\n        var res map\n        if Size(m) > 0 { res = JSONToMap(m) }\n        return res\n    }\n    \n    conditions {\n        $voting_map = DBFind(\"votings\").Columns(\"id,date_started,optional,voting->type,flags->full_data\").Where(\"id=? and date_started > now()\", $votingID).Row()\n        if !$voting_map {\n            warning \"Voting already started. Can not edit document\"\n        }\n        \n        if $voting_map[\"flags.full_data\"] == 1 && $voting_map[\"voting.type\"] == 2 {\n            warning \"This vote is a system. Change settings not allowed\"\n        }\n        \n        if $memberID == 0 {\n            $memberID = $key_id\n        }\n        \n        $subject_id = DBFind(\"votings_subject\").Where(\"voting_id=$ and subject->member_id=$\", $votingID, $memberID).One(\"id\")\n        if $subject_id {\n            warning \"This candidature for this role has already been added before\"\n        }\n        \n        $member_map = DBFind(\"members\").Where(\"id = $\", $memberID).Row()\n        if !$member_map {\n            warning \"Member not found\"\n        }\n    }\n    \n    action {\n        \n        var subject map\n        subject[\"member_id\"] = $member_map[\"id\"]\n        subject[\"member_name\"] = $member_map[\"member_name\"]\n        subject[\"image_id\"] = $member_map[\"image_id\"]\n        \n        DBInsert(\"votings_subject\", \"voting_id,subject\", $votingID, subject)\n        \n        var optional map\n        optional = safeJsonToMap($voting_map[\"optional\"])\n        \n        var number_candidates int\n        if optional[\"number_candidates\"]{\n            number_candidates = Int(optional[\"number_candidates\"])\n            number_candidates = number_candidates + 1\n        } else {\n            number_candidates = 1\n        }\n        \n        optional[\"number_candidates\"] = number_candidates\n        DBUpdate(\"votings\", $votingID, \"optional\", optional)\n        \n        //voting_SubjectCheckFulldata(\"votingID\", $votingID)\n    }\n}",
            "Name": "voting_SubjectCandidates"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "contract voting_SubjectSettings {\n    data {\n        votingID int\n        \n        roleID int\n        vacancies int\n        \n        contract_accept string \"optional\"\n        contract_accept_params string \"optional\"\n        contract_reject string \"optional\"\n        contract_reject_params string \"optional\"\n    }\n    func safeJsonToMap(m string) map {\n        var res map\n        if Size(m) > 0 { res = JSONToMap(m) }\n        return res\n    }\n    \n    conditions {\n        if $vacancies < 1 {\n            warning \"Number of vacancies can not be less than 1\"\n        }\n        \n        $voting_map = DBFind(\"votings\").Columns(\"optional,voting->type,flags->full_data\").Where(\"id=? and date_started > now()\", $votingID).Row()\n        \n        if !$voting_map {\n            warning \"Voting already started. Can not edit document\"\n        }\n        \n        if $voting_map[\"flags.full_data\"] == 1 && $voting_map[\"voting.type\"] == 2 {\n            warning \"This vote is a system. Change settings not allowed\"\n        }\n        var role map\n        role = DBFind(\"roles\").Where(\"id=? and deleted=0\", $roleID).Row()\n        if !role {\n            warning \"Specified role not found\"\n        }\n        \n        // roles_types: 1. assigned_role, 2. elective_role, 3. system_role, 4. company_role\n        if !(role[\"role_type\"] == 2 || role[\"role_type\"] == 3) {\n            warning \"The chosen role is not elective or has been removed\"\n        }\n    }\n    \n    action {\n        var optional map\n        optional = safeJsonToMap($voting_map[\"optional\"])\n        \n        optional[\"contract_accept\"] = $contract_accept\n        optional[\"contract_accept_params\"] = safeJsonToMap($contract_accept_params)\n        optional[\"contract_reject\"] = $contract_reject\n        optional[\"contract_reject_params\"] = safeJsonToMap($contract_reject_params)\n        optional[\"role_id\"] = $roleID\n        optional[\"role_vacancies\"] = $vacancies\n        \n        DBUpdate(\"votings\", $votingID, \"optional\", optional)\n        \n        voting_SubjectCheckFulldata(\"votingID\", $votingID)\n    }\n}",
            "Name": "voting_SubjectSettings"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "contract voting_SubjectContract {\n    data {\n        votingID int\n        \n        contract_accept string\n        contract_accept_params string \"optional\"\n        \n        contract_reject string\n        contract_reject_params string \"optional\"\n    }\n    func safeJsonToMap(m string) map {\n        var res map\n        if Size(m) > 0 { res = JSONToMap(m) }\n        return res\n    }\n    \n    conditions {\n        $voting_map = DBFind(\"votings\").Columns(\"id,date_started,voting->type,flags->full_data\").Where(\"id=? and date_started > now()\", $votingID).Row()\n        if !$voting_map {\n            warning \"Voting already started. Can not edit document\"\n        }\n        \n        if $voting_map[\"flags.full_data\"] == 1 && $voting_map[\"voting.type\"] == 2 {\n            warning \"This vote is a system. Change settings not allowed\"\n        }\n    }\n    \n    action {\n        var accept_params, reject_params map\n        accept_params = safeJsonToMap($contract_accept_params)\n        reject_params = safeJsonToMap($contract_reject_params)\n\n        var subject map\n        subject[\"contract_accept\"] = $contract_accept\n        subject[\"contract_accept_params\"] = accept_params\n        subject[\"contract_reject\"] = $contract_reject\n        subject[\"contract_reject_params\"] = reject_params\n        \n        $subject_id = DBFind(\"votings_subject\").Where(\"voting_id = $\", $votingID).One(\"id\")\n        if !$subject_id {\n            DBInsert(\"votings_subject\", \"voting_id,subject\", $votingID, subject)\n        } else {\n            DBUpdate(\"votings_subject\", Int($subject_id), \"subject\", subject)\n        }\n        \n        voting_SubjectCheckFulldata(\"votingID\", $votingID)\n    }\n}",
            "Name": "voting_SubjectContract"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "contract voting_SubjectDocument {\n    data {\n        votingID int\n        text_document string\n        \n        contract_accept string \"optional\"\n        contract_accept_params string \"optional\"\n        contract_reject string \"optional\"\n        contract_reject_params string \"optional\"\n    }\n    \n    func safeJsonToMap(m string) map {\n        var res map\n        if Size(m) > 0 { res = JSONToMap(m) }\n        return res\n    }\n    \n    conditions {\n        $voting_map = DBFind(\"votings\").Columns(\"id,date_started,flags->full_data,voting->type,optional\").Where(\"id=? and date_started > now()\", $votingID).Row()\n        if !$voting_map {\n            warning \"Voting already started. Can not edit document\"\n        }\n        \n        if $voting_map[\"flags.full_data\"] == 1 && $voting_map[\"voting.type\"] == 2 {\n            warning \"This vote is a system. Change settings not allowed\"\n        }\n    }\n    \n    action {\n        var subject map\n        subject[\"text\"] = $text_document\n        subject[\"hash\"] = Sha256($text_document)\n        \n        $subject_id = DBFind(\"votings_subject\").Where(\"voting_id = $\", $votingID).One(\"id\")\n        if !$subject_id {\n            DBInsert(\"votings_subject\", \"voting_id,subject\", $votingID, subject)\n        } else {\n            DBUpdate(\"votings_subject\", Int($subject_id), \"subject\", subject)\n        }\n        var accept_params, reject_params map\n        accept_params = safeJsonToMap($contract_accept_params)\n        reject_params = safeJsonToMap($contract_reject_params)\n\n        var optional map\n        optional = safeJsonToMap($voting_map[\"optional\"])\n        \n        optional[\"contract_accept\"] = $contract_accept\n        optional[\"contract_accept_params\"] = accept_params\n        optional[\"contract_reject\"] = $contract_reject\n        optional[\"contract_reject_params\"] = reject_params\n        \n        DBUpdate(\"votings\", $votingID, \"optional\", optional)\n        \n        voting_SubjectCheckFulldata(\"votingID\", $votingID)\n    }\n}",
            "Name": "voting_SubjectDocument"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "contract voting_SubjectFormal {\n    data {\n        votingID int\n        \n        description string \"optional\"\n        table_to_written string\n        row_id string\n        column_name string\n        written_value string\n        \n        contract_accept string \"optional\"\n        contract_accept_params string \"optional\"\n        contract_reject string \"optional\"\n        contract_reject_params string \"optional\"\n    }\n    \n    func safeJsonToMap(m string) map {\n        var res map\n        if Size(m) > 0 { res = JSONToMap(m) }\n        return res\n    }\n    \n    conditions {\n        $voting_map = DBFind(\"votings\").Columns(\"id,date_started,flags->full_data,voting->type,optional\").Where(\"id=? and date_started > now()\", $votingID).Row()\n        if !$voting_map {\n            warning \"Voting already started. Can not edit document\"\n        }\n        \n        if $voting_map[\"flags.full_data\"] == 1 && $voting_map[\"voting.type\"] == 2 {\n            warning \"This vote is a system. Change settings not allowed\"\n        }\n    }\n    \n    action {\n        var subject map\n        subject[\"description\"] = $description\n        subject[\"table\"] = $table_to_written\n        subject[\"table_id\"] = $row_id\n        subject[\"column\"] = $column_name\n        subject[\"column_value\"] = $written_value\n        \n        $subject_id = DBFind(\"votings_subject\").Where(\"voting_id = $\", $votingID).One(\"id\")\n        if !$subject_id {\n            DBInsert(\"votings_subject\", \"voting_id,subject\", $votingID, subject)\n        } else {\n            DBUpdate(\"votings_subject\", Int($subject_id), \"subject\", subject)\n        }\n        \n        var accept_params, reject_params map\n        accept_params = safeJsonToMap($contract_accept_params)\n        reject_params = safeJsonToMap($contract_reject_params)\n        \n        var optional map\n        optional = safeJsonToMap($voting_map[\"optional\"])\n        optional[\"contract_accept\"] = $contract_accept\n        optional[\"contract_accept_params\"] = accept_params\n        optional[\"contract_reject\"] = $contract_reject\n        optional[\"contract_reject_params\"] = reject_params\n        \n        DBUpdate(\"votings\", $votingID, \"optional\", optional)\n        \n        voting_SubjectCheckFulldata(\"votingID\", $votingID)\n    }\n}",
            "Name": "voting_SubjectFormal"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "contract voting_TemplateRun{\n    data{\n        TemplateId int\n        Start string \"date\"\n        End string \"date\"\n        \n        EndTime string \"date,optional\"\n        StartTime string \"date,optional\"\n        KeyId int \"optional\"\n        TableWritten string \"optional\"\n        RowId string \"optional\"\n        ColumnName string \"optional\"\n        NewValue string \"optional\"\n        TextDocument string \"optional\"\n    }\n    func checkInput(value, name string){\n        if Size(value) == 0 || value == \"NULL\" {\n            warning Sprintf(\"%q not found\", name)\n        }\n    }\n    func emptyOrValue(value string) string{\n        if value == \"NULL\" {\n            value = \"\"\n        }\n        return value\n    }\n    \n    conditions{\n        var template map\n        template = DBFind(\"voting_templates\").Where(\"id=?\",$TemplateId).Row()\n        if !template{\n            warning \"Voting template not found\"\n        }\n        if $KeyId != 0{\n            $keyFind = DBFind(\"keys\").Where(\"id=?\", $KeyId).Row()\n            if !$keyFind{\n                warning \"Key id not found\"\n            }\n        }\n        if $StartTime == \"\"{\n            $StartTime = \"00:00\"\n        }\n        if $EndTime == \"\"{\n            $EndTime = \"23:59\"\n        }\n        \n        var initContract string\n        initContract = template[\"init_contract\"]\n        if initContract != \"\" && initContract != \"NULL\"{\n            var initParam map\n            initParam[\"KeyId\"] = $KeyId\n            CallContract(initContract, initParam)\n        }\n        $voters = template[\"voters\"]\n        $candidates = template[\"candidates\"]\n        $votingName = template[\"title\"]\n        $volume = Int(template[\"volume\"])\n        $quorum = Int(template[\"quorum\"])\n        $type_voting = Int(template[\"type_voting\"])\n        $participants = Int(template[\"type_participants\"])\n        $decision = Int(template[\"type_decision\"])\n        $vacancies = Int(template[\"vacancies\"])\n        \n        $desc = Sprintf(\"%v template #%v\", $votingName, $TemplateId)\n        if $type_voting < 1 || $type_voting > 2 {\n            warning \"Invalid type of voting\"\n        }\n        $contractAccept = emptyOrValue(template[\"contract_accept\"])\n        $acceptParams = emptyOrValue(template[\"accept_params\"])\n        $contractReject = emptyOrValue(template[\"contract_reject\"])\n        $rejectParams = emptyOrValue(template[\"reject_params\"])\n        \n        if $decision == 1 || $decision == 2 {\n            // role-candidates\n            checkInput($candidates, \"Candidate role\")\n            var candidate map\n            candidate = DBFind(\"roles\").Where(\"id=? and deleted=0\", $candidates).Row()\n            if !candidate {\n                warning Sprintf(\"Candidates role (id: %v) not found\", $candidates)\n            }\n            $candidateId = Int(candidate[\"id\"])\n        }\n        \n        if $decision == 3 {\n            // document approval\n            checkInput($TextDocument, \"TextDocument\")\n        }\n        \n        if $decision == 4 {\n            // formal decision\n            // in the system vote need only a field and a value\n            checkInput($ColumnName, \"ColumnName\")\n            checkInput($NewValue, \"NewValue\")\n            if $type_voting == 2{\n                $desc = Sprintf(\"%v [template #%v] %v\", $votingName, $TemplateId, $ColumnName)\n            }\n            \n            if $type_voting == 1{\n                checkInput($TableWritten, \"TableWritten\")\n                checkInput($RowId, \"RowId\")\n                $desc = Sprintf(\"%v [template #%v] %v.%v.%v\", $votingName, $TemplateId, $TableWritten, $ColumnName, $RowId)\n            }\n            if $RowId == \"\" || $RowId == \"NULL\"{\n                $RowId = 0\n            }\n            \n        }\n        // check duplicated\n        // var isCreated map\n        // isCreated = DBFind(\"votings\").Where(\"voting->name=? and voting->description=? and deleted=0\", $votingName, $desc).Row()\n        // if isCreated{\n        //     info \"Voting already created\"\n        // }\n        \n        \n        if $participants == 3 {\n            // if the type of the participants \"in role\" - check the role\n            var role map\n            role = DBFind(\"roles\").Where(\"id=? and deleted=0\", $voters).Row()\n            if !role {\n                warning Sprintf(\"Voters role (id: %v) not found\", $voters)\n            }\n            $roleId = Int(role[\"id\"])\n        }\n    }\n    \n    action{\n        var votingId int\n        // must be installed in voting_CreateNew\n        votingId = voting_CreateNew(\"voting_name,voting_type,description,type_participants,type_decision,now_date,start_time,start_date,end_date,end_time,volume,quorum\", $votingName, $type_voting, $desc, $participants, $decision, $Start, $StartTime, $Start, $End, $EndTime, $volume, $quorum)\n        if votingId == 0 {\n            warning \"votingId is zero\"\n        }\n        // the default argument for Contract\n        var defaultParams string\n        defaultParams = Sprintf(`{\"VotingTemplateId\":\"%v\",\"KeyId\":\"%v\",\"VotingId\":\"%v\"}`, $TemplateId, $KeyId, votingId)\n        \n        if Size($acceptParams) == 0{\n            $acceptParams = defaultParams\n        }\n        if Size($rejectParams) == 0{\n            $rejectParams = defaultParams\n        }\n        \n        if $decision == 1 || $decision == 2{\n            // 1. Role candidates with the registration of participants on request\n            // 2. Role candidates with manual registration of the participants\n            voting_SubjectCandidates(\"votingID,memberID\", votingId, $KeyId)\n            voting_SubjectSettings(\"votingID,roleID,vacancies,contract_accept,contract_accept_params,contract_reject,contract_reject_params\", votingId, $candidateId, $vacancies, $contractAccept, $acceptParams, $contractReject,$rejectParams)\n        }\n        if $decision == 3 {\n            // Document approval\n            voting_SubjectDocument(\"votingID,text_document,contract_accept,contract_accept_params,contract_reject,contract_reject_params\", votingId,$TextDocument, $contractAccept, $acceptParams, $contractReject, $rejectParams)\n        }\n        \n        if $decision == 4 {\n            // Formal decision\n            voting_SubjectFormal(\"votingID,description,table_to_written,row_id,column_name,written_value,contract_accept,contract_accept_params,contract_reject,contract_reject_params\",votingId, $desc, $TableWritten, $RowId, $ColumnName, $NewValue, $contractAccept, $acceptParams, $contractReject, $rejectParams)\n            \n        }\n        \n        if $decision == 5 {\n            // Execution of the contract\n            voting_SubjectContract(\"votingID,contract_accept,contract_accept_params,contract_reject,contract_reject_params\",votingId,$contractAccept, $acceptParams, $contractReject, $rejectParams)\n        }\n        if $participants == 3 {\n            // participants: \"by role\"\n            voting_Invite(\"votingID,var_id\", votingId, $roleId)\n        }\n        if $participants == 1 {\n            // if the participants are \"all\", the invite has already occurred in \"voting_CreateNew\"\n        }\n    }\n}",
            "Name": "voting_TemplateRun"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "contract sysparams_StartNodeAdd{\n    data{\n        TcpAddress string\n        ApiAddress string\n        KeyId int\n        PubKey string\n        TemplateId int\n        Start string \"date\"\n        End string \"date\"\n        EndTime string \"date\"\n        StartTime string \"date\"\n    }\n    func warn(name, detail string){\n        warning Sprintf(\"%v invalid (%v)\", name, detail)\n    }\n    func checkApiAddress(addr string){\n        var name string\n        name = \"API Address\"\n        if Size(addr) == 0 {\n            warn(name, \"size\")\n        }\n        if !(HasPrefix(addr, \"http://\") || HasPrefix(addr, \"https://\")) {\n            warn(name, \"protocol\")\n        }\n        if Contains(addr, \" \") {\n            warn(name, \"space\")\n        }\n        addr = Replace(addr, \"http://\", \"\")\n        addr = Replace(addr, \"https://\", \"\")\n        var parts array\n        if Contains(addr, \":\") {\n            parts = Split(addr, \":\")\n            if Len(parts) > 2 {\n                warn(name, \":\")\n            }\n            var port string\n            port = parts[1]\n            if port <= 0 {\n                warn(name, \"port\")\n            }\n            addr = parts[0]\n        }\n    }\n    func checkTcpAddress(addr string){\n        var name string\n        name = \"TCP Address\"\n        if Size(addr) == 0 {\n            warn(name, \"size\")\n        }\n        if Contains(addr, \" \") {\n            warn(name, \"space\")\n        }\n        var parts array\n        if Contains(addr, \":\") {\n            parts = Split(addr, \":\")\n            if Len(parts) > 2 {\n                warn(name, \":\")\n            }\n            var port string\n            port = parts[1]\n            if port <= 0 {\n                warn(name, \"port\")\n            }\n            addr = parts[0]\n        }\n        parts = Split(addr, \".\")\n        if Len(parts) != 4 {\n            warn(name, \"too many parts\")\n        }\n        var i int\n        while i < 4 {\n            var n int\n            n = Int(parts[i])\n            if n < 0 || n > 255 {\n                warn(name, \"part\")\n            }\n            i=i+1\n        }\n    }\n    func checkPub(pub string){\n        if PubToID(pub) == 0 {\n            warning \"Public key invalid\"\n        }\n    }\n    func checkKeyId(keyid int){\n        var existed map\n        existed = DBFind(\"keys\").Where(\"id=?\", keyid).Row()\n        if !existed {\n            warning \"Key id not found\"\n        }\n    }\n    func getNodesString() string{\n        // kostyl\n        // return json-like string from full_nodes trimmed \"[\" and \"]\"\n        var nodes string\n        nodes = SysParamString(\"full_nodes\")\n        if HasPrefix(nodes, \"[\") {\n            nodes = Substr(nodes, 1, Size(nodes)-2)\n        }\n        return nodes\n    }\n    conditions{\n        var id int\n        id = Int(EcosysParam(\"voting_sysparams_template_id\"))\n        if $TemplateId != id || $TemplateId <= 0 {\n            warning \"Template id not found\"\n        }\n        checkKeyId($KeyId)\n        checkPub($PubKey)\n        checkApiAddress($ApiAddress)\n        checkTcpAddress($TcpAddress)\n    }\n    \n    action{\n        var sep, nodes, value int\n        sep = \",\"\n        nodes = getNodesString()\n        if Size(nodes) == 0{\n            sep = \"\"\n        }\n        value = Sprintf(`{\"tcp_address\":\"%v\", \"api_address\":\"%v\", \"key_id\":\"%v\", \"public_key\":\"%v\"}`, $TcpAddress, $ApiAddress, $KeyId, $PubKey)\n        nodes = Sprintf(\"[%v%v%v]\", nodes, sep, value)\n        voting_TemplateRun(\"TemplateId,Start,End,EndTime,StartTime,KeyId,TableWritten,RowId,ColumnName,NewValue,TextDocument\", $TemplateId, $Start, $End, $EndTime, $StartTime, 0, \"\", \"\", \"full_nodes\", nodes, \"\")\n    }\n}",
            "Name": "sysparams_StartNodeAdd"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "contract voting_TemplateStore{\n    data{\n        Title string\n        TypeParticipants int\n        TypeVoting int\n        TypeDecision int\n        Volume int\n        Quorum int\n        Subject string\n        Voters string \"optional\" // role of participant\n        Candidates string \"optional\" // role of candidate\n        InitContract string \"optional\" // Execute before the vote\n        Vacancies int \"optional\"\n        ContractAccept string \"optional\"\n        ParamsAccept string \"optional\"\n        ContractReject string \"optional\"\n        ParamsReject string \"optional\"\n    }\n    \n    func conditions{\n        if $TypeParticipants == 3 {\n            if Size($Voters) == 0 || $Voters == \"NULL\" || $Voters == 0 {\n                warning \"Voters role not found\"\n            }\n        }\n        if Size($Title) <3 {\n            warning \"Please enter title\"\n        }\n        if $Volume <0 || $Volume > 100 {\n            warning \"Wrong volume range\"\n        }\n        if $Quorum <0 || $Quorum > 100 {\n            warning \"Wrong quorum range\"\n        }\n        \n        if $TypeDecision == 1 || $TypeDecision == 2 {\n            if $Vacancies < 1 {\n                warning \"Wrong number vacancies\"\n            }\n            if $Candidates == \"NULL\" || $Candidates == 0 || Size($Candidates) == 0 {\n                warning \"Wrong candidate role\"\n            }\n        }\n        \n        if Size($InitContract) > 0{\n            if GetContractByName($InitContract) == 0 {\n                warning \"Init Contract not found\"\n            }\n        }\n        if Size($ContractAccept) > 0{\n            if GetContractByName($ContractAccept) == 0 {\n                warning \"Contract for accepted decision not found\"\n            }\n        }\n        if Size($ContractReject) > 0{\n            if GetContractByName($ContractReject) == 0{\n                warning \"Contract for rejected decision not found\"\n            }\n        }\n    }\n    \n    func action{\n        $result = DBInsert(\"voting_templates\", \"title,subject,voters,candidates,init_contract,volume,quorum,type_voting,type_participants,type_decision,vacancies,contract_accept,accept_params,contract_reject,reject_params\", $Title, $Subject, $Voters, $Candidates, $InitContract, $Volume, $Quorum, $TypeVoting, $TypeParticipants, $TypeDecision, $Vacancies, $ContractAccept, $ParamsAccept, $ContractReject, $ParamsReject)\n        \n    }\n}",
            "Name": "voting_TemplateStore"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "contract voting_RejectDecision {\n    data {\n        votingID int\n    }\n    \n    conditions {\n        $voting_map = DBFind(\"votings\").Columns(\"flags->decision,flags->notifics\").Where(\"id=$\", $votingID).Row()\n        if !$voting_map {\n            warning \"Voting is not found\"\n        }\n        \n        $participant_id = DBFind(\"votings_participants\").Where(\"voting_id=$ and member->member_id=$\", $votingID, $key_id).One(\"id\")\n        if !$participant_id {\n            warning \"You are not a participant in this voting\"\n        }\n    }\n    \n    action {\n        if $voting_map[\"flags.notifics\"] == 1 {\n            // close sent notifications\n            var notific_id string\n            notific_id = DBFind(\"notifications\").Where(\"recipient->member_id=$ and page_name='voting_view' and page_params->voting_id=$ and closed=0\", $key_id, $votingID).One(\"id\")\n            if notific_id {\n                Notifications_Single_Close(\"notific_id\", Int(notific_id))\n            }\n        }\n        \n        if $voting_map[\"flags.decision\"] == 1 {\n            warning \"Decision was taken. Voting is now not possible\"\n        }\n        var voting_start, voting_end string\n        voting_start = DBFind(\"votings\").Where(\"id=$ and date_started < now()\", $votingID).One(\"id\")\n        voting_end = DBFind(\"votings\").Where(\"id=$ and date_ended > now()\", $votingID).One(\"id\")\n        if !voting_start {\n            warning \"Voting has not yet begun. Try again later, please\"\n        }\n        if !voting_end {\n            warning \"Voting has expired. Voting is now not possible\"\n        }\n        \n        \n        DBUpdate(\"votings_participants\", Int($participant_id), \"timestamp decision_date,decision\", $block_time, -1)\n        \n        voting_UpdateDataForGraphs(\"votingID\", $votingID)\n    }\n}",
            "Name": "voting_RejectDecision"
        }
    ],
    "data": [
        {
            "Table": "voting_templates",
            "Columns": [
                "volume",
                "init_contract",
                "contract_reject",
                "contract_accept",
                "title",
                "vacancies",
                "candidates",
                "reject_params",
                "type_decision",
                "type_voting",
                "type_participants",
                "quorum",
                "voters",
                "subject",
                "accept_params"
            ],
            "Data": [
                [
                    "50",
                    "sysparams_StartVotingValidator",
                    "",
                    "sysparams_AcceptValidator",
                    "Voting for Validator",
                    "1",
                    "2",
                    "",
                    "2",
                    "2",
                    "3",
                    "50",
                    "5",
                    "Validator",
                    ""
                ],
                [
                    "75",
                    "sysparams_InvestorRefresh",
                    "",
                    "",
                    "Voting for System param",
                    "0",
                    "4",
                    "",
                    "4",
                    "2",
                    "3",
                    "50",
                    "4",
                    "System param",
                    ""
                ],
                [
                    "75",
                    "sysparams_InvestorRefresh",
                    "catalog_ecosystems_AcceptVES",
                    "",
                    "Voting for Value Ecosystem",
                    "0",
                    "4",
                    "",
                    "5",
                    "2",
                    "3",
                    "50",
                    "4",
                    "System param",
                    ""
                ]
            ]
        }
    ],
    "languages": [
        {
            "Name": "APL_not_required",
            "Trans": "{\"en\":\"APL not required\",\"ru\":\"   APL\"}"
        },
        {
            "Name": "APL_required",
            "Trans": "{\"en\":\"APL required\",\"ru\":\"  APL\"}"
        },
        {
            "Name": "accept",
            "Trans": "{\"en\": \"Accept\", \"ru\": \"\"}"
        },
        {
            "Name": "accept_request_member",
            "Trans": "{\"en\": \"Accept the request of this member?\", \"ru\": \"   ?\"}"
        },
        {
            "Name": "accepted",
            "Trans": "{\"en\": \"Accepted\", \"ru\": \"\"}"
        },
        {
            "Name": "account",
            "Trans": "{\"en\": \"Account\", \"ru\": \"\"}"
        },
        {
            "Name": "accounts",
            "Trans": "{\"en\": \"Accounts\", \"ru\": \"\"}"
        },
        {
            "Name": "actions",
            "Trans": "{\"en\": \"Actions\", \"ru\": \"\"}"
        },
        {
            "Name": "active",
            "Trans": "{\"en\": \"Active\", \"ru\": \"\"}"
        },
        {
            "Name": "add",
            "Trans": "{\"en\": \"Add\", \"ru\": \"\"}"
        },
        {
            "Name": "add_member",
            "Trans": "{\"en\": \"Add member\", \"ru\": \" \"}"
        },
        {
            "Name": "add_role",
            "Trans": "{\"en\": \"Add role\", \"ru\": \" \"}"
        },
        {
            "Name": "address",
            "Trans": "{\"en\":\"Address\",\"ru\":\"\"}"
        },
        {
            "Name": "admin",
            "Trans": "{\"en\":\"Administrator\",\"ru\":\"\"}"
        },
        {
            "Name": "admin_tools",
            "Trans": "{\"en\": \"Admin tools\", \"ru\": \" \"}"
        },
        {
            "Name": "agency",
            "Trans": "{\"en\": \"Agency\", \"ru\": \"\"}"
        },
        {
            "Name": "all",
            "Trans": "{\"en\": \"All\", \"ru\": \"\"}"
        },
        {
            "Name": "amount",
            "Trans": "{\"en\": \"Amount\", \"ru\": \"\"}"
        },
        {
            "Name": "apply",
            "Trans": "{\"en\": \"Apply\", \"ru\": \"\"}"
        },
        {
            "Name": "appointed",
            "Trans": "{\"en\": \"Appointed\", \"ru\": \"\"}"
        },
        {
            "Name": "appointment_impossible",
            "Trans": "{\"ru\":\"*    .   \",\"en\":\"*This role is not assignable. The appointment of members is impossible\"}"
        },
        {
            "Name": "arguments",
            "Trans": "{\"en\": \"Arguments\", \"ru\": \"\"}"
        },
        {
            "Name": "assign",
            "Trans": "{\"en\": \"Assign\", \"ru\": \"\"}"
        },
        {
            "Name": "assigned",
            "Trans": "{\"en\": \"Assigned\", \"ru\": \"\"}"
        },
        {
            "Name": "assigned_role",
            "Trans": "{\"en\": \"Assigned\", \"ru\": \"\"}"
        },
        {
            "Name": "at",
            "Trans": "{\"en\": \"at\", \"ru\": \"\"}"
        },
        {
            "Name": "attention",
            "Trans": "{\"en\": \"ATTENTION! The page has not received parameters and is unavailable for viewing.\", \"ru\": \"!         .\"}"
        },
        {
            "Name": "available",
            "Trans": "{\"en\":\"Available\",\"ru\":\"\"}"
        },
        {
            "Name": "avatar",
            "Trans": "{\"en\": \"Avatar\", \"ru\": \"\"}"
        },
        {
            "Name": "back",
            "Trans": "{\"en\": \"Back\", \"ru\": \"\"}"
        },
        {
            "Name": "balance",
            "Trans": "{\"en\": \"Balance\", \"ru\": \"\"}"
        },
        {
            "Name": "begin",
            "Trans": "{\"en\": \"Begin\", \"ru\": \"\"}"
        },
        {
            "Name": "birthdate",
            "Trans": "{\"en\": \"Birthdate\", \"ru\": \" \"}"
        },
        {
            "Name": "body_text",
            "Trans": "{\"en\":\"Text\",\"ru\":\"\"}"
        },
        {
            "Name": "business",
            "Trans": "{\"en\":\"Business\",\"ru\":\"\"}"
        },
        {
            "Name": "can_apply_voting",
            "Trans": "{\"en\": \"You can apply for voting\", \"ru\": \"     \"}"
        },
        {
            "Name": "candidates.1",
            "Trans": "{\"en\": \"Candidates\", \"ru\": \"\"}"
        },
        {
            "Name": "candidates",
            "Trans": "{\"en\": \"Candidates\", \"ru\": \"\"}"
        },
        {
            "Name": "candidates_role",
            "Trans": "{\"en\": \"Candidates role\", \"ru\": \" \"}"
        },
        {
            "Name": "catalog_ecosystems",
            "Trans": "{\"en\":\"Catalog of ecosystems\",\"ru\":\" \"}"
        },
        {
            "Name": "catalog_ecosystems_conditions",
            "Trans": "{\"en\":\"Ecosystem conditions and procedure for accession\",\"ru\":\"     \"}"
        },
        {
            "Name": "catalog_ecosystems_contact_email",
            "Trans": "{\"en\":\"Contact e-mail\",\"ru\":\"  \"}"
        },
        {
            "Name": "catalog_ecosystems_contact_phone",
            "Trans": "{\"en\":\"Contact phone\",\"ru\":\" \"}"
        },
        {
            "Name": "catalog_ecosystems_contact_vde_page",
            "Trans": "{\"en\":\"Web site\",\"ru\":\" \"}"
        },
        {
            "Name": "catalog_ecosystems_description",
            "Trans": "{\"en\":\"Ecosystem hardware description\",\"ru\":\"  \"}"
        },
        {
            "Name": "catalog_ecosystems_form",
            "Trans": "{\"en\":\"Add ecosystem to Catalog\",\"ru\":\"   \"}"
        },
        {
            "Name": "catalog_ecosystems_freetype",
            "Trans": "{\"en\":\"Availability of own funds for entry\",\"ru\":\"    \"}"
        },
        {
            "Name": "catalog_ecosystems_logo",
            "Trans": "{\"en\":\"Logotype image\",\"ru\":\" \"}"
        },
        {
            "Name": "catalog_ecosystems_name",
            "Trans": "{\"en\":\"Ecosystem name in the Catalog\",\"ru\":\"   \"}"
        },
        {
            "Name": "catalog_ecosystems_number",
            "Trans": "{\"en\":\"Ecosystem\",\"ru\":\"\"}"
        },
        {
            "Name": "catalog_ecosystems_type",
            "Trans": "{\"en\":\"Ecosystem type\",\"ru\":\" \"}"
        },
        {
            "Name": "change",
            "Trans": "{\"en\": \"Change\", \"ru\": \"\"}"
        },
        {
            "Name": "check_expiration",
            "Trans": "{\"en\": \"Check expiration\", \"ru\": \" \"}"
        },
        {
            "Name": "close",
            "Trans": "{\"en\": \"Close\", \"ru\": \"\"}"
        },
        {
            "Name": "closure_type",
            "Trans": "{\"en\": \"Closure type\", \"ru\": \" \"}"
        },
        {
            "Name": "column_name",
            "Trans": "{\"en\": \"Column name\", \"ru\": \" \"}"
        },
        {
            "Name": "column_name_desc",
            "Trans": "{\"en\": \"Column name to which the value will be written (Example: onhold)\", \"ru\": \" ,      (: onhold)\"}"
        },
        {
            "Name": "comment",
            "Trans": "{\n    \"en\": \"Comment\",\n    \"ru\": \"\"\n}"
        },
        {
            "Name": "commission_address",
            "Trans": "{\"en\":\"Account address\",\"ru\":\" \"}"
        },
        {
            "Name": "commission_pub",
            "Trans": "{\"en\":\"Account public key\",\"ru\":\"  \"}"
        },
        {
            "Name": "companies",
            "Trans": "{\"en\":\"Companies\",\"ru\":\"\"}"
        },
        {
            "Name": "company",
            "Trans": "{\"en\": \"Company\", \"ru\": \"\"}"
        },
        {
            "Name": "company_add",
            "Trans": "{\"en\":\"Add company\",\"ru\":\" \"}"
        },
        {
            "Name": "company_role",
            "Trans": "{\"en\":\"Company role\",\"ru\":\" \"}"
        },
        {
            "Name": "confirmation",
            "Trans": "{\"en\":\"Confirmation\",\"ru\":\"\"}"
        },
        {
            "Name": "contract",
            "Trans": "{\"en\": \"Contract\", \"ru\": \"\"}"
        },
        {
            "Name": "contract_accept",
            "Trans": "{\"en\": \"Contract of accept\", \"ru\": \"  \"}"
        },
        {
            "Name": "contract_accept_des",
            "Trans": "{\"en\": \"Name of the contract, which should be started if the decision is accepted\", \"ru\": \" ,    ,    \"}"
        },
        {
            "Name": "contract_accepted",
            "Trans": "{\"en\": \"Contract accept\", \"ru\": \" \"}"
        },
        {
            "Name": "contract_params_des",
            "Trans": "{\"ru\":\"   JSON\",\"en\":\"String in JSON format\"}"
        },
        {
            "Name": "contract_reject",
            "Trans": "{\"en\": \"Contract of reject\", \"ru\": \"  \"}"
        },
        {
            "Name": "contract_reject_des",
            "Trans": "{\"en\": \"Name of the contract, which should be started if the decision is rejected\", \"ru\": \" ,    ,    \"}"
        },
        {
            "Name": "contract_rejected",
            "Trans": "{\"en\": \"Contract reject\", \"ru\": \" \"}"
        },
        {
            "Name": "contracts",
            "Trans": "{\"en\": \"Contracts\", \"ru\": \"\"}"
        },
        {
            "Name": "copy",
            "Trans": "{\"en\": \"Copy\", \"ru\": \"\"}"
        },
        {
            "Name": "create",
            "Trans": "{\"en\": \"Create\", \"ru\": \"\"}"
        },
        {
            "Name": "create_account",
            "Trans": "{\"en\": \"Create account\", \"ru\": \" \"}"
        },
        {
            "Name": "created",
            "Trans": "{\"en\": \"Created\", \"ru\": \"\"}"
        },
        {
            "Name": "creator",
            "Trans": "{\"en\": \"Creator\", \"ru\": \" \"}"
        },
        {
            "Name": "dashboard",
            "Trans": "{\"en\": \"Dashboard\", \"ru\": \" \"}"
        },
        {
            "Name": "date_created",
            "Trans": "{\n    \"en\": \"Date created\",\n    \"ru\": \" \"\n}"
        },
        {
            "Name": "date_end",
            "Trans": "{\"en\": \"Date end\", \"ru\": \" \"}"
        },
        {
            "Name": "date_start",
            "Trans": "{\"en\": \"Date start\", \"ru\": \" \"}"
        },
        {
            "Name": "decision",
            "Trans": "{\"en\": \"Decision\", \"ru\": \"\"}"
        },
        {
            "Name": "decision_accept",
            "Trans": "{\"en\": \"Decision accept\", \"ru\": \" \"}"
        },
        {
            "Name": "decision_reject",
            "Trans": "{\"en\": \"Decision reject\", \"ru\": \" \"}"
        },
        {
            "Name": "delete_node",
            "Trans": "{\"en\": \"Delete node\", \"ru\": \" \"}"
        },
        {
            "Name": "delete_node_desc",
            "Trans": "{\"en\": \"The owner of the validating node can remove it from the list without a vote. Your key_id were found in the list of node owners and you can delete your entry at any time\", \"ru\": \"         .  key_id               \"}"
        },
        {
            "Name": "deleted",
            "Trans": "{\"en\": \"Deleted\", \"ru\": \"\"}"
        },
        {
            "Name": "description",
            "Trans": "{\"en\": \"Description\", \"ru\": \"\"}"
        },
        {
            "Name": "description_desc",
            "Trans": "{\"en\": \"Text description of the subject of voting\", \"ru\": \"   \"}"
        },
        {
            "Name": "description_equipment",
            "Trans": "{\"en\":\"Description equipment\",\"ru\":\" \"}"
        },
        {
            "Name": "did_not_vote",
            "Trans": "{\"en\": \"Did not vote\", \"ru\": \" \"}"
        },
        {
            "Name": "document_accept",
            "Trans": "{\"en\": \"Document accept\", \"ru\": \" \"}"
        },
        {
            "Name": "document_reject",
            "Trans": "{\"en\": \"Document reject\", \"ru\": \" \"}"
        },
        {
            "Name": "ecosystem_number",
            "Trans": "{\"en\":\"Number\",\"ru\":\"\"}"
        },
        {
            "Name": "edit",
            "Trans": "{\"en\":\"Edit\",\"ru\":\"\"}"
        },
        {
            "Name": "editing_profile",
            "Trans": "{\"en\": \"Editing profile\", \"ru\": \" \"}"
        },
        {
            "Name": "elective",
            "Trans": "{\"en\": \"Elective\", \"ru\": \"\"}"
        },
        {
            "Name": "elective_role",
            "Trans": "{\"en\": \"Elective\", \"ru\": \"\"}"
        },
        {
            "Name": "email",
            "Trans": "{\"en\": \"Email\", \"ru\": \"\"}"
        },
        {
            "Name": "emission",
            "Trans": "{\"en\": \"Emission\", \"ru\": \"\"}"
        },
        {
            "Name": "emission_account_not_found",
            "Trans": "{\"en\":\"System emission account is not found\",\"ru\":\"    \"}"
        },
        {
            "Name": "empty",
            "Trans": "{\"en\": \"[no]\", \"ru\": \"[]\"}"
        },
        {
            "Name": "execute",
            "Trans": "{\"en\": \"Execute\", \"ru\": \"\"}"
        },
        {
            "Name": "expiration",
            "Trans": "{\"en\": \"Expiration\", \"ru\": \"\"}"
        },
        {
            "Name": "expiration_only_visitor",
            "Trans": "{\"en\": \"Expiration only for visitor\", \"ru\": \"   \"}"
        },
        {
            "Name": "expired",
            "Trans": "{\"en\": \"Expired\", \"ru\": \"\"}"
        },
        {
            "Name": "female",
            "Trans": "{\"en\": \"Female\", \"ru\": \"\"}"
        },
        {
            "Name": "filled",
            "Trans": "{\"en\": \"Filled\", \"ru\": \"\"}"
        },
        {
            "Name": "finance",
            "Trans": "{\"en\":\"Finance\",\"ru\":\"\"}"
        },
        {
            "Name": "finished",
            "Trans": "{\"en\": \"Finished\", \"ru\": \"\"}"
        },
        {
            "Name": "freetype",
            "Trans": "{\"en\":\"Pay type\",\"ru\":\" \"}"
        },
        {
            "Name": "gender",
            "Trans": "{\"en\": \"Gender\", \"ru\": \"\"}"
        },
        {
            "Name": "group_person",
            "Trans": "{\"en\":\"Group of person\",\"ru\":\" \"}"
        },
        {
            "Name": "header",
            "Trans": "{\"en\": \"Header\", \"ru\": \"\"}"
        },
        {
            "Name": "host_ip",
            "Trans": "{\"en\":\"IP\",\"ru\":\"IP\"}"
        },
        {
            "Name": "icon",
            "Trans": "{\"en\": \"Icon\", \"ru\": \"\"}"
        },
        {
            "Name": "id",
            "Trans": "{\"en\": \"ID\", \"ru\": \"ID\"}"
        },
        {
            "Name": "image",
            "Trans": "{\"ru\":\"\",\"en\":\"Image\"}"
        },
        {
            "Name": "impossible",
            "Trans": "{\"en\": \"Impossible\", \"ru\": \" \"}"
        },
        {
            "Name": "include_in_role",
            "Trans": "{\"en\":\"YES - Include a member in the role\",\"ru\":\" -    \"}"
        },
        {
            "Name": "information",
            "Trans": "{\"en\":\"Information\",\"ru\":\"\"}"
        },
        {
            "Name": "init_condition",
            "Trans": "{\n    \"en\": \"Initiate process condition\",\n    \"ru\": \"   \"\n}"
        },
        {
            "Name": "init_contract",
            "Trans": "{\"en\": \"The initial contract\", \"ru\": \" \"}"
        },
        {
            "Name": "institution",
            "Trans": "{\"en\":\"Institution\",\"ru\":\"\"}"
        },
        {
            "Name": "limited",
            "Trans": "{\"en\": \"Limited\", \"ru\": \"\"}"
        },
        {
            "Name": "lists_of_roles",
            "Trans": "{\"en\": \"Lists of roles and\", \"ru\": \"  \"}"
        },
        {
            "Name": "logo",
            "Trans": "{\"en\":\"Logo\",\"ru\":\"\"}"
        },
        {
            "Name": "male",
            "Trans": "{\"en\": \"Male\", \"ru\": \"\"}"
        },
        {
            "Name": "member",
            "Trans": "{\"en\": \"Member\", \"ru\": \"\"}"
        },
        {
            "Name": "member_id",
            "Trans": "{\"en\": \"Member ID\", \"ru\": \"ID \"}"
        },
        {
            "Name": "member_image",
            "Trans": "{\"en\":\"Avatar\",\"ru\":\"\"}"
        },
        {
            "Name": "member_name",
            "Trans": "{\"en\":\"Member name\",\"ru\":\"\"}"
        },
        {
            "Name": "members",
            "Trans": "{\"en\": \"Members\", \"ru\": \"\"}"
        },
        {
            "Name": "membership",
            "Trans": "{\"en\": \"Membership\", \"ru\": \"\"}"
        },
        {
            "Name": "membership_management",
            "Trans": "{\"en\": \"Membership management and\", \"ru\": \"  \"}"
        },
        {
            "Name": "membership_request_accept",
            "Trans": "{\"ru\":\"    ?\",\"en\":\"Do you want to accept this request?\"}"
        },
        {
            "Name": "membership_request_reject",
            "Trans": "{\"en\":\"Do you want to reject this request?\",\"ru\":\"    ?\"}"
        },
        {
            "Name": "membership_requests",
            "Trans": "{\"en\": \"Membership requests\", \"ru\": \"  \"}"
        },
        {
            "Name": "membership_roles_notifications",
            "Trans": "{\"en\": \"Membership, roles, notifications\", \"ru\": \", , \"}"
        },
        {
            "Name": "multiple",
            "Trans": "{\"en\": \"Multiple\", \"ru\": \"\"}"
        },
        {
            "Name": "my_account",
            "Trans": "{\"en\": \"My account\", \"ru\": \" \"}"
        },
        {
            "Name": "name",
            "Trans": "{\"en\": \"Name\", \"ru\": \"\"}"
        },
        {
            "Name": "name_first",
            "Trans": "{\"en\": \"First name\", \"ru\": \"\"}"
        },
        {
            "Name": "name_last",
            "Trans": "{\"en\": \"Last name\", \"ru\": \"\"}"
        },
        {
            "Name": "name_middle",
            "Trans": "{\"en\": \"Middle name\", \"ru\": \"\"}"
        },
        {
            "Name": "need_fuel",
            "Trans": "{\n    \"en\": \"Need APL\",\n    \"ru\": \" APL\"\n}"
        },
        {
            "Name": "new_ecosystem",
            "Trans": "{\"en\":\"New ecosystem\",\"ru\":\" \"}"
        },
        {
            "Name": "new_role",
            "Trans": "{\"en\": \"New role\", \"ru\": \" \"}"
        },
        {
            "Name": "new_template",
            "Trans": "{\n    \"en\": \"New template\",\n    \"ru\": \" \"\n}"
        },
        {
            "Name": "new_value",
            "Trans": "{\"en\": \"New value\", \"ru\": \" \"}"
        },
        {
            "Name": "new_voting",
            "Trans": "{\"en\": \"New voting\", \"ru\": \" \"}"
        },
        {
            "Name": "next",
            "Trans": "{\"en\": \"Next\", \"ru\": \"\"}"
        },
        {
            "Name": "no",
            "Trans": "{\"en\":\"No\",\"ru\":\"\"}"
        },
        {
            "Name": "no_expiration",
            "Trans": "{\"en\": \"No expiration\", \"ru\": \" \"}"
        },
        {
            "Name": "no_include_in_role",
            "Trans": "{\"en\":\"NO - Do not include a member in the role\",\"ru\":\" -     \"}"
        },
        {
            "Name": "not_enough_votes",
            "Trans": "{\"en\": \"Not enough votes\", \"ru\": \" \"}"
        },
        {
            "Name": "not_need_fuel",
            "Trans": "{\n    \"en\": \"Not need APL\",\n    \"ru\": \"  APL\"\n}"
        },
        {
            "Name": "not_started",
            "Trans": "{\"ru\":\" \",\"en\":\"Not started\"}"
        },
        {
            "Name": "notification_sender_member",
            "Trans": "{\"en\":\"Send from member\",\"ru\":\"  \"}"
        },
        {
            "Name": "notification_sender_role",
            "Trans": "{\"en\":\"Send from role\",\"ru\":\"  \"}"
        },
        {
            "Name": "notifications",
            "Trans": "{\"en\": \"Notifications\", \"ru\": \"\"}"
        },
        {
            "Name": "notifics",
            "Trans": "{\"en\": \"Notifications\", \"ru\": \"\"}"
        },
        {
            "Name": "num_members",
            "Trans": "{\"en\": \"Number of members\", \"ru\": \" \"}"
        },
        {
            "Name": "onhold",
            "Trans": "{\"en\": \"onHold\", \"ru\": \"\"}"
        },
        {
            "Name": "only_if_role_type",
            "Trans": "{\"en\":\"Only if role type -> Company role. For all other types is not used\",\"ru\":\"    -  .      \"}"
        },
        {
            "Name": "optional",
            "Trans": "{\"en\": \"[Optional]\", \"ru\": \"[]\"}"
        },
        {
            "Name": "organization",
            "Trans": "{\"en\":\"Organization\",\"ru\":\"\"}"
        },
        {
            "Name": "page",
            "Trans": "{\"en\":\"Page\",\"ru\":\"\"}"
        },
        {
            "Name": "page_name",
            "Trans": "{\"en\":\"Page\",\"ru\":\"\"}"
        },
        {
            "Name": "params",
            "Trans": "{\"en\":\"Parameters\",\"ru\":\"\"}"
        },
        {
            "Name": "participants",
            "Trans": "{\"en\": \"Participants\", \"ru\": \"\"}"
        },
        {
            "Name": "participants_add",
            "Trans": "{\"en\": \"Add participants\", \"ru\": \" \"}"
        },
        {
            "Name": "pending_notifics",
            "Trans": "{\"en\": \"Pending notifications\", \"ru\": \" \"}"
        },
        {
            "Name": "person",
            "Trans": "{\"en\": \"Person\", \"ru\": \"\"}"
        },
        {
            "Name": "phone",
            "Trans": "{\"en\": \"Phone\", \"ru\": \"\"}"
        },
        {
            "Name": "possible",
            "Trans": "{\"en\": \"Possible\", \"ru\": \"\"}"
        },
        {
            "Name": "processing",
            "Trans": "{\"en\": \"Processing\", \"ru\": \"\"}"
        },
        {
            "Name": "profile",
            "Trans": "{\"en\": \"Profile\", \"ru\": \"\"}"
        },
        {
            "Name": "progress",
            "Trans": "{\"en\": \"Progress\", \"ru\": \"\"}"
        },
        {
            "Name": "pub_key",
            "Trans": "{\"en\":\"Public key\",\"ru\":\" \"}"
        },
        {
            "Name": "public_org",
            "Trans": "{\"en\":\"Public organization\",\"ru\":\" \"}"
        },
        {
            "Name": "quorum",
            "Trans": "{\n    \"en\": \"Quorum\",\n    \"ru\": \"\"\n}"
        },
        {
            "Name": "recipient",
            "Trans": "{\"en\": \"Recipient\", \"ru\": \"\"}"
        },
        {
            "Name": "recipient_account",
            "Trans": "{\"en\": \"Recipient account\", \"ru\": \" \"}"
        },
        {
            "Name": "reject",
            "Trans": "{\"en\": \"Reject\", \"ru\": \"\"}"
        },
        {
            "Name": "rejected",
            "Trans": "{\"en\": \"Rejected\", \"ru\": \"\"}"
        },
        {
            "Name": "request",
            "Trans": "{\"en\": \"Request\", \"ru\": \"\"}"
        },
        {
            "Name": "request_accepted",
            "Trans": "{\"en\":\"Request was approved\",\"ru\":\"  \"}"
        },
        {
            "Name": "request_info",
            "Trans": "{\"en\":\"Request info\",\"ru\":\"  \"}"
        },
        {
            "Name": "request_membership",
            "Trans": "{\"ru\":\" \",\"en\":\"Request for membership\"}"
        },
        {
            "Name": "request_not_sent",
            "Trans": "{\"ru\":\"  \",\"en\":\"Request not sent\"}"
        },
        {
            "Name": "request_rejected",
            "Trans": "{\"en\":\"Request was rejected\",\"ru\":\"  \"}"
        },
        {
            "Name": "request_wating",
            "Trans": "{\"en\":\"Request has been sent. Wait for administrator's decision\",\"ru\":\" .  \"}"
        },
        {
            "Name": "required_logo",
            "Trans": "{\"en\":\"Required logo\",\"ru\":\" \"}"
        },
        {
            "Name": "resign",
            "Trans": "{\"en\": \"Resign\", \"ru\": \" \"}"
        },
        {
            "Name": "right_sign",
            "Trans": "{\"en\":\"Signature right\",\"ru\":\" \"}"
        },
        {
            "Name": "right_sign_no",
            "Trans": "{\"en\":\"No signature right\",\"ru\":\"  \"}"
        },
        {
            "Name": "right_sign_yes",
            "Trans": "{\"en\":\"Have signature rights\",\"ru\":\"  \"}"
        },
        {
            "Name": "role",
            "Trans": "{\"en\": \"Role\", \"ru\": \"\"}"
        },
        {
            "Name": "role_notifics",
            "Trans": "{\"en\": \"Role notifications\", \"ru\": \" \"}"
        },
        {
            "Name": "roles",
            "Trans": "{\"en\": \"Roles\", \"ru\": \"\"}"
        },
        {
            "Name": "rollback",
            "Trans": "{\"en\": \"Rollback\", \"ru\": \"\"}"
        },
        {
            "Name": "row_id",
            "Trans": "{\"en\": \"Row ID\", \"ru\": \"ID \"}"
        },
        {
            "Name": "row_id_desc",
            "Trans": "{\"en\": \"Row ID to which the value will be written (Example: 14)\", \"ru\": \"ID ,      (: 14)\"}"
        },
        {
            "Name": "save",
            "Trans": "{\"en\": \"Save\", \"ru\": \"\"}"
        },
        {
            "Name": "select_member",
            "Trans": "{\"en\": \"Select a member to add\", \"ru\": \" ,  \"}"
        },
        {
            "Name": "select_role",
            "Trans": "{\"en\": \"Select a role to add all members of this role\", \"ru\": \" ,      \"}"
        },
        {
            "Name": "select_role_if_include",
            "Trans": "{\"ru\":\" ,       \",\"en\":\"Select a role if you want to include a member in the role\"}"
        },
        {
            "Name": "send",
            "Trans": "{\"en\": \"Send\", \"ru\": \"\"}"
        },
        {
            "Name": "sender",
            "Trans": "{\"en\":\"Sender\",\"ru\":\"\"}"
        },
        {
            "Name": "sender_account",
            "Trans": "{\"en\":\"Sender account\",\"ru\":\" \"}"
        },
        {
            "Name": "sent",
            "Trans": "{\"ru\":\"\",\"en\":\"Sent\"}"
        },
        {
            "Name": "single",
            "Trans": "{\"en\": \"Single\", \"ru\": \"\"}"
        },
        {
            "Name": "single_and_role",
            "Trans": "{\"en\": \"Single and Role\", \"ru\": \"  \"}"
        },
        {
            "Name": "single_notifics",
            "Trans": "{\"en\": \"Single notifications\", \"ru\": \" \"}"
        },
        {
            "Name": "start",
            "Trans": "{\n    \"en\": \"Start\",\n    \"ru\": \"\"\n}"
        },
        {
            "Name": "started",
            "Trans": "{\"en\": \"Started\", \"ru\": \"\"}"
        },
        {
            "Name": "status",
            "Trans": "{\"en\": \"Status\", \"ru\": \"\"}"
        },
        {
            "Name": "subject_voting",
            "Trans": "{\"en\": \"Subject of voting\", \"ru\": \" \"}"
        },
        {
            "Name": "subject_voting_edit",
            "Trans": "{\"en\": \"Edit subject of voting\", \"ru\": \"  \"}"
        },
        {
            "Name": "success",
            "Trans": "{\"en\": \"Success\", \"ru\": \"\"}"
        },
        {
            "Name": "sure_want_delete",
            "Trans": "{\"ru\":\"    ?\",\"en\":\"Are you sure you want to delete?\"}"
        },
        {
            "Name": "sys_emission",
            "Trans": "{\"en\":\"sys-emission\",\"ru\":\" ()\"}"
        },
        {
            "Name": "sys_trash",
            "Trans": "{\"en\":\"sys-trash\",\"ru\":\" ()\"}"
        },
        {
            "Name": "sysparams_candidate_validators_form.1",
            "Trans": "{\"en\":\"Request form of candidate for validators\",\"ru\":\"    \"}"
        },
        {
            "Name": "sysparams_candidate_validators_form",
            "Trans": "{\"en\":\"Request form of candidate for validators\",\"ru\":\"    \"}"
        },
        {
            "Name": "sysparams_candidates",
            "Trans": "{\"en\":\"Candidate for validators\",\"ru\":\"  \"}"
        },
        {
            "Name": "sysparams_candidates_list",
            "Trans": "{\"en\":\"Candidate for validators list\",\"ru\":\"   \"}"
        },
        {
            "Name": "sysparams_list.1",
            "Trans": "{\"en\":\"System parameters list\",\"ru\":\"  \"}"
        },
        {
            "Name": "sysparams_list",
            "Trans": "{\"en\":\"System parameters list\",\"ru\":\"  \"}"
        },
        {
            "Name": "system_params",
            "Trans": "{\"en\":\"System parameters\",\"ru\":\" \"}"
        },
        {
            "Name": "system_role",
            "Trans": "{\"en\":\"System\",\"ru\":\"\"}"
        },
        {
            "Name": "system_tokens",
            "Trans": "{\"en\": \"System of tokens\", \"ru\": \" \"}"
        },
        {
            "Name": "table_to_written",
            "Trans": "{\"en\": \"Table name\", \"ru\": \" \"}"
        },
        {
            "Name": "table_to_written_desc",
            "Trans": "{\"en\": \"Table to which the value will be written (Example: accounts)\", \"ru\": \",      (: accounts)\"}"
        },
        {
            "Name": "template_create",
            "Trans": "{\n    \"en\": \"Creating template\",\"ru\": \" \"}"
        },
        {
            "Name": "test_page",
            "Trans": "{\"en\": \"Test page\", \"ru\": \" \"}"
        },
        {
            "Name": "text_document",
            "Trans": "{\"en\": \"Text of the document\", \"ru\": \" \"}"
        },
        {
            "Name": "their_members",
            "Trans": "{\"en\": \"their members\", \"ru\": \" \"}"
        },
        {
            "Name": "title",
            "Trans": "{\n    \"en\": \"Title\",\n    \"ru\": \"\"\n}"
        },
        {
            "Name": "tokens",
            "Trans": "{\"en\": \"Tokens\", \"ru\": \"\"}"
        },
        {
            "Name": "tokens_rollback",
            "Trans": "{\"en\": \"Tokens rollback\", \"ru\": \" \"}"
        },
        {
            "Name": "tokens_transfer",
            "Trans": "{\"en\": \"Tokens transfer\", \"ru\": \" \"}"
        },
        {
            "Name": "tranche",
            "Trans": "{\"en\":\"Tranche\",\"ru\":\"\"}"
        },
        {
            "Name": "trash_account_not_found",
            "Trans": "{\"en\":\"System trash account is not found\",\"ru\":\"    \"}"
        },
        {
            "Name": "type",
            "Trans": "{\"en\": \"Type\", \"ru\": \"\"}"
        },
        {
            "Name": "type_voting_custom",
            "Trans": "{\"en\":\"Custom\",\"ru\":\"\"}"
        },
        {
            "Name": "type_voting_system",
            "Trans": "{\"en\":\"System\",\"ru\":\"\"}"
        },
        {
            "Name": "unlimited",
            "Trans": "{\"en\": \"Unlimited\", \"ru\": \" \"}"
        },
        {
            "Name": "use",
            "Trans": "{\n    \"en\": \"Use\",\n    \"ru\": \"\"\n}"
        },
        {
            "Name": "user_info",
            "Trans": "{\"en\": \"User information\", \"ru\": \"  \"}"
        },
        {
            "Name": "username",
            "Trans": "{\"en\": \"Username\", \"ru\": \"\"}"
        },
        {
            "Name": "vacancies",
            "Trans": "{\"en\": \"Vacancies\", \"ru\": \"\"}"
        },
        {
            "Name": "validate_contract_name",
            "Trans": "{\"en\":\"must be between 3 and 255 characters\",\"ru\":\"   3  255 \"}"
        },
        {
            "Name": "validate_member_name",
            "Trans": "{\"en\":\"must be between 5 and 20 characters\",\"ru\":\"   5  20 \"}"
        },
        {
            "Name": "validate_notification",
            "Trans": "{\"en\":\"must be between 3 and 255 characters\",\"ru\":\"   3  255 \"}"
        },
        {
            "Name": "validate_role_name",
            "Trans": "{\"en\":\"must be between 3 and 30 characters\",\"ru\":\"   3  30 \"}"
        },
        {
            "Name": "validator_removing",
            "Trans": "{\"en\": \"Validator's removing\", \"ru\": \" \"}"
        },
        {
            "Name": "validator_removing_desc",
            "Trans": "{\"en\": \"You are a Validator. At any time you can remove the entry about your node and leave with a role of Validator\", \"ru\": \"  .               \"}"
        },
        {
            "Name": "value",
            "Trans": "{\"en\":\"Value\",\"ru\":\"\"}"
        },
        {
            "Name": "value_number",
            "Trans": "{\"en\": \"Value number\", \"ru\": \" ()\"}"
        },
        {
            "Name": "value_string",
            "Trans": "{\"en\": \"Value string\", \"ru\": \" ()\"}"
        },
        {
            "Name": "vde_form",
            "Trans": "{\"en\":\"VDE form address\",\"ru\":\" VDE-\"}"
        },
        {
            "Name": "vde_form_desc",
            "Trans": "{\"en\":\"Address of the VDE form in VDE system for applying for membership (who do not yet have APL)\",\"ru\":\" VDE-      (    APL)\"}"
        },
        {
            "Name": "vde_page",
            "Trans": "{\"en\":\"VDE page address\",\"ru\":\"  VDE\"}"
        },
        {
            "Name": "view",
            "Trans": "{\"en\": \"View\", \"ru\": \"\"}"
        },
        {
            "Name": "view_all",
            "Trans": "{\"en\": \"View all\", \"ru\": \" \"}"
        },
        {
            "Name": "visitor",
            "Trans": "{\"en\": \"Visitor\", \"ru\": \"\"}"
        },
        {
            "Name": "visitor_rights",
            "Trans": "{\"en\": \"Visitor (with SR)\", \"ru\": \" ( )\"}"
        },
        {
            "Name": "volume",
            "Trans": "{\n    \"en\": \"Volume\",\n    \"ru\": \"\"\n}"
        },
        {
            "Name": "vote",
            "Trans": "{\"en\": \"Vote\", \"ru\": \"\"}"
        },
        {
            "Name": "vote_for_candidate",
            "Trans": "{\"en\": \"Vote for the candidate\", \"ru\": \"  \"}"
        },
        {
            "Name": "voted",
            "Trans": "{\"en\": \"Voted\", \"ru\": \"\"}"
        },
        {
            "Name": "voters",
            "Trans": "{\n    \"en\": \"Voters\",\n    \"ru\": \"\"\n}"
        },
        {
            "Name": "voters_role",
            "Trans": "{\"en\": \"Voters role\", \"ru\": \" \"}"
        },
        {
            "Name": "voting",
            "Trans": "{\"en\": \"Voting\", \"ru\": \"\"}"
        },
        {
            "Name": "voting_all_members",
            "Trans": "{\"en\":\"All members were added automatically\",\"ru\":\"    \"}"
        },
        {
            "Name": "voting_contract_accept",
            "Trans": "{\n    \"en\": \"Run contract after accept decision\",\n    \"ru\": \"    \"\n}"
        },
        {
            "Name": "voting_contract_reject",
            "Trans": "{\n    \"en\": \"Run contract after reject decision\",\n    \"ru\": \"    \"\n}"
        },
        {
            "Name": "voting_decisions_candidate_manual",
            "Trans": "{\"en\": \"Role candidates with manual registration of participants\", \"ru\": \"     \"}"
        },
        {
            "Name": "voting_decisions_candidate_requests",
            "Trans": "{\"en\": \"Role candidates with registration of participants by request\", \"ru\": \"      \"}"
        },
        {
            "Name": "voting_decisions_contract",
            "Trans": "{\"en\": \"Performance of the contract\", \"ru\": \" \"}"
        },
        {
            "Name": "voting_decisions_db",
            "Trans": "{\"en\": \"Formal decision\", \"ru\": \" \"}"
        },
        {
            "Name": "voting_decisions_document",
            "Trans": "{\"en\": \"Document approval\", \"ru\": \" \"}"
        },
        {
            "Name": "voting_graph_progress",
            "Trans": "{\"en\": \"Graph of the percentages of votes needed to make a decision\", \"ru\": \"  ,    \"}"
        },
        {
            "Name": "voting_graph_voted",
            "Trans": "{\"en\": \"Graph of the proportion of voters from the total number of participants\", \"ru\": \"      \"}"
        },
        {
            "Name": "voting_init_condition",
            "Trans": "{\n    \"en\": \"Initial ondition for starts\",\n    \"ru\": \"  \"\n}"
        },
        {
            "Name": "voting_init_condition_desc",
            "Trans": "{\n    \"en\": \"Contract for check rights for starts voting\",\n    \"ru\": \"     \"\n}"
        },
        {
            "Name": "voting_init_contract",
            "Trans": "{\"en\": \"Initializing contract\", \"ru\": \" \"}"
        },
        {
            "Name": "voting_init_contract_desc",
            "Trans": "{\"en\": \"Is executed before the beginning of voting\", \"ru\": \"   \"}"
        },
        {
            "Name": "voting_params",
            "Trans": "{\"en\": \"Voting params\", \"ru\": \"  \"}"
        },
        {
            "Name": "voting_participants_everybody",
            "Trans": "{\"en\": \"Anybody\", \"ru\": \"\"}"
        },
        {
            "Name": "voting_participants_manual",
            "Trans": "{\"en\": \"Choose manually\", \"ru\": \" \"}"
        },
        {
            "Name": "voting_participants_role",
            "Trans": "{\"en\": \"By role\", \"ru\": \" \"}"
        },
        {
            "Name": "voting_precondition",
            "Trans": "{\n    \"en\": \"Initial condition for the subject of voting\",\n    \"ru\": \"    \"\n}"
        },
        {
            "Name": "voting_quorum",
            "Trans": "{\"en\": \"Quorum\", \"ru\": \"\"}"
        },
        {
            "Name": "voting_quorum_desc",
            "Trans": "{\"en\": \"Percentage value of votes for a decision (from 5 to 100)\", \"ru\": \"      ( 5  100)\"}"
        },
        {
            "Name": "voting_start",
            "Trans": "{\n    \"en\": \"Voting start\",\n    \"ru\": \" \"\n}"
        },
        {
            "Name": "voting_subject",
            "Trans": "{\n    \"en\": \"Voting subject\",\n    \"ru\": \" \"\n}"
        },
        {
            "Name": "voting_template_not_found",
            "Trans": "{\"en\": \"The template ID to vote is not found in the parameters of the ecosystem\", \"ru\": \"       \"}"
        },
        {
            "Name": "voting_templates",
            "Trans": "{\n    \"en\": \"Voting templates\",\n    \"ru\": \" \"\n}"
        },
        {
            "Name": "voting_type",
            "Trans": "{\n    \"en\": \"Voting type\",\n    \"ru\": \" \"\n}"
        },
        {
            "Name": "voting_volume",
            "Trans": "{\"en\": \"Volume\", \"ru\": \"\"}"
        },
        {
            "Name": "voting_volume_desc",
            "Trans": "{\"en\": \"Percentage value of votes to fulfill requirements of this voting (from 50 to 100)\", \"ru\": \"       ( 50  100)\"}"
        },
        {
            "Name": "waiting",
            "Trans": "{\"en\": \"Waiting\", \"ru\": \"\"}"
        },
        {
            "Name": "want_accept_contract",
            "Trans": "{\"en\": \"Do you want to accept this contract?\", \"ru\": \"    ?\"}"
        },
        {
            "Name": "want_accept_decision",
            "Trans": "{\"en\": \"Are you sure you want to accept decision?\", \"ru\": \" ,    ?\"}"
        },
        {
            "Name": "want_accept_document",
            "Trans": "{\"en\": \"Are you sure you want to accept document?\", \"ru\": \" ,    ?\"}"
        },
        {
            "Name": "want_assign_member_to_role",
            "Trans": "{\"en\":\"Do you want to assign this member of the ecosystem to this role?\",\"ru\":\"        ?\"}"
        },
        {
            "Name": "want_change_status",
            "Trans": "{\"en\": \"Do you want to change the status of this member?\", \"ru\": \"     ?\"}"
        },
        {
            "Name": "want_check_decision",
            "Trans": "{\"en\": \"Do you want to check decision?\", \"ru\": \"   ?\"}"
        },
        {
            "Name": "want_check_tokens",
            "Trans": "{\"en\": \"Do you want to check the expiration of the tokens?\", \"ru\": \"    ?\"}"
        },
        {
            "Name": "want_close_account",
            "Trans": "{\"en\": \"Do you want to close this account?\", \"ru\": \"    ?\"}"
        },
        {
            "Name": "want_close_notification",
            "Trans": "{\"en\": \"Do you want to close this notification?\", \"ru\": \"    ?\"}"
        },
        {
            "Name": "want_create_new_account",
            "Trans": "{\"en\":\"Do you want to create a new account?\",\"ru\":\"    ?\"}"
        },
        {
            "Name": "want_create_new_company",
            "Trans": "{\"en\":\"Do you want to add a new company? The current account will become a multi-account. This action is not reversible.\",\"ru\":\"    ?    -.    .\"}"
        },
        {
            "Name": "want_create_new_role",
            "Trans": "{\"en\":\"Do you want to create a new role?\",\"ru\":\"    ?\"}"
        },
        {
            "Name": "want_create_role_company",
            "Trans": "{\"en\":\"Do you want to create a new role for the company?\",\"ru\":\"      ?\"}"
        },
        {
            "Name": "want_delete_company",
            "Trans": "{\"en\":\"Do you want to delete the company? All company roles will also be deleted\",\"ru\":\"   ?      \"}"
        },
        {
            "Name": "want_delete_from_role",
            "Trans": "{\"en\": \"Are you sure you want to delete this member from the role?\", \"ru\": \" ,       ?\"}"
        },
        {
            "Name": "want_delete_member",
            "Trans": "{\"en\": \"Do you want to delete this member?\", \"ru\": \"    ?\"}"
        },
        {
            "Name": "want_delete_participant_company",
            "Trans": "{\"en\":\"Do you want to remove a participant from the company?\",\"ru\":\"     ?\"}"
        },
        {
            "Name": "want_delete_role",
            "Trans": "{\"en\": \"Do you want to delete this role?\", \"ru\": \"    ?\"}"
        },
        {
            "Name": "want_delete_tokens",
            "Trans": "{\"en\": \"Do you want to delete this tokens?\", \"ru\": \"    ?\"}"
        },
        {
            "Name": "want_delete_voting",
            "Trans": "{\"en\": \"Do you want to delete this voting?\", \"ru\": \"    ?\"}"
        },
        {
            "Name": "want_finish_processing",
            "Trans": "{\"en\": \"Do you want to finish processing this notification?\", \"ru\": \"     ?\"}"
        },
        {
            "Name": "want_make_emission",
            "Trans": "{\"en\":\"Do you want to make an emission?\",\"ru\":\"   ?\"}"
        },
        {
            "Name": "want_reject_contract",
            "Trans": "{\"en\": \"Do you want to reject this contract?\", \"ru\": \"    ?\"}"
        },
        {
            "Name": "want_reject_decision",
            "Trans": "{\"en\": \"Are you sure you want to reject decision?\", \"ru\": \" ,    ?\"}"
        },
        {
            "Name": "want_reject_document",
            "Trans": "{\"en\": \"Are you sure you want to reject document?\", \"ru\": \" ,    ?\"}"
        },
        {
            "Name": "want_reject_request",
            "Trans": "{\"en\": \"Do you want to reject the request?\", \"ru\": \"   ?\"}"
        },
        {
            "Name": "want_release_tokens",
            "Trans": "{\"en\":\"Do you want to release new tokens?\",\"ru\":\"    ?\"}"
        },
        {
            "Name": "want_resign",
            "Trans": "{\"en\": \"Are you sure you want to resign the role of the Validator?\", \"ru\": \"      ?\"}"
        },
        {
            "Name": "want_return_member",
            "Trans": "{\"en\": \"Do you want to return this member?\", \"ru\": \"    ?\"}"
        },
        {
            "Name": "want_rollback_tokens",
            "Trans": "{\"en\":\"Do you want to rollback the tokens?\",\"ru\":\"   ?\"}"
        },
        {
            "Name": "want_save_changes",
            "Trans": "{\"en\":\"Do you want to save the changes?\",\"ru\":\"   ?\"}"
        },
        {
            "Name": "want_send_notific_voters",
            "Trans": "{\"en\": \" Do you want to send a notification to all the voters?\", \"ru\": \"      ?\"}"
        },
        {
            "Name": "want_send_tokens",
            "Trans": "{\"en\":\"Do you want to send tokens?\",\"ru\":\"   ?\"}"
        },
        {
            "Name": "want_start_processing",
            "Trans": "{\"en\": \"Do you want to start processing this notification?\", \"ru\": \"     ?\"}"
        },
        {
            "Name": "want_start_processing_notification",
            "Trans": "{\"ru\":\"    ?\",\"en\":\"Do you want to start processing the notification?\"}"
        },
        {
            "Name": "want_vote_for_candidate",
            "Trans": "{\"en\": \"Are you sure you want to vote for this candidate?\", \"ru\": \" ,      ?\"}"
        },
        {
            "Name": "web_form",
            "Trans": "{\"en\":\"Web form address\",\"ru\":\" web-\"}"
        },
        {
            "Name": "web_form_desc",
            "Trans": "{\"en\":\"Web address of the form for applying for membership (who do not yet have APL)\",\"ru\":\" web-      (    APL)\"}"
        },
        {
            "Name": "web_page",
            "Trans": "{\n    \"en\": \"Page web-address\",\n    \"ru\": \"- \"\n}"
        },
        {
            "Name": "written_value",
            "Trans": "{\"en\": \"Written value\", \"ru\": \" \"}"
        },
        {
            "Name": "written_value_desc",
            "Trans": "{\"en\": \"Value to be written to the table (Example: 1)\", \"ru\": \",       (: 1)\"}"
        },
        {
            "Name": "yes",
            "Trans": "{\"en\":\"Yes\",\"ru\":\"\"}"
        },
        {
            "Name": "losed",
            "Trans": "{\"en\": \"Closed\", \"ru\": \"\"}"
        }
    ],
    "menus": [
        {
            "Conditions": "ContractAccess(\"@1EditMenu\")",
            "Value": "MenuItem(Title:$profile$, Page:profile_view, Icon:\"fa icon-user\")\nMenuItem(Title:$membership$, Page:members_list, Icon:\"fa icon-people\")\nMenuGroup(Title:$notifications$, Icon:\"fa fa-bell-o\"){\n    MenuItem(Title:$single_notifics$, Page:notifications_single, Icon:\"fa fa-bell-o\")\n    MenuItem(Title:$role_notifics$, Page:notifications_roles, Icon:\"fa fa-bullhorn\")\n    MenuItem(Title:$test_page$, Page:notifications_testpage, Icon:\"icon-settings\")\n}\nMenuItem(Title:$roles$, Page:roles_list, Icon:\"fa fa-list-ul\")\nMenuItem(Title: $catalog_ecosystems$, Page: catalog_ecosystems, Icon:\"fa fa-book\")\nMenuGroup(Title:$admin$, Icon:\"fa icon-settings\"){\n\tMenuItem(Title:$tokens_transfer$, Page:money_transfer, Icon:\"icon-energy\")\n\tMenuItem(Title:$new_ecosystem$, Page:ecosystem_new, Icon:\"icon-globe\")\n    MenuItem(Title: $sysparams_list$,Page:sysparams_list, Icon:\"fa icon-settings\")\n    MenuItem(Title:$sysparams_candidates$, Page:sysparams_candidates, Icon:\"icon-list\")\n}\nMenuGroup(Title:$voting$, Icon:\"fa fa-edit\"){\n    MenuItem(Title:$voting$, Page:voting_list, Icon:\"fa fa-edit\")\n    MenuItem(Title:$voting_templates$, Page:voting_templates, Icon:\"fa icon-pin\")\n}",
            "Name": "default_menu"
        }
    ],
    "pages": [
        {
            "Conditions": "ContractAccess(\"@1EditPage\")",
            "Value": "Div(content-wrapper){\n    \n    SetTitle($catalog_ecosystems$)\n    Div(breadcrumb){\n        Span(Class: text-muted, Body: $catalog_ecosystems$)\n    }\n    \n    If(#param_flag_free#==0){\n        SetVar(Name: v_where, Value: \"deleted=0\")\n    }.ElseIf(#param_flag_free#==1){\n        SetVar(Name: v_where, Value: \"deleted=0 and flag_free=1\")\n    }.ElseIf(#param_flag_free#==2){\n        SetVar(Name: v_where, Value: \"deleted=0 and flag_free=2\")\n    }.Else{\n        SetVar(Name: v_where, Value: \"deleted=0\")\n        SetVar(Name: param_flag_free, Value: 0)\n    }\n    \n    Div(row){\n        Div(col-md-12 text-right){\n            Div(btn-group){\n                If(#param_flag_free#==1){\n                    Span(Button(Body: Em(Class: fa fa-user-o) $not_need_fuel$, Page: catalog_ecosystems, PageParams: \"param_flag_free=1\", Class: btn bg-gray-lighter)).Style(margin-left:5px;)\n                }.Else{\n                    Span(Button(Body: Em(Class: fa fa-user-o) $not_need_fuel$, Page: catalog_ecosystems, PageParams: \"param_flag_free=1\", Class: btn bg-gray)).Style(margin-left:5px;)\n                }\n                If(#param_flag_free#==2){\n                    Span(Button(Body: Em(Class: fa fa-money) $need_fuel$, Page: catalog_ecosystems, PageParams: \"param_flag_free=2\", Class: btn bg-gray-lighter)).Style(margin-left:5px;)\n                }.Else{\n                    Span(Button(Body: Em(Class: fa fa-money) $need_fuel$, Page: catalog_ecosystems, PageParams: \"param_flag_free=2\", Class: btn bg-gray)).Style(margin-left:5px;)\n                }\n                If(#param_flag_free#==0){\n                    Span(Button(Body: Em(Class: fa fa-align-justify) $all$, Page: catalog_ecosystems, PageParams: \"param_flag_free=0\", Class: btn bg-gray-lighter)).Style(margin-left:5px;)\n                }.Else{\n                    Span(Button(Body: Em(Class: fa fa-align-justify) $all$, Page: catalog_ecosystems, PageParams: \"param_flag_free=0\", Class: btn bg-gray)).Style(margin-left:5px;)\n                }\n            }\n        }\n        Div(col-md-12){\n            Div(panel panel-primary){\n                DBFind(Name: catalog_ecosystems, Source: src_catalog).Columns(\"id,ecosystem_number,ecosystem_name,ecosystem_type,image_id,flag_free\").Where(#v_where#).Custom(custom_logo){\n                    DBFind(Name: binaries, Source: src_binaries).Columns(\"data\").Where(\"id=#image_id#\").Vars(img)\n                    Image(Src: \"#img_data#\").Style(width:100px;)\n                }.Custom(custom_name){\n                    LinkPage(Page: catalog_ecosystems_view, PageParams: \"v_id=#id#\"){\n                        Span(Class: h5 text-bold, Body: #ecosystem_name#)\n                    }\n                }.Custom(custom_type){\n                    Span(EcosysParam(Name: catalog_ecosystems_type, Index: #ecosystem_type#))\n                }.Custom(custom_free){\n                    Span(EcosysParam(Name: catalog_ecosystems_freetype, Index: #flag_free#))\n                }.Order(\"ecosystem_number\")\n                \n                Div(panel-body){\n                    Div(table-responsive){\n                        Table(Source: src_catalog, Columns:\"$ecosystem_number$=ecosystem_number,$logo$=custom_logo,$name$=custom_name,$type$=custom_type,$freetype$=custom_free\")\n                    }\n                }\n                Div(panel-footer text-right){\n                    Button(Class: btn btn-primary, Page: catalog_ecosystems_add, Body: LangRes(add))\n                }\n            }\n        }\n    }\n}",
            "Name": "catalog_ecosystems",
            "Menu": "default_menu"
        },
        {
            "Conditions": "ContractAccess(\"@1EditPage\")",
            "Value": "Div(content-wrapper){\n    \n    SetTitle($catalog_ecosystems_form$)\n    Div(breadcrumb){\n        LinkPage($catalog_ecosystems$, catalog_ecosystems)\n        Span(/).Style(margin-right: 10px; margin-left: 10px;)\n        Span(Class: text-muted, Body: $catalog_ecosystems_form$)\n    }\n    \n    Div(row mb-sm){\n        Div(col-sm-10 col-sm-offset-1 col-lg-8 col-lg-offset-2){\n            Form(panel panel-primary){\n                Div(panel-body){\n                    Div(form-group){\n                        Div(row mb-sm){\n                            Div(col-md-5 mt-sm text-right){\n                                Label(){\n                                    Span(Body: LangRes(catalog_ecosystems_number))\n                                    Span(Class: text-danger, Body:*)\n                                }\n                            }\n                            Div(col-md-7 text-left){\n                                EcosysParam(Name: catalog_ecosystems_list, Source: src_num)\n                                Select(Name: Ecosystem_number, Source: src_num, Class: form-control, NameColumn: name, ValueColumn: id).Validate(required)\n                                InputErr(Name: Ecosystem_number, required: need)\n                            }\n                        }\n                        Div(row mb-sm){\n                            Div(col-md-5 mt-sm text-right){\n                                Label(){\n                                    Span(Body: LangRes(catalog_ecosystems_logo))\n                                    Span(Class: text-danger, Body:*)\n                                }\n                            }\n                            Div(col-md-7 text-left){\n                                ImageInput(Name: Logo, Width: 300, Ratio: 2/1)\n                            }\n                        }\n                        Div(row mb-sm){\n                            Div(col-md-5 mt-sm text-right){\n                                Label(){\n                                    Span(Body: LangRes(catalog_ecosystems_name))\n                                    Span(Class: text-danger, Body:*)\n                                }\n                            }\n                            Div(col-md-7 text-left){\n                                Input(Name: Ecosystem_name)\n                            }\n                        }\n                        Div(row mb-sm){\n                            Div(col-md-5 mt-sm text-right){\n                                Label(){\n                                    Span(Body: LangRes(catalog_ecosystems_type))\n                                    Span(Class: text-danger, Body:*)\n                                }\n                            }\n                            Div(col-md-7 text-left){\n                                EcosysParam(Name: catalog_ecosystems_type, Source: src_type)\n                                Select(Name: Ecosystem_type, Source: src_type, NameColumn: name, ValueColumn: id)\n                            }\n                        }\n                    }\n                    Div(form-group){\n                        Div(row mb-sm){\n                            Div(col-md-5 mt-lg text-right){\n                                Label(){\n                                    Span(Body: LangRes(catalog_ecosystems_freetype))\n                                    Span(Class: text-danger, Body:*)\n                                }\n                            }\n                            Div(col-md-7 text-left){\n                                EcosysParam(Name: catalog_ecosystems_freetype, Source: src_freetype)\n                                RadioGroup(Name: Flag_free, Source: src_freetype, NameColumn: name, ValueColumn: id)\n                            }\n                        }\n                    }\n                    Div(form-group){\n                        Div(row mb-sm){\n                            Div(col-md-5 mt-sm text-right){\n                                Label(){\n                                    Span(Body: LangRes(catalog_ecosystems_description))\n                                    Span(Class: text-danger, Body:*)\n                                }\n                            }\n                            Div(col-md-7 text-left){\n                                Input(Name: Description, Type: textarea)\n                            }\n                        }\n                        Div(row mb-sm){\n                            Div(col-md-5 mt-sm text-right){\n                                Label(){\n                                    Span(Body: LangRes(catalog_ecosystems_conditions))\n                                    Span(Class: text-danger, Body:*)\n                                }\n                            }\n                            Div(col-md-7 text-left){\n                                Input(Name: Conditions, Type: textarea)\n                            }\n                        }\n                    }\n                    Div(form-group){\n                        Div(row mb-sm){\n                            Div(col-md-5 mt-sm text-right){\n                                Label(){\n                                    Span(Body: LangRes(vde_page))\n                                }\n                            }\n                            Div(col-md-7 text-left){\n                                Input(Name: Vde_page)\n                            }\n                        }\n                        Div(row mb-sm){\n                            Div(col-md-5 mt-sm text-right){\n                                Label(){\n                                    Span(Body: LangRes(vde_form_desc))\n                                }\n                            }\n                            Div(col-md-7 text-left){\n                                Input(Name: Vde_form_address)\n                            }\n                        }\n                    }\n                    Div(form-group){\n                        Div(row mb-sm){\n                            Div(col-md-5 mt-sm text-right){\n                                Label(){\n                                    Span(Body: LangRes(web_page))\n                                }\n                            }\n                            Div(col-md-7 text-left){\n                                Input(Name: Web_page)\n                            }\n                        }\n                        Div(row mb-sm){\n                            Div(col-md-5 mt-sm text-right){\n                                Label(){\n                                    Span(Body: LangRes(web_form_desc))\n                                }\n                            }\n                            Div(col-md-7 text-left){\n                                Input(Name: Web_form_address)\n                            }\n                        }\n                    }\n                    Div(form-group){\n                        Div(row mb-sm){\n                            Div(col-md-5 mt-sm text-right){\n                                Label(){\n                                    Span(Body: LangRes(catalog_ecosystems_contact_email))\n                                }\n                            }\n                            Div(col-md-7 text-left){\n                                Input(Name: Email)\n                            }\n                        }\n                        Div(row mb-sm){\n                            Div(col-md-5 mt-sm text-right){\n                                Label(){\n                                    Span(Body: LangRes(catalog_ecosystems_contact_phone))\n                                }\n                            }\n                            Div(col-md-7 text-left){\n                                Input(Name: Phone)\n                            }\n                        }\n                    }\n                }\n                Div(panel-footer text-right){\n                    Button(Body: LangRes(back), Class: btn btn-default, Page: catalog_ecosystems)\n                    Button(Contract: catalog_ecosystems_Add, Class: btn btn-primary, Page: catalog_ecosystems, Body: $send$)\n                }\n            }\n        }\n    }\n}",
            "Name": "catalog_ecosystems_add",
            "Menu": "default_menu"
        },
        {
            "Conditions": "ContractAccess(\"@1EditPage\")",
            "Value": "Div(content-wrapper){\n    DBFind(Name: catalog_ecosystems, Source: src_catalog).Columns(\"ecosystem_name,ecosystem_number\").Where(\"id=#v_id#\").Vars(prefix)\n    \n    SetTitle($request_membership$)\n    Div(breadcrumb){\n        LinkPage($catalog_ecosystems$, catalog_ecosystems)\n        Span(/).Style(margin-right: 10px; margin-left: 10px;)\n        LinkPage(#prefix_ecosystem_name#, catalog_ecosystems_view,, \"v_id=#v_id#\")\n        Span(/).Style(margin-right: 10px; margin-left: 10px;)\n        Span(Class: text-muted, Body: $request_membership$)\n    }\n    \n    Div(row){\n        Div(col-sm-10 col-sm-offset-1 col-lg-8 col-lg-offset-2){\n            Form(panel panel-primary){\n                Div(panel-heading){LangRes(request_membership)}\n                Form(panel-body){\n                    Div(form-group){\n                        Div(row mb-sm){\n                            Div(col-md-3 mt-sm text-right){\n                                Label(For: pub_key){\n                                    Span(Body: LangRes(pub_key))\n                                    Span(Class: text-danger, Body:*)\n                                }\n                            }\n                            Div(col-md-9 text-left){\n                                Input(Class: form-control, Type: text, Name: pub_key)\n                            }\n                        }\n                    }\n                    Div(form-group){\n                        Div(row mb-sm){\n                            Div(col-md-3 mt-sm text-right){\n                                Label(For: comment){\n                                    Span(Body: LangRes(comment))\n                                }\n                            }\n                            Div(col-md-9 text-left){\n                                Input(Name: comment, Class: form-control, Type: textarea, Value: no)\n                            }\n                        }\n                    }\n                    Div(panel-footer text-right){\n                        Button(Body: LangRes(back), Class: btn btn-default, Page: catalog_ecosystems_view, PageParams: \"v_id=#v_id#\")\n                        Button(Body: LangRes(send), Class: btn btn-primary, Contract: catalog_ecosystems_Request, Params: \"ecosystem_num=#prefix_ecosystem_number#\", Page: catalog_ecosystems_view, PageParams: \"v_id=#v_id#\")\n                    }\n                }\n            }\n        }\n    }\n}",
            "Name": "catalog_ecosystems_request",
            "Menu": "default_menu"
        },
        {
            "Conditions": "ContractAccess(\"@1EditPage\")",
            "Value": "Div(content-wrapper){\n    DBFind(Name: catalog_ecosystems, Source: src_catalog).Columns(\"id,ecosystem_name,ecosystem_type,ecosystem_number,image_id,flag_free,ecosystem_info->email,ecosystem_info->phone,ecosystem_info->description,ecosystem_info->conditions,url_address->vde_form_address,url_address->web_page,url_address->vde_page,url_address->web_form_address\").Where(\"id=#v_id#\").Vars(prefix)\n    \n    SetTitle($catalog_ecosystems_number$: #prefix_ecosystem_name#)\n    Div(breadcrumb){\n        LinkPage($catalog_ecosystems$, catalog_ecosystems)\n        Span(/).Style(margin-right: 10px; margin-left: 10px;)\n        Span(Class: text-muted, Body: #prefix_ecosystem_name#)\n    }\n    \n    Div(row){\n        Div(col-md-10 col-md-offset-1){\n            Form(panel panel-default){\n                Div(panel-heading text-center){\n                    Span(Class: text-bold h3, Body: #prefix_ecosystem_name# (##prefix_ecosystem_number#))\n                }\n                Div(panel-body){\n                    Div(form-group){\n                        Div(row mb-sm){\n                            Div(col-md-12 mt-sm text-center){\n                                If(#prefix_image_id# > 0){\n                                    DBFind(Name: binaries, Source: src_binaries).Columns(\"data\").Where(\"id=#prefix_image_id#\").Vars(img)\n                                    Image(Src: \"#img_data#\").Style(width: 300px;)\n                                }\n                            }\n                        }\n                    }\n                    Div(form-group){\n                        Div(row mb-sm){\n                            Div(col-md-6 mc-sm text-right){\n                                P(Class: h5 text-normal m0){\n                                    Span(Body: LangRes(type)).(Class: text-danger, Body:*)\n                                }\n                            }\n                            Div(col-md-6 mc-sm text-left){\n                                P(Class: h5 text-normal m0, Body: EcosysParam(Name: catalog_ecosystems_type, Index: #prefix_ecosystem_type#))\n                            }\n                        }\n                        Div(row mb-sm){\n                            Div(col-md-6 mc-sm text-right){\n                                P(Class: h5 text-normal m0){\n                                    Span(Body: LangRes(catalog_ecosystems_description)).(Class: text-danger, Body:*)\n                                }\n                            }\n                            Div(col-md-6 mc-sm text-left){\n                                P(Class: h5 text-normal m0, Body: #prefix_ecosystem_info_description#)\n                            }\n                        }\n                    }\n                    Div(form-group){\n                        Div(row mb-sm){\n                            Div(col-md-6 mc-sm text-right){\n                                P(Class: h5 text-normal m0){\n                                    Span(Body: LangRes(catalog_ecosystems_freetype)).(Class: text-danger, Body:*)\n                                }\n                            }\n                            Div(col-md-6 mc-sm text-left){\n                                P(Class: h5 text-normal m0, Body: EcosysParam(Name: catalog_ecosystems_freetype, Index: #prefix_flag_free#))\n                            }\n                        }\n                        Div(row mb-sm){\n                            Div(col-md-6 mc-sm text-right){\n                                P(Class: h5 text-normal m0){\n                                    Span(Body: LangRes(catalog_ecosystems_conditions)).(Class: text-danger, Body:*)\n                                }\n                            }\n                            Div(col-md-6 mc-sm text-left){\n                                P(Class: h5 text-normal m0, Body: #prefix_ecosystem_info_conditions#)\n                            }\n                        }\n                    }\n                    Div(form-group){\n                        Div(row mb-sm){\n                            Div(col-md-6 mc-sm text-right){\n                                P(Class: h5 text-normal m0, Body: LangRes(vde_form_desc))\n                            }\n                            Div(col-md-6 mc-sm text-left){\n                                P(Class: h5 text-normal m0, Body: #prefix_url_address_vde_form_address#)\n                            }\n                        }\n                        Div(row mb-sm){\n                            Div(col-md-6 mc-sm text-right){\n                                P(Class: h5 text-normal m0, Body: LangRes(vde_page))\n                            }\n                            Div(col-md-6 mc-sm text-left){\n                                P(Class: h5 text-normal m0, Body: #prefix_url_address_vde_page#)\n                            }\n                        }\n                    }\n                    Div(form-group){\n                        Div(row mb-sm){\n                            Div(col-md-6 mc-sm text-right){\n                                P(Class: h5 text-normal m0, Body: LangRes(web_form_desc))\n                            }\n                            Div(col-md-6 mc-sm text-left){\n                                P(Class: h5 text-normal m0, Body: #prefix_url_address_web_form_address#)\n                            }\n                        }\n                        Div(row mb-sm){\n                            Div(col-md-6 mc-sm text-right){\n                                P(Class: h5 text-normal m0, Body: LangRes(web_page))\n                            }\n                            Div(col-md-6 mc-sm text-left){\n                                P(Class: h5 text-normal m0, Body: #prefix_url_address_web_page#)\n                            }\n                        }\n                    }\n                    Div(form-group){\n                        Div(row mb-sm){\n                            Div(col-md-6 mc-sm text-right){\n                                P(Class: h5 text-normal m0, Body: LangRes(catalog_ecosystems_contact_email))\n                            }\n                            Div(col-md-6 mc-sm text-left){\n                                P(Class: h5 text-normal m0, Body: #prefix_ecosystem_info_email#)\n                            }\n                        }\n                        Div(row mb-sm){\n                            Div(col-md-6 mc-sm text-right){\n                                P(Class: h5 text-normal m0, Body: LangRes(catalog_ecosystems_contact_phone))\n                            }\n                            Div(col-md-6 mc-sm text-left){\n                                P(Class: h5 text-normal m0, Body: #prefix_ecosystem_info_phone#)\n                            }\n                        }\n                    }\n                }\n                DBFind(Name: keys, Source: src_keys).Where(\"id = #key_id#\").Vars(key)\n                If(#key_amount# > 0){\n                    DBFind(Name: membership_requests, Source: src_membership).Ecosystem(\"#prefix_ecosystem_number#\").Where(\"member_id = #key_id#\").Vars(request)\n                    If(#request_id#>0){\n                        Div(row form-group){\n                            Div(col-md-12 mt-sm text-center){\n                                If(#request_status# == 0){\n                                    Em(Class: fa fa-question-circle fa-5x text-warning)\n                                    Div(text-center h4 text-bold text-warning, Body: LangRes(request_wating))\n                                }\n                                If(#request_status# == 1){\n                                    Em(Class: fa fa-check-circle fa-5x text-success)\n                                    Div(text-center h4 text-bold text-success, Body: LangRes(request_accepted))\n                                }\n                                If(#request_status# == -1){\n                                    Em(Class: fa fa-minus-circle fa-5x text-danger)\n                                    Div(text-center h4 text-bold text-danger, Body: LangRes(request_rejected))\n                                }\n                            }\n                        }\n                        \n                    }.Else{\n                        Div(row form-group){\n                            Div(col-md-12 mt-sm text-center){\n                                Em(Class: fa fa-exclamation-circle fa-5x text-primary)\n                                Div(text-center h4 text-bold text-primary, Body: LangRes(request_not_sent))\n                            }\n                        }\n                        Div(panel-footer text-right){\n                            Button(Body: LangRes(send), Class: btn btn-primary, Page: catalog_ecosystems_request, PageParams: \"v_id=#v_id#\")\n                        }\n                    }\n                }\n            }\n        }\n    }\n}",
            "Name": "catalog_ecosystems_view",
            "Menu": "default_menu"
        },
        {
            "Conditions": "ContractAccess(\"@1EditPage\")",
            "Value": "Div(content-wrapper){\n    \n    SetTitle(New Ecosystem)\n    Div(breadcrumb){\n        Span(Class: text-muted, Body: New Ecosystem)\n    }\n    \n    Div(row){\n        Div(col-md-6 col-md-offset-3 col-lg-4 col-lg-offset-4){\n            Form(panel panel-primary){\n                Div(panel-heading){New Ecosystem}\n                Div(panel-body){\n                    Div(row){\n                        Div(col-md-3 mt-sm text-right){\n                            Label(For: Name){$name$}\n                        }\n                        Div(col-md-9 mc-sm text-left){\n                            Input(Placeholder: Name of Ecosystem, Name:Name)\n                        }\n                    }\n                }\n                Div(panel-footer text-right){\n                    Button(Body: LangRes(create), Class: btn btn-primary, Contract: NewEcosystem)\n                }\n            }\n        }\n    }\n}",
            "Name": "ecosystem_new",
            "Menu": "default_menu"
        },
        {
            "Conditions": "ContractAccess(\"@1EditPage\")",
            "Value": "Div(content-wrapper){\n    \n    SetTitle($membership$)\n    Div(breadcrumb){\n        Span(Class: text-muted, Body: $membership$)\n    }\n    \n    If(GetVar(isSearch) == 1){\n        SetVar(Name: v_Where, Value: \"member_name='#v_Search#'\")\n    }.Else{\n        SetVar(Name: v_Where, Value: \"id!=0\")\n        SetVar(Name: v_Search, Value: \"\")\n    }\n    \n    DBFind(Name: members, Source: src_member).Columns(\"id,member_name,image_id\").Custom(custom_member_id){\n        SetVar(Name: style_text, Value: \"text-normal\")\n        SetVar(Name: style_link, Value: \"text-primary\")\n        Span(Class: #style_text#, Body: Address(#id#))\n    }.Custom(custom_username){\n        SetVar(Name: img_id, Value: 0)\n        DBFind(Name: binaries, Source: src_binaries).Columns(\"data\").Where(\"id=#image_id#\").Vars(img)\n        LinkPage(Class: #style_link# h5 text-bold, Page: profile_view, PageParams: \"v_member_id=#id#\"){\n            If(#img_id#>0){\n                Image(Src: \"#img_data#\", Class: img-circle).Style(width: 30px; border: 1px solid #5A5D63; margin-right: 10px;)\n                Span(#member_name#)\n            }.Else{\n                Div(){\n                    Span(Em(Class: fa icon-user fa-2x)).Style(margin-right:10px;)\n                    Span(#member_name#)\n                }.Style(display:flex; align-items:center;)\n            }\n        }\n    }.Where(#v_Where#).Order(\"member_name\")\n    \n    Div(panel panel-primary){\n        Form(panel-body){\n            Div(form-group){\n                Div(row){\n                    Div(col-md-1 mt-sm text-right){\n                        Label(For: Search){\n                            Span(Body: LangRes(username))\n                        }\n                    }\n                    Div(col-md-11 mc-sm){\n                        Div(input-group){\n                            Input(Name: Search, Value: #v_Search#)\n                            Div(input-group-btn){\n                                Button(Body: Em(Class: fa fa-search), Class: btn btn-default, Page: members_list, PageParams: \"isSearch=1,v_Search=Val(Search)\")\n                            }\n                        }\n                    }\n                }\n            }\n            Div(table-responsive){\n                Table(Source: src_member, Columns: \"$username$=custom_username,$id$=id,$address$=custom_member_id\")\n            }\n            If(GetVar(isSearch) == 1){\n                Div(text-center){\n                    Button(Body: $view_all$, Class: btn btn-primary, Page: members_list, PageParams: \"isSearch=0\")\n                }\n            }\n        }\n    }\n}",
            "Name": "members_list",
            "Menu": "default_menu"
        },
        {
            "Conditions": "ContractAccess(\"@1EditPage\")",
            "Value": "SetTitle(Money transfer)\nDiv(content-wrapper){\n    Div(breadcrumb){\n        Span(Class: text-muted, Body: Money transfer)\n    }\n    Div(row){\n        Div(col-md-6 col-md-offset-3 col-lg-4 col-lg-offset-4){\n            Form(panel panel-primary){\n                Div(panel-heading, Body: Money transfer)\n                Div(panel-body){\n                    Div(form-group){\n                        Div(row){\n                            Div(col-md-3 mt-sm text-right){\n                                Label(Recipient)\n                            }\n                            Div(col-md-9 mc-sm text-left){\n                                Input(Name: Recipient, Placeholder: \"xxxx-xxxx-xxxx-xxxx\")\n                            }\n                        }\n                    }\n                    Div(form-group){\n                        Div(row){\n                            Div(col-md-3 mt-sm text-right){\n                                Label(Pub)\n                            }\n                            Div(col-md-9 mc-sm text-left){\n                                Input(Name: Pub)\n                            }\n                        }\n                    }\n                    Div(form-group){\n                        Div(row){\n                            Div(col-md-3 mt-sm text-right){\n                                Label(Amount)\n                            }\n                            Div(col-md-9 mc-sm text-left){\n                                Input(Name: Amount, Placeholder: \"0\", Value: \"50000000000000000000000\")\n                            }\n                        }\n                    }\n                }\n                Div(panel-footer text-right){\n                    Button(Contract: \"@1MoneyTransfer\", Body: Send, Class: btn btn-primary)\n                }\n            }\n        }\n        DBFind(Name: keys, Source: src_key)\n        Div(col-md-12){\n            Div(table-responsive){\n                Table(Source: src_key)\n            }\n        }\n    }\n}",
            "Name": "money_transfer",
            "Menu": "default_menu"
        },
        {
            "Conditions": "ContractAccess(\"@1EditPage\")",
            "Value": "DBFind(Name: notifications, Source: notifications_members).Columns(\"id,page_name,notification->icon,notification->header,notification->body\").Where(\"closed=0 and notification->type='1' and recipient->member_id='#key_id#'\")\nForList(notifications_members){\n\tDiv(list-group-item){\n\t\tLinkPage(Page: #page_name#, PageParams: \"notific_id=#id#\"){\n\t\t\tDiv(media-box){\n\t\t\t\tDiv(pull-left){\n\t\t\t\t\tEm(Class: fa #notification.icon# fa-1x text-primary)\n\t\t\t\t}\n\t\t\t\tDiv(media-box-body clearfix){\n\t\t\t\t\tDiv(Class: m0 text-normal, Body: #notification.header#)\n\t\t\t\t\tDiv(Class: m0 text-muted h6, Body: #notification.body#)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\nDBFind(Name: notifications, Source: notifications_roles).Columns(\"id,page_name,notification->icon,notification->header,notification->body,recipient->role_id\").Where(\"closed=0 and notification->type='2' and (date_start_processing is null or processing_info->member_id='#key_id#')\")\nForList(notifications_roles){\n    DBFind(Name: roles_participants, Source: src_roles).Columns(\"id\").Where(\"member->member_id='#key_id#' and role->id='#recipient.role_id#' and deleted=0\").Vars(prefix)\n    If(#prefix_id# > 0){\n\t\tDiv(list-group-item){\n\t\t\tLinkPage(Page: #page_name#, PageParams: \"notific_id=#id#\"){\n\t\t\t\tDiv(media-box){\n\t\t\t\t\tDiv(pull-left){\n\t\t\t\t\t\tEm(Class: fa #notification.icon# fa-1x text-primary)\n\t\t\t\t\t}\n\t\t\t\t\tDiv(media-box-body clearfix){ \n\t\t\t\t\t\tDiv(Class: m0 text-normal, Body: #notification.header#)\n\t\t\t\t\t\tDiv(Class: m0 text-muted h6, Body: #notification.body#)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n    }\n}",
            "Name": "notifications",
            "Menu": "default_menu"
        },
        {
            "Conditions": "ContractAccess(\"@1EditPage\")",
            "Value": "Div(content-wrapper){\n    \n    SetTitle($role_notifics$)\n    Div(breadcrumb){\n        Span(Class: text-muted, Body: $role_notifics$)\n    }\n    \n    If(GetVar(isSearch) == 1){\n        SetVar(Name: v_Where, Value: \"notification->type='2' and recipient->role_name='#v_Search#'\")\n    }.Else{\n        SetVar(Name: v_Where, Value: \"notification->type='2'\")\n        SetVar(Name: v_Search, Value: \"\")\n    }\n    \n    DBFind(Name: notifications, Source: src_notifications).Columns(\"id,recipient->role_id,recipient->role_name,recipient->image_id,sender->type,sender->member_id,sender->member_name,sender->role_id,sender->role_name,notification->icon,page_name,page_params,date_created,date_closed,date_start_processing,processing_info->member_name,closed\").Custom(custom_id){\n        If(#closed# == 0){\n            SetVar(Name: style_text, Value: \"text-normal\")\n            SetVar(Name: style_link, Value: \"text-primary\")\n        }.Else{\n            SetVar(Name: style_text, Value: \"text-muted\")\n            SetVar(Name: style_link, Value: \"text-muted\")\n        }\n        Span(Class: #style_text#, Body: #id#)\n    }.Custom(custom_recipient){\n        SetVar(Name: img_id, Value: 0)\n        DBFind(Name: binaries, Source: src_binaries).Columns(\"data\").Where(\"id=#recipient.image_id#\").Vars(img)\n        LinkPage(Class: #style_link# h5 text-bold, Page: roles_view, PageParams: \"v_role_id=#recipient.role_id#\"){\n            If(#img_id#>0){\n                Image(Src: \"#img_data#\").Style(width: 30px; border: 1px solid #5A5D63; margin-right: 10px;)\n                Span(#recipient.role_name#)\n            }.Else{\n                Div(){\n                    Span(Em(Class: fa icon-settings fa-2x)).Style(margin-right:10px;)\n                    Span(#recipient.role_name#)\n                }.Style(display:flex; align-items:center;)\n            }\n        }\n    }.Custom(custom_sender){\n        If(#sender.type#==1){\n            LinkPage(Class: #style_link# h5 text-bold, Page: profile_view, PageParams: \"v_member_id=#sender.member_id#\"){\n                Span(Body: #sender.member_name#)\n            }\n        }\n        If(#sender.type#==2){\n            LinkPage(Class: #style_link# h5 text-bold, Page: roles_view, PageParams: \"v_role_id=#sender.role_id#\"){\n                Span(Body: #sender.role_name#)\n            }\n        }\n    }.Custom(custom_icon){\n        Em(Class: fa #notification.icon# fa-2x #style_text#)\n    }.Custom(custom_page){\n        LinkPage(Class: #style_link# h5 text-bold, Page: #page_name#, PageParams: \"notific_id=#id#\"){\n            Span(Body: #page_name#)\n        }\n    }.Custom(custom_date){\n        Div(Class: #style_text# h6 m0, Body: DateTime(DateTime: #date_created#, Format: \"DD.MM.YYYY HH:MI\"))\n        Div(Class: #style_text# h6 m0, Body: DateTime(DateTime: #date_closed#, Format: \"DD.MM.YYYY HH:MI\"))\n    }.Custom(custom_processing){\n        If(#date_start_processing# == NULL){\n            P(Class: #style_text# h6 m0, Body: $not_started$)\n        }.Else{\n            P(Class: #style_text# h6 m0, Body: $started$ #processing_info.member_name# $at$)\n            P(Class: #style_text# h6 m0, Body: DateTime(DateTime: #date_start_processing#, Format: \"DD.MM.YYYY HH:MI\"))\n        }\n    }.Custom(custom_status){\n        If(#closed# == 0){\n            If(#date_start_processing# == NULL){\n                Span(Class: #style_text#, Body: LangRes(active))\n            }.Else{\n                Span(Class: #style_text#, Body: LangRes(processing))\n            }\n        }.Else{\n            Span(Class: #style_text#, Body: LangRes(losed))\n        }\n    }.Custom(actions){\n        Div(text-right){\n            If(#closed# == 0){\n                If(#date_start_processing# == NULL){\n                    Button(Body: Em(Class: fa fa-recycle), Class: btn btn-default, Contract: Notifications_Roles_Processing, Params: \"notific_id=#id#\", Page: notifications_roles).Alert(Text: $want_start_processing_notification$, ConfirmButton: $yes$, CancelButton: $no$, Icon: question)\n                }.Else{\n                    Button(Body: Em(Class: fa fa-trash), Class: btn btn-default, Contract: Notifications_Roles_Close, Params: \"notific_id=#id#\", Page: notifications_roles).Alert(Text: $want_close_notification$, ConfirmButton: $yes$, CancelButton: $no$, Icon: question)\n                }\n            }\n        }\n    }.Where(#v_Where#).Order(\"closed ASC, id ASC\")\n    \n    Form(panel panel-primary){\n        Div(panel-body){\n            Div(form-group){\n                Div(row){\n                    Div(col-md-1 mt-sm text-right){\n                        Label(For: Search){\n                            Span(Body: LangRes(role))\n                        }\n                    }\n                    Div(col-md-11 mc-sm){\n                        Div(input-group){\n                            Input(Class: form-control, Type: text, Name: Search, Value: #v_Search#)\n                            Div(input-group-btn){\n                                Button(Body: Em(Class: fa fa-search), Class: btn btn-default, Page: notifications_roles, PageParams: \"isSearch=1,v_Search=Val(Search)\")\n                            }\n                        }\n                    }\n                }\n            }\n            \n            Div(table-responsive){\n                Table(Source: src_notifications, Columns: \"$id$=custom_id,$icon$=custom_icon,$recipient$=custom_recipient,$page_name$=custom_page,$sender$=custom_sender,$processing$=custom_processing,$sent$/$losed$=custom_date,$status$=custom_status,=actions\")\n                If(GetVar(isSearch) == 1){\n                    Div(text-center){\n                        Button(Body: $view_all$, Class: btn btn-primary, Page: notifications_roles, PageParams: \"isSearch=0\")\n                    }\n                }\n            }\n        }\n        Div(panel-footer text-right){\n            Button(Body: LangRes(send), Class: btn btn-primary, Page: notifications_roles_send)\n        }\n    }\n    \n}",
            "Name": "notifications_roles",
            "Menu": "default_menu"
        },
        {
            "Conditions": "ContractAccess(\"@1EditPage\")",
            "Value": "Div(content-wrapper){\n    \n    SetTitle($role_notifics$)\n    Div(breadcrumb){\n        Span(Class: text-muted, Body: $role_notifics$)\n    }\n    \n    Div(row){\n        Div(col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3){\n            Form(panel panel-primary){\n                Div(panel-heading){LangRes(role_notifics)}\n                Div(panel-body){\n                    Div(form-group){\n                        Div(row){\n                            Div(col-md-3 mt-sm text-right){\n                                Label(){\n                                    Span(Body: LangRes(recipient))\n                                    Span(Class: text-danger, Body:*)\n                                }\n                            }\n                            Div(col-md-9 mb-sm text-left){\n                                DBFind(Name: roles, Source: source_roles).Columns(\"id,role_name\").Where(\"deleted=0\")\n                                Select(Name: role_id, Source: source_roles, NameColumn: role_name, ValueColumn: id)\n                            }\n                        }\n                        Div(row){\n                            Div(col-md-3 mt-sm text-right){\n                                Label(){\n                                    Span(Body: LangRes(closure_type))\n                                    Span(Class: text-danger, Body:*)\n                                }\n                            }\n                            Div(col-md-9 mc-sm text-left){\n                                EcosysParam(Name: notification_closure, Source: src_closure_type)\n                                Select(Name: closure_type, Source: src_closure_type, NameColumn: name, ValueColumn: id)\n                            }\n                        }\n                    }\n                    Div(form-group){\n                        Div(row){\n                            Div(col-md-3 mt-sm text-right){\n                                Label(){\n                                    Span(Body: LangRes(sender))\n                                    Span(Class: text-danger, Body:*)\n                                }\n                            }\n                            Div(col-md-9 mc-sm text-left){\n                                EcosysParam(Name: notification_sender, Source: src_sender)\n                                Select(Name: sender, Source: src_sender, NameColumn: name, ValueColumn: id)\n                            }\n                        }\n                    }\n                    Div(form-group){\n                        Div(row){\n                            Div(col-md-3 mt-sm text-right){\n                                Label(){\n                                    Span(Body: LangRes(icon))\n                                    Span(Class: text-danger, Body:*)\n                                }\n                            }\n                            Div(col-md-9 mb-sm text-left){\n                                EcosysParam(Name: notification_icon, Source: src_icon)\n                                Select(Name: icon_name, Source: src_icon, NameColumn: name, ValueColumn: name)\n                            }\n                        }\n                        Div(row){\n                            Div(col-md-3 mt-sm text-right){\n                                Label(){\n                                    Span(Body: LangRes(header))\n                                    Span(Class: text-danger, Body:*)\n                                }\n                            }\n                            Div(col-md-9 mb-sm text-left){\n                                Input(Value: \"Header text\", Name: text_header).Validate(minLength:3, maxLength:255)\n                                InputErr(Name: text_header, minLength: $validate_notification$, maxLength: $validate_role_name$)\n                            }\n                        }\n                        Div(row){\n                            Div(col-md-3 mt-sm text-right){\n                                Label(){\n                                    Span(Body: LangRes(body_text))\n                                }\n                            }\n                            Div(col-md-9 mc-sm text-left){\n                                Input(Value: \"Body text\", Name: text_body)\n                            }\n                        }\n                    }\n                    Div(form-group){\n                        Div(row){\n                            Div(col-md-3 mt-sm text-right){\n                                Label(){\n                                    Span(Body: LangRes(page_name))\n                                    Span(Class: text-danger, Body:*)\n                                }\n                            }\n                            Div(col-md-9 mb-sm text-left){\n                                Input(Value: \"notifications_testpage\", Name: page_name).Validate(minLength:3, maxLength:255)\n                                InputErr(Name: page_name, minLength: $validate_notification$, maxLength: $validate_role_name$)\n                            }\n                        }\n                        Div(row){\n                            Div(col-md-3 mt-sm text-right){\n                                Label(){\n                                    Span(Body: LangRes(params))\n                                }\n                            }\n                            Div(col-md-9 mc-sm text-left){\n                                Input(Value: \"\", Name: params_val)\n                            }\n                        }\n                    }\n                }\n                Div(panel-footer text-right){\n                    Button(Body: LangRes(back), Class: btn btn-default, Page: notifications_roles)\n                    Button(Body: LangRes(send), Class: btn btn-primary, Page: notifications_roles, Contract: Notifications_Roles_Send_str)\n                }\n            }\n        }\n    }\n}",
            "Name": "notifications_roles_send",
            "Menu": "default_menu"
        },
        {
            "Conditions": "ContractAccess(\"@1EditPage\")",
            "Value": "Div(content-wrapper){\n    \n    SetTitle($single_notifics$)\n    Div(breadcrumb){\n        Span(Class: text-muted, Body: $single_notifics$)\n    }\n    \n    If(GetVar(isSearch) == 1){\n        SetVar(Name: v_Where, Value: \"notification->type='1' and recipient->member_name='#v_Search#'\")\n    }.Else{\n        SetVar(Name: v_Where, Value: \"notification->type='1'\")\n        SetVar(Name: v_Search, Value: \"\")\n    }\n    \n    DBFind(Name: notifications, Source: src_notifications).Columns(\"id,recipient->member_id,recipient->member_name,recipient->image_id,sender->type,sender->member_id,sender->member_name,sender->role_id,sender->role_name,notification->icon,page_name,page_params,date_created,date_closed,closed\").Custom(custom_id){\n        If(#closed# == 0){\n            SetVar(Name: style_text, Value: \"text-normal\")\n            SetVar(Name: style_link, Value: \"text-primary\")\n        }.Else{\n            SetVar(Name: style_text, Value: \"text-muted\")\n            SetVar(Name: style_link, Value: \"text-muted\")\n        }\n        Span(Class: #style_text#, Body: #id#)\n    }.Custom(custom_recipient){\n        SetVar(Name: img_id, Value: 0)\n        DBFind(Name: binaries, Source: src_binaries).Columns(\"data\").Where(\"id=#recipient.image_id#\").Vars(img)\n        LinkPage(Class: #style_link# h5 text-bold, Page: profile_view, PageParams: \"v_member_id=#recipient.member_id#\"){\n            If(#img_id#>0){\n                Image(Src: \"#img_data#\", Class: img-circle).Style(width: 30px; border: 1px solid #5A5D63; margin-right: 10px;)\n                Span(#recipient.member_name#)\n            }.Else{\n                Div(){\n                    Span(Em(Class: fa icon-user fa-2x)).Style(margin-right:10px;)\n                    Span(#recipient.member_name#)\n                }.Style(display:flex; align-items:center;)\n            }\n        }\n    }.Custom(custom_sender){\n        If(#sender.type#==1){\n            LinkPage(Class: #style_link# h5 text-bold, Page: profile_view, PageParams: \"v_member_id=#sender.member_id#\"){\n                Span(Body: #sender.member_name#)\n            }\n        }\n        If(#sender.type#==2){\n            LinkPage(Class: #style_link# h5 text-bold, Page: roles_view, PageParams: \"v_role_id=#sender.role_id#\"){\n                Span(Body: #sender.role_name#)\n            }\n        }\n    }.Custom(custom_icon){\n        Em(Class: fa #notification.icon# fa-2x #style_text#)\n    }.Custom(custom_page){\n        LinkPage(Class: #style_link# h5 text-bold, Page: #page_name#, PageParams: \"notific_id=#id#\"){\n            Span(Body: #page_name#)\n        }\n    }.Custom(custom_date){\n        Div(Class: #style_text# h6 m0, Body: DateTime(DateTime: #date_created#, Format: \"DD.MM.YYYY HH:MI\"))\n        Div(Class: #style_text# h6 m0, Body: DateTime(DateTime: #date_closed#, Format: \"DD.MM.YYYY HH:MI\"))\n    }.Custom(custom_status){\n        If(#closed# == 0){\n            Span(Class: #style_text#, Body: LangRes(active))\n        }.Else{\n            Span(Class: #style_text#, Body: LangRes(losed))\n        }\n    }.Custom(actions){\n        Div(pull-right){\n            If(#closed# == 0){\n                Button(Body: Em(Class: fa fa-trash), Class: btn btn-default, Contract: Notifications_Single_Close, Params: \"notific_id=#id#\", Page: notifications_single).Alert(Text: $want_close_notification$, ConfirmButton: $yes$, CancelButton: $no$, Icon: question)\n            }\n        }\n    }.Where(#v_Where#).Order(\"closed ASC, id ASC\")\n    \n    Form(panel panel-primary){\n        Form(panel-body){\n            Div(form-group){\n                Div(row){\n                    Div(col-md-1 mt-sm text-right){\n                        Label(For: Search){\n                            Span(Body: LangRes(recipient))\n                        }\n                    }\n                    Div(col-md-11 mc-sm){\n                        Div(input-group){\n                            Input(Name: Search, Value: #v_Search#)\n                            Div(input-group-btn){\n                                Button(Body: Em(Class: fa fa-search), Class: btn btn-default, Page: notifications_single, PageParams: \"isSearch=1,v_Search=Val(Search)\")\n                            }\n                        }\n                    }\n                }\n            }\n            Div(form-group){\n                Table(Source: src_notifications, Columns: \"$id$=custom_id,$icon$=custom_icon,$recipient$=custom_recipient,$page_name$=custom_page,$sender$=custom_sender,$sent$/$losed$=custom_date,$status$=custom_status,=actions\")\n                If(GetVar(isSearch) == 1){\n                    Div(text-center){\n                        Button(Body: $view_all$, Class: btn btn-primary, Page: notifications_single, PageParams: \"isSearch=0\")\n                    }\n                }\n            }\n        }\n        Div(panel-footer text-right){\n            Button(Body: LangRes(send), Class: btn btn-primary, Page: notifications_single_send)\n        }\n    }\n}",
            "Name": "notifications_single",
            "Menu": "default_menu"
        },
        {
            "Conditions": "ContractAccess(\"@1EditPage\")",
            "Value": "Div(content-wrapper){\n    \n    SetTitle($single_notifics$)\n    Div(breadcrumb){\n        Span(Class: text-muted, Body: $single_notifics$)\n    }\n    \n    Div(row){\n        Div(col-md-6 col-md-offset-3){\n            Form(panel panel-primary){\n                Div(panel-heading){LangRes(single_notifics)}\n                Div(panel-body){\n                    Div(list-group-item){\n                        Div(row){\n                            Div(col-md-3 mt-sm text-right){\n                                Label(){\n                                    Span(Body: LangRes(recipient)).(Class: text-danger, Body:*)\n                                }\n                            }\n                            Div(col-md-9 mc-sm text-left){\n                                DBFind(Name: members, Source: source_members).Columns(\"id,member_name\")\n                                Select(Name: member_id, Source: source_members, NameColumn: member_name, ValueColumn: id)\n                            }\n                        }\n                    }\n                    Div(list-group-item){\n                        Div(row){\n                            Div(col-md-3 mt-sm text-right){\n                                Label(){\n                                    Span(Body: LangRes(sender)).(Class: text-danger, Body:*)\n                                }\n                            }\n                            Div(col-md-9 mc-sm text-left){\n                                EcosysParam(Name: notification_sender, Source: src_sender)\n                                Select(Name: sender, Source: src_sender, NameColumn: name, ValueColumn: id)\n                            }\n                        }\n                    }\n                    Div(list-group-item){\n                        Div(row){\n                            Div(col-md-3 mt-sm text-right){\n                                Label(){\n                                    Span(Body: LangRes(icon)).(Class: text-danger, Body:*)\n                                }\n                            }\n                            Div(col-md-9 mb-sm text-left){\n                                EcosysParam(Name: notification_icon, Source: src_icon)\n                                Select(Name: icon_name, Source: src_icon, NameColumn: name, ValueColumn: name)\n                            }\n                        }\n                        Div(row){\n                            Div(col-md-3 mt-sm text-right){\n                                Label(){\n                                    Span(Body: LangRes(header)).(Class: text-danger, Body:*)\n                                }\n                            }\n                            Div(col-md-9 mb-sm text-left){\n                                Input(Class: form-control, Value: \"Header text\", Name: text_header).Validate(minLength:3, maxLength:255)\n                                InputErr(Name: text_header, minLength: $validate_notification$, maxLength: $validate_role_name$)\n                            }\n                        }\n                        Div(row){\n                            Div(col-md-3 mt-sm text-right){\n                                Label(){\n                                    Span(Body: LangRes(body_text))\n                                }\n                            }\n                            Div(col-md-9 mc-sm text-left){\n                                Input(Class: form-control, Value: \"Body text\", Name: text_body)\n                            }\n                        }\n                    }\n                    Div(list-group-item){\n                        Div(row){\n                            Div(col-md-3 mt-sm text-right){\n                                Label(){\n                                    Span(Body: LangRes(page_name)).(Class: text-danger, Body:*)\n                                }\n                            }\n                            Div(col-md-9 mb-sm text-left){\n                                Input(Class: form-control, Value: \"notifications_testpage\", Name: page_name).Validate(minLength:3, maxLength:255)\n                                InputErr(Name: page_name, minLength: $validate_notification$, maxLength: $validate_role_name$)\n                            }\n                        }\n                        Div(row){\n                            Div(col-md-3 mt-sm text-right){\n                                Label(){\n                                    Span(Body: LangRes(params))\n                                }\n                            }\n                            Div(col-md-9 mc-sm text-left){\n                                Input(Class: form-control, Value: \"\", Name: params_val)\n                            }\n                        }\n                    }\n                }\n                Div(panel-footer text-right){\n                    Button(Body: LangRes(back), Class: btn btn-default, Page: notifications_single)\n                    Button(Body: LangRes(send), Class: btn btn-primary, Page: notifications_single, Contract: Notifications_Single_Send_str)\n                }\n            }\n        }\n    }\n}",
            "Name": "notifications_single_send",
            "Menu": "default_menu"
        },
        {
            "Conditions": "ContractAccess(\"@1EditPage\")",
            "Value": "Div(content-wrapper){\n    \n    SetTitle($test_page$)\n    Div(breadcrumb){\n        Span(Class: text-muted, Body: LangRes(test_page))\n    }\n    \n    If(#notific_id# > 0){\n        DBFind(Name: notifications, Source: src_notifications).Columns(\"id,notification->type,notification->header,page_params->param_int,page_params->param_str,date_start_processing,closed\").Where(\"id=#notific_id#\").Vars(prefix)\n        SetVar(Name: notific_type, Value: #prefix_notification_type#)\n        SetVar(Name: notific_header, Value: #prefix_notification_header#)\n        SetVar(Name: notific_val_int, Value: #prefix_page_params_param_int#)\n        SetVar(Name: notific_val_str, Value: #prefix_page_params_param_str#)\n    }.Else{\n        Div(md-12 alert alert-danger text-center){\n            Span(Body: LangRes(attention))\n        }\n        SetVar(Name: notific_id, Value: \"0\")\n        SetVar(Name: notific_type, Value: \"0\")\n        SetVar(Name: notific_header, Value: \"null\")\n        SetVar(Name: notific_val_int, Value: \"null\")\n        SetVar(Name: notific_val_str, Value: \"null\")\n    }\n    \n    Div(row){\n        Div(col-md-6 col-md-offset-3){\n            Form(panel panel-default){\n                Div(panel-body){\n                    Div(list-group-item text-center){\n                        Span(Class: h3, Body: #notific_header#)\n                    }\n                    Div(list-group-item){\n                        Div(row){\n                            Div(col-md-6 mt-sm text-right){\n                                Span(Class: h4, Body: LangRes(id))\n                            }\n                            Div(col-md-6 mt-sm text-left){\n                                Span(Class: h4, Body: #notific_id#)\n                            }\n                        }\n                        Div(row){\n                            Div(col-md-6 mt-sm text-right){\n                                Span(Class: h4, Body: LangRes(type))\n                            }\n                            Div(col-md-6 mt-sm text-left){\n                                If(#notific_type# > 0){\n                                    Span(Class: h4, Body: EcosysParam(Name: notification_type, Index: #notific_type#))\n                                }.Else{\n                                    Span(Class: h4, Body: #notific_type#)\n                                }\n                            }\n                        }\n                    }\n                    Div(list-group-item){\n                        Div(row){\n                            Div(col-md-6 mt-sm text-right){\n                                Span(Class: h4, Body: LangRes(value_number))\n                            }\n                            Div(col-md-6 mt-sm text-left){\n                                Span(Class: h4, Body: #notific_val_int#)\n                            }\n                        }\n                        Div(row){\n                            Div(col-md-6 mt-sm text-right){\n                                Span(Class: h4, Body: LangRes(value_string))\n                            }\n                            Div(col-md-6 mt-sm text-left){\n                                Span(Class: h4, Body: #notific_val_str#)\n                            }\n                        }\n                    }\n                }\n                If(#notific_type# == 1){\n                    If(#prefix_closed# == 0){\n                        Div(panel-footer text-right){\n                            Button(Body: LangRes(close), Class: btn btn-primary, Contract: Notifications_Single_Close, Params: \"notific_id=#notific_id#\", Page: notifications_single).Alert(Text: $want_close_notification$, ConfirmButton: $yes$, CancelButton: $no$, Icon: question)\n                        }\n                    }\n                }\n                If(#notific_type# == 2){\n                    If(#prefix_closed# == 0){\n                        Div(panel-footer text-right){\n                            If(#prefix_date_start_processing# == \"\"){\n                                Button(Body: LangRes(begin), Class: btn btn-primary, Contract: Notifications_Roles_Processing, Params: \"notific_id=#notific_id#\", Page: notifications_roles).Alert(Text: $want_start_processing_notification$, ConfirmButton: $yes$, CancelButton: $no$, Icon: question)\n                            }.Else{\n                                Button(Body: LangRes(close), Class: btn btn-primary, Contract: Notifications_Roles_Close, Params: \"notific_id=#notific_id#\", Page: notifications_roles).Alert(Text: $want_close_notification$, ConfirmButton: $yes$, CancelButton: $no$, Icon: question)\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n}",
            "Name": "notifications_testpage",
            "Menu": "default_menu"
        },
        {
            "Conditions": "ContractAccess(\"@1EditPage\")",
            "Value": "Div(content-wrapper){\n    SetTitle($editing_profile$)\n    Div(breadcrumb){\n        LinkPage($user_info$, profile_view)\n        Span(/).Style(margin-right: 10px; margin-left: 10px;)\n        Span(Class: text-muted, Body: $editing_profile$)\n    }\n    \n    If(Or(#v_member_id#>0,#v_member_id#<0)){\n        DBFind(Name: members, Source: src_member).Columns(\"id,member_name,image_id,member_info->information\").Where(\"id=#v_member_id#\").Vars(prefix)\n    }.Else{\n        DBFind(Name: members, Source: src_member).Columns(\"id,member_name,image_id,member_info->information\").Where(\"id=#key_id#\").Vars(prefix)\n    }\n    \n    Div(row){\n        Div(col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3){\n            Form(panel panel-primary){\n                Div(panel-heading, Body: LangRes(editing_profile))\n                Div(panel-body){\n                    Div(row form-group){\n                        Div(col-md-3 mt-sm text-right){\n                            Label(For: member_name){\n                                Span(Body: LangRes(member_name))\n                                Span(Class: text-danger, Body:*)\n                            }\n                        }\n                        Div(col-md-9 mt-sm text-left){\n                            If(GetVar(prefix_member_name)>0){\n                                Input(Name: member_name, Value: #prefix_member_name#, Disabled: true)\n                            }.Else{\n                                Input(Name: member_name).Validate(minLength:5, maxLength:20)\n                                InputErr(Name: member_name, minLength: $validate_member_name$, maxLength: $validate_member_name$)\n                            }\n                        }\n                    }\n                    Div(row form-group){\n                        Div(col-md-3 mt-sm text-right){\n                            Label(For: member_image){\n                                Span(Body: LangRes(member_image))\n                                If(Or(#prefix_id#>0,#prefix_id#<0)){\n                                }.Else{\n                                    Span(Class: text-danger, Body:*)\n                                }\n                            }\n                        }\n                        Div(col-md-9 mc-sm text-left){\n                            ImageInput(Name: member_image, Width: 100, Ratio: 1/1)\n                        }\n                    }\n                    \n                    Div(row form-group){\n                        Div(col-md-3 mt-lg text-right){\n                            Label(For: information){\n                                Span(Body: LangRes(information))\n                            }\n                        }\n                        Div(col-md-9 mc-sm text-left){\n                            If(GetVar(prefix_member_info_information)){\n                                Input(Name: information, Type: textarea, Value: #prefix_member_info_information#)\n                            }.Else{\n                                Input(Name: information, Type: textarea)\n                            }\n                        }\n                    }\n                }\n                \n                Div(panel-footer text-right){\n                    Button(Body: LangRes(save), Class: btn btn-primary, Contract: Profile_Edit, Page: members_list,).Alert(Text: $want_save_changes$, ConfirmButton: $yes$, CancelButton: $no$, Icon: question)\n                }\n            }\n        }\n    }\n}",
            "Name": "profile_edit",
            "Menu": "default_menu"
        },
        {
            "Conditions": "ContractAccess(\"@1EditPage\")",
            "Value": "Div(content-wrapper){\n    SetTitle($user_info$)\n    Div(breadcrumb){\n        Span(Class: text-muted, Body: LangRes(user_info))\n    }\n    \n    If(Or(#v_member_id#>0,#v_member_id#<0)){\n    }.Else{\n        SetVar(Name: v_member_id, Value: #key_id#)\n    }\n    DBFind(Name: members, Source: src_member).Where(\"id=#v_member_id#\").Vars(prefix)\n    DBFind(Name: keys, Source: src_keys).Where(\"id=#key_id#\").Vars(tokens)\n    \n    If(#prefix_image_id#>0){\n        DBFind(Name: binaries, Source: src_binaries).Columns(\"id,data\").Where(\"id=#prefix_image_id#\").Vars(img)\n    }\n    If(Or(#prefix_id#>0,#prefix_id#<0)){\n    }.Else{\n        SetVar(Name: prefix_member_name, Value: \"\")\n    }\n    \n    Div(row){\n        Div(col-sm-8 col-sm-offset-2 col-lg-6 col-lg-offset-3){\n            Form(panel panel-default){\n                Div(panel-heading text-center){\n                    Span(Class: h3, Body: LangRes(user_info))\n                }\n                Div(panel-body){\n                    Div(form-group){\n                        Div(row){\n                            Div(col-md-12 mt-sm text-center){\n                                If(Or(#prefix_id#>0,#prefix_id#<0)){\n                                    If(#prefix_id# == #key_id#){\n                                        Button(Class: btn btn-link, Page: profile_edit, PageParams: \"v_member_id=#id#\"){\n                                            If(#img_id#>0){\n                                                Image(Src: \"#img_data#\", Class: img-circle).Style(width: 80px; border: 1px solid #5A5D63;)\n                                            }.Else{\n                                                Span(Class: fa icon-user fa-5x text-primary)\n                                            }\n                                            Div(m0 h3 text-bold){#prefix_member_name#}\n                                        }\n                                    }.Else{\n                                        If(#img_id#>0){\n                                            Image(Src: \"#img_data#\", Class: img-circle).Style(width: 80px; border: 1px solid #5A5D63;)\n                                        }.Else{\n                                            Span(Class: fa icon-user fa-5x text-primary)\n                                        }\n                                        Div(m0 h3 text-bold){#prefix_member_name#}\n                                    }\n                                }.Else{\n                                    Button(Class: btn btn-link, Page: profile_edit){\n                                        Span(Class: h3 text-bold, Body: LangRes(editing_profile))\n                                    }\n                                }\n                            }\n                        }\n                    }\n                    Div(list-group-item text-center){\n                        Div(text-muted m0 h5, Body: LangRes(address))\n                        Span(Class: h5 text-bold, Body: Address(#prefix_id#))\n                    }\n                    Div(list-group-item text-center){\n                        Div(text-muted m0 h5, Body: LangRes(roles))\n                        DBFind(Name: roles_participants, Source: src_check).Columns(\"id\").Where(\"member->member_id='#v_member_id#' and deleted=0\").Vars(check)\n                        If(#check_id#>0){\n                            DBFind(Name: roles_participants, Source: src_roles).Columns(\"role->id,role->name\").Where(\"member->member_id='#v_member_id#' and deleted=0\").Order(\"id\")\n                            ForList(src_roles){\n                                Span(){\n                                    LinkPage(Page: roles_view, PageParams: \"v_role_id=#role.id#\"){\n                                        Span(Class: h5 text-bold, Body: \"#role.name#\")\n                                    }\n                                }.Style(margin-right: 5px; margin-left: 5px;)\n                            }\n                        }.Else{\n                            Span(LangRes(no))\n                        }\n                    }\n                }\n            }\n        }\n    }\n}",
            "Name": "profile_view",
            "Menu": "default_menu"
        },
        {
            "Conditions": "ContractAccess(\"@1EditPage\")",
            "Value": "Div(content-wrapper){\n    \n    If(#v_role_id# > 0){\n        DBFind(Name: roles, Source: src_roles).Columns(\"id,role_name,role_type\").Where(\"id=#v_role_id#\").Vars(prefix)\n        \n        SetTitle($assign$)\n        Div(breadcrumb){\n            LinkPage($roles$, roles_list)\n            Span(/).Style(margin-right: 10px; margin-left: 10px;)\n            LinkPage(#prefix_role_name#, roles_view,, \"v_role_id=#v_role_id#\")\n            Span(/).Style(margin-right: 10px; margin-left: 10px;)\n            Span(Class: text-muted, Body: $assign$)\n        }\n        \n        Div(row){\n            Div(col-md-6 col-md-offset-3){\n                Form(panel panel-primary){\n                    Div(panel-heading){LangRes(assign)}\n                    Div(panel-body){\n                        Div(row){\n                            Div(col-md-3 mt-sm text-right){\n                                Label(){\n                                    Span(Body: LangRes(role))\n                                    Span(Class: text-danger, Body:*)\n                                }\n                            }\n                            Div(col-md-9 text-left){\n                                Input(Type: hidden, Name: role_id, Value: #prefix_id#)\n                                SetVar(Name: var_prefix_role_name, Value: LangRes(#prefix_role_name#))\n                                Input(Name: input_prefix_role_name, Value: #var_prefix_role_name#, Disabled: true)\n                            }\n                        }\n                        Div(row){\n                            Div(col-md-3 mt-sm text-right){\n                                Label(){\n                                    Span(Body: LangRes(type)).(Class: text-danger, Body:*)\n                                }\n                            }\n                            Div(col-md-9 text-left){\n                                SetVar(Name: var_prefix_role_type, Value: EcosysParam(Name: roles_types, Index: #prefix_role_type#))\n                                Input(Name: input_prefix_role_type, Value: #var_prefix_role_type#, Disabled: true)\n                                If(#prefix_role_type# != 1){\n                                    P(Class: m0 text-danger h6, Body: LangRes(appointment_impossible))\n                                }\n                            }\n                        }\n                        If(#prefix_role_type# == 1){\n                            Div(row){\n                                Div(col-md-3 mt-sm text-right){\n                                    Label(){\n                                        Span(Body: LangRes(member)).(Class: text-danger, Body:*)\n                                    }\n                                }\n                                Div(col-md-9 text-left){\n                                    DBFind(Name: members, Source: source_members).Columns(\"id,member_name\").Custom(custom_username){\n                                        #member_name# (Address(#id#) )\n                                    }\n                                    Select(Name: member_id, Source: source_members, NameColumn: custom_username, ValueColumn: id)\n                                }\n                            }\n                        }\n                    }\n                    Div(panel-footer text-right){\n                        Button(Body: LangRes(back), Class: btn btn-default, Page: roles_view, PageParams: \"v_role_id=#v_role_id#\")\n                        If(#prefix_role_type# == 1){\n                            Button(Body: LangRes(assign), Class: btn btn-primary, Page: roles_view, PageParams: \"v_role_id=#v_role_id#\", Contract: Roles_Assign, Params: \"member_id=Val(member_id)\").Alert(Text: $want_assign_member_to_role$, ConfirmButton: $yes$, CancelButton: $no$, Icon: question)\n                        }\n                    }\n                }\n            }\n        }\n    }.Else{\n        Div(md-12 alert alert-danger text-center){\n            Span(Body: LangRes(attention))\n        }\n    }\n}",
            "Name": "roles_assign",
            "Menu": "default_menu"
        },
        {
            "Conditions": "ContractAccess(\"@1EditPage\")",
            "Value": "Div(content-wrapper){\n    \n    SetTitle($new_role$)\n    Div(breadcrumb){\n        LinkPage($roles$, roles_list)\n        Span(/).Style(margin-right: 10px; margin-left: 10px;)\n        Span(Class: text-muted, Body: $new_role$)\n    }\n    \n    Div(row){\n        Div(col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3){\n            Form(panel panel-primary){\n                Div(panel-heading, Body: LangRes(new_role))\n                Div(panel panel-body){\n                    Div(row){\n                        Div(col-md-3 mt-sm text-right){\n                            Label(){\n                                Span(Body: LangRes(name))\n                                Span(Class: text-danger, Body:*)\n                            }\n                        }\n                        Div(col-md-9 text-left){\n                            Input(Name: role_name).Validate(minLength:3, maxLength:30)\n                            InputErr(Name: role_name, minLength: $validate_role_name$, maxLength: $validate_role_name$)\n                        }\n                    }\n                    Div(row){\n                        Div(col-md-3 mt-sm text-right){\n                            Label(){\n                                Span(Body: LangRes(type))\n                                Span(Class: text-danger, Body:*)\n                            }\n                        }\n                        Div(col-md-9 text-left){\n                            EcosysParam(Name: roles_types, Source: src_roles)\n                            Select(Name: role_type, Source: src_roles, NameColumn: name, ValueColumn: id)\n                        }\n                    }\n                    Div(row){\n                        Div(col-md-3 mt-sm text-right){\n                            Label(){\n                                Span(Body: LangRes(icon))\n                            }\n                        }\n                        Div(col-md-9 mc-sm text-left){\n                            ImageInput(Name: icon, Width: 100, Ratio: 1/1)\n                        }\n                    }\n                }\n                Div(panel-footer text-right){\n                    Button(Body: LangRes(back), Class: btn btn-default, Page: roles_list)\n                    Button(Body: LangRes(create), Class: btn btn-primary, Page: roles_list, Contract: Roles_Create).Alert(Text: $want_create_new_role$, ConfirmButton: $yes$, CancelButton: $no$, Icon: question)\n                }\n            }\n        }\n    }\n}",
            "Name": "roles_create",
            "Menu": "default_menu"
        },
        {
            "Conditions": "ContractAccess(\"@1EditPage\")",
            "Value": "Div(content-wrapper){\n    \n    SetTitle($roles$)\n    Div(breadcrumb){\n        Span(Class: text-muted, Body: $roles$)\n    }\n    \n    If(GetVar(isSearch) == 1){\n        SetVar(Name: v_Where, Value: \"role_name='#v_Search#'\")\n    }.Else{\n        SetVar(Name: v_Where, Value: \"id>0\")\n        SetVar(Name: v_Search, Value: \"\")\n    }\n    \n    DBFind(Name: roles, Source: src_roles).Columns(\"id,role_name,role_type,image_id,creator->member_id,creator->member_name,date_created,date_deleted,deleted\").Custom(custom_id){\n        If(#deleted# == 0){\n            SetVar(Name: style_text, Value: \"text-normal\")\n            SetVar(Name: style_link, Value: \"text-primary\")\n        }.Else{\n            SetVar(Name: style_text, Value: \"text-muted\")\n            SetVar(Name: style_link, Value: \"text-muted\")\n        }\n        Span(Class: #style_text#, Body: #id#)\n    }.Custom(custom_creator){\n        If(#role_type#==3){\n        }.Else{\n            LinkPage(Class: #style_link# h5 text-bold, Page: profile_view, PageParams: \"v_member_id=#creator.member_id#\"){\n                Span(Body: #creator.member_name#)\n            }\n        }\n    }.Custom(custom_name){\n        SetVar(Name: img_id, Value: 0)\n        DBFind(Name: binaries, Source: src_binaries).Columns(\"id,data\").Where(\"id=#image_id#\").Vars(img)\n        LinkPage(Class: #style_link# h5 text-bold, Page: roles_view, PageParams: \"v_role_id=#id#\"){\n            If(#img_id#>0){\n                Image(Src: \"#img_data#\").Style(width: 30px; border: 1px solid #5A5D63; margin-right: 10px;)\n                Span(#role_name#)\n            }.Else{\n                Div(){\n                    Span(Em(Class: fa icon-settings fa-2x)).Style(margin-right:10px;)\n                    Span(#role_name#)\n                }.Style(display:flex; align-items:center;)\n            }\n        }\n    }.Custom(custom_date){\n        Div(#style_text# h6 m0, Body: DateTime(DateTime: #date_created#, Format: \"DD.MM.YYYY HH:MI\"))\n        Div(#style_text# h6 m0, Body: DateTime(DateTime: #date_deleted#, Format: \"DD.MM.YYYY HH:MI\"))\n    }.Custom(custom_type){\n        Span(Class: #style_text#, Body: EcosysParam(Name: roles_types, Index: #role_type#))\n    }.Custom(custom_status){\n        If(#deleted# == 0){\n            Span(Class: #style_text#, Body: LangRes(active))\n        }.Else{\n            Span(Class: #style_text#, Body: LangRes(deleted))\n        }\n    }.Custom(actions){\n        Div(pull-right){\n            If(And(#deleted#==0,#role_type#!=3)){\n                Button(Body: Em(Class: fa fa-trash), Class: btn btn-default, Contract: Roles_Del, Params: \"role_id=#id#\", Page: roles_list).Alert(Text: $sure_want_delete$, ConfirmButton: $yes$, CancelButton: $no$, Icon: question)\n            }\n        }\n    }.Where(#v_Where#).Order(\"deleted ASC, id ASC\")\n    \n    Form(panel panel-primary){\n        Div(panel-body){\n            Div(form-group){\n                Div(row){\n                    Div(col-md-1 mt-sm text-right){\n                        Label(For: Search){\n                            Span(Body: LangRes(name))\n                        }\n                    }\n                    Div(col-md-11 mc-sm){\n                        Div(input-group){\n                            Input(Name: Search, Value: #v_Search#)\n                            Div(input-group-btn){\n                                Button(Body: Em(Class: fa fa-search), Class: btn btn-default, Page: roles_list, PageParams: \"isSearch=1,v_Search=Val(Search)\")\n                            }\n                        }\n                    }\n                }\n            }\n            Div(table-responsive){\n                Table(Source: src_roles, Columns: \"$id$=custom_id,$name$=custom_name,$type$=custom_type,$creator$=custom_creator,$created$ / $deleted$=custom_date,$status$=custom_status,=actions\")\n                If(GetVar(isSearch) == 1){\n                    Div(text-center){\n                        Button(Body: $view_all$, Class: btn btn-primary, Page: roles_list, PageParams: \"isSearch=0\")\n                    }\n                }\n            }\n        }\n        Div(panel-footer text-right){\n            Button(Body: LangRes(create), Class: btn btn-primary, Page: roles_create)\n        }\n    }\n}",
            "Name": "roles_list",
            "Menu": "default_menu"
        },
        {
            "Conditions": "ContractAccess(\"@1EditPage\")",
            "Value": "Div(content-wrapper){\n    \n    If(#v_role_id# > 0){\n        DBFind(Name: roles, Source: src_roles).Columns(\"role_name,role_type,deleted\").Where(\"id=#v_role_id#\").Vars(prefix)\n        \n        SetTitle($role$: #prefix_role_name#)\n        Div(breadcrumb){\n            LinkPage($roles$, roles_list)\n            Span(/).Style(margin-right: 10px; margin-left: 10px;)\n            Span(Class: text-muted, Body: #prefix_role_name#)\n        }\n        \n        DBFind(Name: roles_participants, Source: src_participants).Columns(\"id,member->member_id,member->member_name,member->image_id,appointed->member_id,appointed->member_name,appointed->voting_id,appointed->voting_name,date_created,date_deleted,deleted\").Custom(custom_id){\n            If(#deleted# == 0){\n                SetVar(Name: style_text, Value: \"text-normal\")\n                SetVar(Name: style_link, Value: \"text-primary\")\n            }.Else{\n                SetVar(Name: style_text, Value: \"text-muted\")\n                SetVar(Name: style_link, Value: \"text-muted\")\n            }\n            Span(Class: #style_text#, Body: #id#)\n        }.Custom(custom_appointed){\n            If(Or(#appointed.member_id#>0,#appointed.member_id#<0)){\n                LinkPage(Class: #style_link# h5 text-bold, Page: profile_view, PageParams: \"v_member_id=#appointed.member_id#\"){\n                    Span(Body: #appointed.member_name#)\n                }\n            }\n            If(#appointed.voting_id#>0){\n                LinkPage(Page: voting_view, PageParams: \"vID=#appointed.voting_id#\"){\n                    Span(Class: h5 text-bold, Body: #appointed.voting_name#)\n                }\n            }\n        }.Custom(custom_member){\n            SetVar(Name: img_id, Value: 0)\n            DBFind(Name: binaries, Source: src_binaries).Columns(\"data\").Where(\"id=#member.image_id#\").Vars(img)\n            LinkPage(Class: #style_link# h5 text-bold, Page: profile_view, PageParams: \"v_member_id=#member.member_id#\"){\n                If(#img_id#>0){\n                    Image(Src: \"#img_data#\", Class: img-circle).Style(width: 30px; border: 1px solid #5A5D63; margin-right: 10px;)\n                    Span(#member.member_name#)\n                }.Else{\n                    Div(){\n                        Span(Em(Class: fa icon-user fa-2x)).Style(margin-right:10px;)\n                        Span(#member.member_name#)\n                    }.Style(display:flex; align-items:center;)\n                }\n            }\n        }.Custom(custom_address){\n            Span(Class: #style_text#, Body: Address(#member.member_id#))\n        }.Custom(custom_date){\n            Div(Class: #style_text# h6 m0, Body: DateTime(DateTime: #date_created#, Format: \"DD.MM.YYYY HH:MI\"))\n            Div(Class: #style_text# h6 m0, Body: DateTime(DateTime: #date_deleted#, Format: \"DD.MM.YYYY HH:MI\"))\n        }.Custom(custom_status){\n            If(#deleted# == 0){\n                Span(Class: #style_text#, Body: LangRes(active))\n            }.Else{\n                Span(Class: #style_text#, Body: LangRes(deleted))\n            }\n        }.Custom(actions){\n            Div(pull-right){\n                If(And(#deleted#==0,#prefix_role_type#!=3)){\n                    Button(Body: Em(Class: fa fa-trash), Class: btn btn-default, Contract: Roles_Unassign, Params: \"row_id=#id#\", Page: roles_view, PageParams: \"v_role_id=#v_role_id#\").Alert(Text: $sure_want_delete$, ConfirmButton: $yes$, CancelButton: $no$, Icon: question)\n                }\n            }\n        }.Where(\"role->id='#v_role_id#'\").Order(\"deleted ASC, id ASC\")\n        \n        Form(panel panel-primary){\n            Div(panel-body){\n                Div(list-group-item){\n                    Table(Source: src_participants, Columns: \"$id$=custom_id,$member$=custom_member,$address$=custom_address,$appointed$=custom_appointed,$appointed$ / $deleted$=custom_date,$status$=custom_status,=actions\")\n                }\n            }\n            Div(panel-footer text-right){\n                Button(Body: LangRes(back), Class: btn btn-default, Page: roles_list)\n                If(#prefix_deleted#==0){\n                    Button(Body: LangRes(assign), Class: btn btn-primary, Page: roles_assign, PageParams: \"v_role_id=#v_role_id#\")\n                }\n            }\n        }\n    }.Else{\n        Div(md-12 alert alert-danger text-center){\n            Span(Body: LangRes(attention))\n        }\n    }\n}",
            "Name": "roles_view",
            "Menu": "default_menu"
        },
        {
            "Conditions": "ContractAccess(\"@1EditPage\")",
            "Value": "Div(content-wrapper){\n    \n    SetTitle($sysparams_candidate_validators_form$)\n    Div(Class: breadcrumb){\n        LinkPage($sysparams_candidates$, sysparams_candidates)\n        Span(/).Style(margin-right: 10px; margin-left: 10px;)\n        Span(Class: text-muted, Body: $sysparams_candidate_validators_form$)\n    }\n    \n    Div(row){\n        Div(col-md-10 col-md-offset-1 col-lg-8 col-lg-offset-2){\n            Form(panel panel-primary){\n                Div(panel-body){\n                    Div(form-group) {\n                        Label(LangRes(host_ip)*)\n                        Input(Name: HostIp, Type: text, Placeholder: xxx.xxx.xxx.xxx).Validate(minLength:7, maxLength:15)\n                        InputErr(Name: HostIp, minLength: Value is too short, maxLength: Value is too long)\n                    }\n                    If(){\n                        Div(form-group) {\n                            Label(LangRes(commission_pub)*)\n                            Input(Name: CommissionPub, Type: text).Validate(minLength:128)\n                            InputErr(Name: CommissionPub, minLength: Invalid pub-key)\n                        }\n                    }\n                    Div(form-group) {\n                        Label(LangRes(commission_address)*)\n                        Input(Name: CommissionAddress, Type: text,Placeholder:xxxx-xxxx-xxxx-xxxx-xxxx).Validate(minLength:24, maxLength:24)\n                        InputErr(Name: CommissionAddress, minLength: Invalid address, maxLength: Invalid address)\n                    }\n                    Div(form-group) {\n                        Label(LangRes(description_equipment))\n                        Input(Name: Description, Type: textarea)\n                    }\n                    Div(form-group) {\n                        Label(LangRes(comment))\n                        Input(Name: Comment, Type: textarea)\n                    }\n                }\n\t\t\t\tDiv(panel-footer clearfix){\n\t\t\t\t\tDiv(pull-right){\n                        Button(Body: LangRes(back), Class: btn btn-default, Page: sysparams_candidates)\n                    \tButton(Contract: sysparams_CandidateValidatorRequest, Class: btn btn-primary, Page: sysparams_candidates, Body: $send$)\n\t\t\t\t\t}\n\t\t\t\t}\n            }\n        }\n    }\n}",
            "Name": "sysparams_candidate_validators_form",
            "Menu": "default_menu"
        },
        {
            "Conditions": "ContractAccess(\"@1EditPage\")",
            "Value": "SetVar(template_id, EcosysParam(voting_validators_template_id))\nSetTitle($sysparams_candidates$)\n\nDBFind(Name:sysparams_candidate, Source: src_candidates).Where(\"deleted=0\").Custom(_actions){\n    If(#template_id#>0){\n        Div(btn-group){\n            Input(Name:KeyId, Type: hidden, Value: #candidate_key_id#)\n            Input(Name:TemplateId, Type: hidden, Value: #template_id#)\n            Button(Body: $voting_start$, Contract: voting_TemplateRun, Page: voting_list, Class: btn btn-success)\n        }\n    }.Else{\n        Button(Class: btn btn-warning icon-question, Page: sysparams_candidates).Alert(Text: $voting_template_not_found$, ConfirmButton: $yes$, CancelButton: $no$, Icon: info)\n    }\n    \n}.Custom(_date){\n    DateTime(DateTime: #date_created#, Format: YYYY-MM-DD HH:MI)\n}\n\nDiv(content-wrapper){\n    Div(breadcrumb){\n        Span(Class: text-muted, Body: $sysparams_candidates$)\n    }\n    \n    Div(row){\n        Div(col-md-12){\n            Div(panel panel-primary){\n                Form(table-responsive){\n                    Input(Name:Start, Type: hidden, Value: Now(\"YYYY-MM-DD\", +1 days))\n                    Input(Name:StartTime, Type: hidden, Value: Now(\"HH:MI\"))\n                    Input(Name:End, Type: hidden, Value: Now(\"YYYY-MM-DD\", +14 days))\n                    Input(Name:EndTime, Type: hidden, Value: Now(\"HH:MI\"))\n                    Table(Source: src_candidates, Columns: \"$id$=id,$host_ip$=host_ip,$commission_address$=commission_address,$description_equipment$=description,$comment$=comment,$date_created$=_date,=_actions\")\n                }\n                Div(panel-footer text-right){\n                    Button(Body: $add$, Class: btn btn-primary, Page: sysparams_candidate_validators_form)\n                }\n            }\n        }\n    }\n}",
            "Name": "sysparams_candidates",
            "Menu": "default_menu"
        },
        {
            "Conditions": "ContractAccess(\"@1EditPage\")",
            "Value": "SetTitle($system_params$)\nJsonToSource(nodes){SysParam(full_nodes)}\nForList(nodes){\n    Div(#key_id#)\n}\nDiv(content-wrapper){\n    Div(breadcrumb){\n        Span(Class: text-muted, Body: $system_params$)\n    }\n    Div(row){\n        Div(col-sm-12 col-lg-10 col-lg-offset-1){\n            Form(panel panel-primary){\n                Div(panel-body){\n                    Div(form-group){\n                        Div(row){\n                            Div(col-sm-4 text-center){Strong($name$)}\n                            Div(col-sm-6 text-center){Strong($value$)}\n                        }\n                    }\n                    Data(Source: src_parameters, Columns: name){\n                        gap_between_blocks\n                        default_ecosystem_page\n                        full_nodes\n                        ecosystem_price\n                        blockchain_url\n                        max_block_size\n                    }\n                    ForList(Source: src_parameters, Index: index){\n                        Div(form-group){\n                            Div(row){\n                                Div(col-sm-4){\n                                    #name#\n                                }\n                                Div(col-sm-6){\n                                    SysParam(#name#)\n                                }.Style(overflow:hidden;)\n                                Div(col-sm-2){\n                                    Button(Body: $edit$, Class: btn btn-block btn-primary, Page: sysparams_voting, PageParams: \"param_index=#index#,param_name=#name#\", Contract: sysparams_UpdateFullNodesKeysList, Params: \"Param=#name#\")\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n    DBFind(Name: roles_participants, Source: roles).Columns(\"id,member->member_id,role->id,role->name,deleted\").Where(\"member->member_id='#key_id#' and role->id='3' and role->name='Validator' and deleted=0\").Vars(validator)\n    If(#validator_id#>0){\n        Div(row){\n            Div(col-md-6 col-md-offset-3){\n                Div(panel panel-primary text-center){\n                    Div(panel-heading){$validator_removing$}\n                    Div(panel-body text-center){$validator_removing_desc$}\n                    Div(panel-footer text-right){\n                        Button(Body: $resign$, Class: btn btn-danger, Page: sysparams_list, Contract: sysparams_ValidatorResign).Alert(Text: $want_resign$, ConfirmButton: $yes$, CancelButton: $no$, Icon: question)\n                    }\n                }\n            }\n        }\n    }\n}\nIf(){\n    default_ecosystem_menu\n    default_ecosystem_contract\n    rb_blocks_1\n    new_version_url\n    number_of_nodes\n    contract_price\n    column_price\n    table_price\n    menu_price\n    page_price\n    max_tx_size\n    max_tx_count\n    max_columns\n    max_indexes\n    max_block_user_tx\n    max_fuel_tx\n    max_fuel_block\n    commission_size\n    commission_wallet\n    fuel_rate\n    extend_cost_address_to_id\n    extend_cost_id_to_address\n    extend_cost_new_state\n    extend_cost_sha256\n    extend_cost_pub_to_id\n    extend_cost_ecosys_param\n    extend_cost_sys_param_string\n    extend_cost_sys_param_int\n    extend_cost_sys_fuel\n    extend_cost_validate_condition\n    extend_cost_eval_condition\n    extend_cost_has_prefix\n    extend_cost_contains\n    extend_cost_replace\n    extend_cost_join\n    extend_cost_update_lang\n    extend_cost_size\n    extend_cost_substr\n    extend_cost_contracts_list\n    extend_cost_is_object\n    extend_cost_compile_contract\n    extend_cost_flush_contract\n    extend_cost_eval\n    extend_cost_len\n    extend_cost_activate\n    extend_cost_deactivate\n    extend_cost_create_ecosystem\n    extend_cost_table_conditions\n    extend_cost_create_table\n    extend_cost_perm_table\n    extend_cost_column_condition\n    extend_cost_create_column\n    extend_cost_perm_column\n    extend_cost_json_to_map\n    max_block_generation_time\n    block_reward\n}",
            "Name": "sysparams_list",
            "Menu": "default_menu"
        },
        {
            "Conditions": "ContractAccess(\"@1EditPage\")",
            "Value": "SetVar(template_id, EcosysParam(voting_sysparams_template_id))\nSetTitle($voting$)\n\nDiv(content-wrapper){\n    Div(breadcrumb){\n        LinkPage($system_params$, sysparams_list)\n        Span(/).Style(margin-right: 10px; margin-left: 10px;)\n        Span(Class: text-muted, Body: $voting$)\n    }\n    \n    If(And(#template_id#>0,#param_index#>0,#param_name#!=\"\")){\n        Div(row){\n            Div(col-sm-8 col-sm-offset-2 col-lg-6 col-lg-offset-3){\n                If(#param_name#==\"full_nodes\"){\n                    Form(panel panel-primary){\n                        Input(Name: Start, Type: hidden, Value: Now(\"YYYY-MM-DD\"))\n                        Input(Name: End, Type: hidden, Value: Now(\"YYYY-MM-DD\", 21 days))\n                        Input(Name: StartTime, Type: hidden, Value: Now(\"HH:MI\", +5 minute))\n                        Input(Name: EndTime, Type: hidden, Value: Now(\"HH:MI\", +5 minute))\n                        Input(Name: TemplateId, Type: hidden, Value: #template_id#)\n                        Div(panel-heading text-center h3){\n                            Span(#param_name#).Style(text-transform:uppercase;): Span($add$ $new_value$).Style(text-transform:lowercase;)\n                        }\n                        Data(new_node_form, \"name,type,placeholder,value\"){\n                            TcpAddress,text,tcp_address,\"\"\n                            ApiAddress,text,api_address,\"\"\n                            KeyId,number,key_id,#key_id#\n                            PubKey,text,public_key,\"\"\n                        }\n                        Div(panel-body){\n                            ForList(new_node_form){\n                                Div(row form-group){\n                                    Div(col-md-3 text-right){\n                                        Label(For: #name#){LangRes(#name#)}\n                                    }\n                                    Div(col-md-9 text-left){\n                                        Input(Name: #name#, Placeholder: #placeholder#, Type: #type#, Value: #value#)\n                                    }\n                                }\n                            }\n                        }\n                        Div(panel-footer text-right){\n                            Button(Body: LangRes(back), Class: btn btn-default, Page: sysparams_list)\n                            Button(Body: LangRes(voting), Class: btn btn-primary, Contract: sysparams_StartNodeAdd, Page: voting_list)\n                        }\n                    }\n                    EcosysParam(Name:full_nodes_keys, Source:src_keys)\n                    ForList(Source:src_catalog){\n                        If(#name#==\"key_id\"){\n                            SetVar(node_owner, 1)\n                        }\n                    }\n                    \n                    If(#node_owner#==1){\n                        Form(panel panel-primary){\n                            Div(panel-heading text-center h3){$delete_node$}\n                            Div(panel-body text-center){$delete_node_desc$}\n                            Div(panel-footer text-right){\n                                Button(Body: LangRes(delete), Class: btn btn-danger, Page: sysparams_list, Contract: sysparams_RemoveNode)\n                            }\n                        }\n                    }\n                    If(\"\" != SysParam(full_nodes)){\n                        Div(panel panel-primary){\n                            Div(panel-heading text-center h3){full_nodes}\n                            Div(panel-body text-center){\n                                Div(col-sm-12 text-center){\n                                    SysParam(full_nodes)\n                                }.Style(overflow-x:hidden)\n                            }\n                        }\n                    }\n                }.Else{\n                    Form(panel panel-primary){\n                        Input(Name: Start, Type: hidden, Value: Now(\"YYYY-MM-DD\"))\n                        Input(Name: End, Type: hidden, Value: Now(\"YYYY-MM-DD\", 21 days))\n                        Input(Name: StartTime, Type: hidden, Value: Now(\"HH:MI\", +2 minute))\n                        Input(Name: EndTime, Type: hidden, Value: Now(\"HH:MI\", +2 minute))\n                        Input(Name: TemplateId, Type: hidden, Value: #template_id#)\n                        Div(panel-heading text-center h3){#param_name#}\n                        Div(panel-body){\n                            Div(form-group){\n                                Div(row){\n                                    Div(col-md-3 mt-sm text-right){\n                                        Label(For: NewValue){LangRes(new_value)}\n                                    }\n                                    Div(col-md-9 mc-sm text-left){\n                                        Input(Name: NewValue, Value: \"SysParam(#param_name#)\", Type: textarea)\n                                    }\n                                }\n                            }\n                        }\n                        Div(panel-footer text-right){\n                            Button(Body: LangRes(back), Class: btn btn-default, Page: sysparams_list)\n                            Button(Body: LangRes(voting), Class: btn btn-primary, Contract: voting_TemplateRun, Params: \"ColumnName=#param_name#\", Page: voting_list)\n                        }\n                    }\n                }\n            }\n        }\n    }.Else{\n        If(#param_index#>0){}.Else{\n            Div(col-md-12 alert alert-danger text-center){\n                Div(){LangRes(attention)}\n            }\n        }\n        If(#template_id#>0){}.Else{\n            Div(col-md-12 alert alert-danger text-center){\n                Div(){LangRes(voting_template_not_found)}\n            }\n        }\n    }\n}",
            "Name": "sysparams_voting",
            "Menu": "default_menu"
        },
        {
            "Conditions": "ContractAccess(\"@1EditPage\")",
            "Value": "Div(content-wrapper){\n    \n    SetTitle($new_voting$)\n    Div(breadcrumb){\n        LinkPage($voting$, voting_list)\n        Span(/).Style(margin-right: 10px; margin-left: 10px;)\n        Span(Class: text-muted, Body: $new_voting$)\n    }\n    \n    Div(row){\n        Div(col-md-10 col-md-offset-1 col-lg-8 col-lg-offset-2){\n            Form(panel panel-primary){\n                Div(panel-heading){LangRes(new_voting)}\n                Div(panel-body){\n                    Div(form-group){\n                        Div(row){\n                            Div(col-md-3 mt-sm text-right){\n                                Label(){\n                                    Span(Body: LangRes(name))\n                                    Span(Class: text-danger, Body:*)\n                                }\n                            }\n                            Div(col-md-9 mb-sm text-left){\n                                Input(Name: voting_name, Value: New voting)\n                            }\n                        }\n                        Div(row){\n                            Div(col-md-3 mt-sm text-right){\n                                Label(){\n                                    Span(Body: LangRes(decision)).(Class: text-danger, Body:*)\n                                }\n                            }\n                            Div(col-md-9 mb-sm text-left){\n                                EcosysParam(Name: type_voting_decisions, Source: type_voting_decisions)\n                                Select(Name: type_decision, Source: type_voting_decisions, NameColumn: name, ValueColumn: id)\n                            }\n                        }\n                        Div(row){\n                            Div(col-md-3 mt-sm text-right){\n                                Label(){\n                                    Span(Body: LangRes(participants)).(Class: text-danger, Body:*)\n                                }\n                            }\n                            Div(col-md-9 mc-sm text-left){\n                                EcosysParam(Name: type_voting_participants, Source: type_voting_participants)\n                                Select(Name: type_participants, Source: type_voting_participants, NameColumn: name, ValueColumn: id)\n                            }\n                        }\n                    }\n                    Div(form-group){\n                        Div(row){\n                            Div(col-md-3 mt-sm text-right){\n                                Label(){\n                                    Span(Body: LangRes(voting_volume)).(Class: text-danger, Body:*)\n                                }\n                            }\n                            Div(col-md-9 mb-sm text-left){\n                                Input(Name: volume, Type: number, Value: 75)\n                                P(Class: m0 text-muted, Body: $voting_volume_desc$)\n                            }\n                        }\n                        Div(row){\n                            Div(col-md-3 mt-sm text-right){\n                                Label(){\n                                    Span(Body: LangRes(voting_quorum)).(Class: text-danger, Body:*)\n                                }\n                            }\n                            Div(col-md-9 mc-sm text-left){\n                                Input(Name: quorum, Type: number, Value: 50)\n                                P(Class: m0 text-muted, Body: $voting_quorum_desc$)\n                            }\n                        }\n                    }\n                    Div(form-group){\n                        Div(row){\n                            Div(col-md-3 mt-sm text-right){\n                                Label(){\n                                    Span(Body: LangRes(date_start)).(Class: text-danger, Body:*)\n                                }\n                            }\n                            Div(col-md-5 mb-sm text-left){\n                                Input(Name: start_date, Type: date, Value: Now(\"YYYY-MM-DD\", 3 days))\n                            }\n                            Div(col-md-4 mb-sm text-left){\n                                Input(Name: start_time, Type: time, Value: Now(\"HH:MI\"))\n                            }\n                        }\n                        Div(row){\n                            Div(col-md-3 mt-sm text-right){\n                                Label(){\n                                    Span(Body: LangRes(date_end)).(Class: text-danger, Body:*)\n                                }\n                            }\n                            Div(col-md-5 mc-sm text-left){\n                                Input(Name: end_date, Type: date, Value: Now(\"YYYY-MM-DD\", 21 days))\n                            }\n                            Div(col-md-4 mc-sm text-left){\n                                Input(Name: end_time, Type: time, Value: Now(\"HH:MI\"))\n                            }\n                        }\n                    }\n                    Div(form-group){\n                        Div(row){\n                            Div(col-md-3 mt-lg text-right){\n                                Label(){\n                                    Span(Body: LangRes(description))\n                                }\n                            }\n                            Div(col-md-9 mc-sm text-left){\n                                Input(Name: description, Type: textarea)\n                            }\n                        }\n                    }\n                }\n                Div(panel-footer text-right){\n                    Input(Name: now_date, Type: hidden, Value: Now(\"YYYY-MM-DD HH:MI\"))\n                    Input(Name: voting_type, Type: hidden, Value: 1)\n                    Button(Body: LangRes(back), Class: btn btn-default, Page: voting_list)\n                    Button(Body: LangRes(create), Class: btn btn-primary, Page: voting_list, Contract: voting_CreateNew)\n                }\n            }\n        }\n    }\n}",
            "Name": "voting_create",
            "Menu": "default_menu"
        },
        {
            "Conditions": "ContractAccess(\"@1EditPage\")",
            "Value": "Div(content-wrapper){\n    If(#vID# > 0){\n        DBFind(Name: votings, Source: src_voting).Columns(\"id,voting->name,optional->role_id,optional->role_vacancies,optional->contract_accept,optional->contract_reject,optional->contract_accept_params,optional->contract_reject_params\").Where(\"id=#vID#\").Vars(instance)\n        \n        SetTitle($subject_voting$)\n        Div(breadcrumb){\n            LinkPage($voting$, voting_list)\n            Span(/).Style(margin-right: 10px; margin-left: 10px;)\n            LinkPage(#instance_voting_name#, voting_view,, \"vID=#vID#\")\n            Span(/).Style(margin-right: 10px; margin-left: 10px;)\n            Span(Class: text-muted, Body: $subject_voting$)\n        }\n        \n        Div(row mt-sm){\n            Div(col-sm-10 col-sm-offset-1 col-lg-8 col-lg-offset-2){\n                Form(panel panel-primary){\n                    Div(panel-body){\n                        Div(row mt-sm){\n                            Div(col-md-3 mt-sm text-right){\n                                Label(){\n                                    Span(Body: LangRes(candidates))\n                                    Span(Class: text-danger, Body:*)\n                                }\n                            }\n                            Div(col-md-9 text-left){\n                                Div(input-group){\n                                    Input(Name: can_apply_voting, Disabled: 1, Value: \"$can_apply_voting$\")\n                                    Div(input-group-btn){\n                                        Button(Body: LangRes(apply), Class: btn btn-primary, Page: voting_decision_candidates, PageParams: \"vID=#vID#\", Contract: voting_SubjectCandidates)\n                                    }\n                                }\n                            }\n                        }\n                        Div(row mt-sm){\n                            Div(col-lg-8 col-lg-offset-3){\n                                DBFind(Name: votings_subject, Source: src_voting_subject).Columns(\"id,subject->member_id,subject->member_name\").Where(\"voting_id=#vID#\").Custom(custom_address){\n                                    Address(#subject.member_id#)\n                                }.Custom(custom_member){\n                                    LinkPage(Class: text-primary h5 text-bold, Page: profile_view, PageParams: \"v_member_id=#subject.member_id#\"){\n                                        Span(Body: #subject.member_name#)\n                                    }\n                                }\n                                Table(src_voting_subject, \"$candidates$=custom_member,$address$=custom_address\")\n                            }\n                        }\n                        Div(form-group){\n                            Div(row mt-sm){\n                                Div(col-md-3 mt-sm text-right){\n                                    Label(){\n                                        Span(Body: LangRes(role))\n                                        Span(Class: text-danger, Body:*)\n                                    }\n                                }\n                                Div(col-md-9 text-left){\n                                    DBFind(Name: roles, Source: src_roles).Columns(\"id,role_name\").Where(\"role_type=2 and deleted=0\")\n                                    Select(Name: roleID, Source: src_roles, NameColumn: role_name, ValueColumn: id, Value: #instance_optional_role_id#)\n                                }\n                            }\n                            Div(row mt-sm){\n                                Div(col-md-3 mt-sm text-right){\n                                    Label(){\n                                        Span(Body: LangRes(vacancies))\n                                        Span(Class: text-danger, Body:*)\n                                    }\n                                }\n                                Div(col-md-9 text-left){\n                                    Input(Name: vacancies, Type: Number, Value: #instance_optional_role_vacancies#)\n                                }\n                            }\n                        }\n                        Div(form-group){\n                            Div(row mt-sm){\n                                Div(col-md-3 mt-sm text-right){\n                                    Label(){\n                                        Span(Body: LangRes(contract_accept))\n                                    }\n                                }\n                                Div(col-md-9 text-left){\n                                    Input(Name: contract_accept, Value: #instance_optional_contract_accept#, Placeholder: \"$contract_accept_des$\").Validate(minLength:3, maxLength:255)\n                                    InputErr(Name: contract_accept, minLength: $validate_contract_name$, maxLength: $validate_contract_name$)\n                                }\n                            }\n                            Div(row mt-sm){\n                                Div(col-md-3 mt-sm text-right){\n                                    Label(){\n                                        Span(Body: LangRes(params))\n                                    }\n                                }\n                                Div(col-md-9 text-left){\n                                    Input(Name: contract_accept_params, Value: #instance_optional_contract_accept_params#, Placeholder: \"$contract_params_des$\")\n                                }\n                            }\n                            Div(row mt-sm){\n                                Div(col-md-3 mt-sm text-right){\n                                    Label(){\n                                        Span(Body: LangRes(contract_reject))\n                                    }\n                                }\n                                Div(col-md-9 text-left){\n                                    Input(Name: contract_reject, Value: #instance_optional_contract_reject#, Placeholder: \"$contract_reject_des$\").Validate(minLength:3, maxLength:255)\n                                    InputErr(Name: contract_reject, minLength: $validate_contract_name$, maxLength: $validate_contract_name$)\n                                }\n                            }\n                            Div(row mt-sm){\n                                Div(col-md-3 mt-sm text-right){\n                                    Label(){\n                                        Span(Body: LangRes(params))\n                                    }\n                                }\n                                Div(col-md-9 text-left){\n                                    Input(Name: contract_reject_params, Value: #instance_optional_contract_reject_params#, Placeholder: \"$contract_params_des$\")\n                                }\n                            }\n                        }\n                    }\n                    Div(panel-footer text-right){\n                        Input(Name: memberID, Type: hidden, Value: 0)\n                        Input(Name: votingID, Type: hidden, Value: #vID#)\n                        Button(Body: LangRes(back), Class: btn btn-default, Page: voting_view, PageParams: \"vID=#vID#\")\n                        Button(Body: LangRes(save), Class: btn btn-primary, Page: voting_view, PageParams: \"vID=#vID#\", Contract: voting_SubjectSettings)\n                    }\n                }\n            }\n        }\n    }.Else{\n        Div(md-12 alert alert-danger text-center){\n            Span(Body: LangRes(attention))\n        }\n    }\n}",
            "Name": "voting_decision_candidates",
            "Menu": "default_menu"
        },
        {
            "Conditions": "ContractAccess(\"@1EditPage\")",
            "Value": "Div(content-wrapper){\n    If(#vID# > 0){\n        DBFind(Name: votings, Source: src_voting).Columns(\"id,voting->name\").Where(\"id=#vID#\").Vars(instance)\n        DBFind(Name: votings_subject, Source: src_subject).Columns(\"id,subject->contract_accept,subject->contract_reject,subject->contract_accept_params,subject->contract_reject_params\").Where(\"voting_id=#vID#\").Vars(prefix)\n        \n        If(#prefix_id#>0){\n        }.Else{\n            SetVar(Name: prefix_subject_contract_accept, Value: \"\")\n            SetVar(Name: prefix_subject_contract_accept_params, Value: \"\")\n            SetVar(Name: prefix_subject_contract_reject, Value: \"\")\n            SetVar(Name: prefix_subject_contract_reject_params, Value: \"\")\n        }\n        \n        SetTitle($subject_voting$)\n        Div(breadcrumb){\n            LinkPage($voting$, voting_list)\n            Span(/).Style(margin-right: 10px; margin-left: 10px;)\n            LinkPage(#instance_voting_name#, voting_view,, \"vID=#vID#\")\n            Span(/).Style(margin-right: 10px; margin-left: 10px;)\n            Span(Class: text-muted, Body: $subject_voting$)\n        }\n        \n        Div(row){\n            Div(col-sm-10 col-sm-offset-1 col-lg-8 col-lg-offset-2){\n                Form(panel panel-primary){\n                    Div(panel-body){\n                        Div(row){\n                            Div(col-md-3 mt-sm text-right){\n                                Label(){\n                                    Span(Body: LangRes(contract_accept)).(Class: text-danger, Body:*)\n                                }\n                            }\n                            Div(col-md-9 mb-sm text-left){\n                                Input(Name: contract_accept, Value: #prefix_subject_contract_accept#, Placeholder: \"$contract_accept_des$\").Validate(minLength:3, maxLength:255)\n                                InputErr(Name: contract_accept, minLength: $validate_contract_name$, maxLength: $validate_contract_name$)\n                            }\n                        }\n                        Div(row){\n                            Div(col-md-3 mt-sm text-right){\n                                Label(){\n                                    Span(Body: LangRes(params))\n                                }\n                            }\n                            Div(col-md-9 mc-sm text-left){\n                                Input(Name: contract_accept_params, Value: #prefix_subject_contract_accept_params#, Placeholder: \"$contract_params_des$\")\n                            }\n                        }\n                        \n                        Div(form-group){\n                            Div(row){\n                                Div(col-md-3 mt-sm text-right){\n                                    Label(){\n                                        Span(Body: LangRes(contract_reject)).(Class: text-danger, Body:*)\n                                    }\n                                }\n                                Div(col-md-9 mb-sm text-left){\n                                    Input(Name: contract_reject, Value: #prefix_subject_contract_reject#, Placeholder: \"$contract_reject_des$\").Validate(minLength:3, maxLength:255)\n                                    InputErr(Name: contract_reject, minLength: $validate_contract_name$, maxLength: $validate_contract_name$)\n                                }\n                            }\n                            Div(row){\n                                Div(col-md-3 mt-sm text-right){\n                                    Label(){\n                                        Span(Body: LangRes(params))\n                                    }\n                                }\n                                Div(col-md-9 mc-sm text-left){\n                                    Input(Name: contract_reject_params, Value: #prefix_subject_contract_reject_params#, Placeholder: \"$contract_params_des$\")\n                                }\n                            }\n                        }\n                    }\n                    Div(panel-footer text-right){\n                        Input(Name: votingID, Type: hidden, Value: #vID#)\n                        Button(Body: LangRes(back), Class: btn btn-default, Page: voting_view, PageParams: \"vID=#vID#\")\n                        Button(Body: LangRes(save), Class: btn btn-primary, Page: voting_view, PageParams: \"vID=#vID#\", Contract: voting_SubjectContract)\n                    }\n                }\n            }\n        }\n    }.Else{\n        Div(md-12 alert alert-danger text-center){\n            Span(Body: LangRes(attention))\n        }\n    }\n}",
            "Name": "voting_decision_contract",
            "Menu": "default_menu"
        },
        {
            "Conditions": "ContractAccess(\"@1EditPage\")",
            "Value": "Div(content-wrapper){\n    If(#vID# > 0){\n        DBFind(Name: votings, Source: src_voting).Columns(\"id,voting->name,optional->contract_accept,optional->contract_reject,optional->contract_accept_params,optional->contract_reject_params\").Where(\"id=#vID#\").Vars(instance)\n        DBFind(Name: votings_subject, Source: src_voting_subject).Columns(\"id,subject->text\").Where(\"voting_id=#vID#\").Vars(prefix)\n        \n        If(#prefix_id#>0){\n        }.Else{\n            SetVar(Name: prefix_subject_text, Value: \"\")\n        }\n        \n        SetTitle($subject_voting$)\n        Div(breadcrumb){\n            LinkPage($voting$, voting_list)\n            Span(/).Style(margin-right: 10px; margin-left: 10px;)\n            LinkPage(#instance_voting_name#, voting_view,, \"vID=#vID#\")\n            Span(/).Style(margin-right: 10px; margin-left: 10px;)\n            Span(Class: text-muted, Body: $subject_voting$)\n        }\n        \n        Div(row){\n            Div(col-sm-10 col-sm-offset-1 col-lg-8 col-lg-offset-2){\n                Form(panel panel-primary){\n                    Div(panel-body){\n                        Div(form-group){\n                            Div(row){\n                                Div(col-md-12 mt-sm){\n                                    Label(){\n                                        Span(Body: LangRes(text_document))\n                                        Span(Class: text-danger, Body:*)\n                                    }\n                                    Input(Name: text_document, Type: textarea, Value: #prefix_subject_text#)\n                                }\n                            }\n                        }\n                        Div(form-group){\n                            Div(row mb-sm){\n                                Div(col-md-3 mt-sm text-right){\n                                    Label(){\n                                        Span(Body: LangRes(contract_accept))\n                                    }\n                                }\n                                Div(col-md-9 text-left){\n                                    Input(Name: contract_accept, Value: #instance_optional_contract_accept#, Placeholder: \"$contract_accept_des$\").Validate(minLength:3, maxLength:255)\n                                    InputErr(Name: contract_accept, minLength: $validate_contract_name$, maxLength: $validate_contract_name$)\n                                }\n                            }\n                            Div(row mb-sm){\n                                Div(col-md-3 mt-sm text-right){\n                                    Label(){\n                                        Span(Body: LangRes(params))\n                                    }\n                                }\n                                Div(col-md-9 text-left){\n                                    Input(Name: contract_accept_params, Value: #instance_optional_contract_accept_params#, Placeholder: \"$contract_params_des$\")\n                                }\n                            }\n                            Div(row mb-sm){\n                                Div(col-md-3 mt-sm text-right){\n                                    Label(){\n                                        Span(Body: LangRes(contract_reject))\n                                    }\n                                }\n                                Div(col-md-9 text-left){\n                                    Input(Name: contract_reject, Value: #instance_optional_contract_reject#, Placeholder: \"$contract_reject_des$\").Validate(minLength:3, maxLength:255)\n                                    InputErr(Name: contract_reject, minLength: $validate_contract_name$, maxLength: $validate_contract_name$)\n                                }\n                            }\n                            Div(row){\n                                Div(col-md-3 mt-sm text-right){\n                                    Label(){\n                                        Span(Body: LangRes(params))\n                                    }\n                                }\n                                Div(col-md-9 mc-sm text-left){\n                                    Input(Name: contract_reject_params, Value: #instance_optional_contract_reject_params#, Placeholder: \"$contract_params_des$\")\n                                }\n                            }\n                        }\n                    }\n                    Div(panel-footer text-right){\n                        Input(Name: votingID, Type: hidden, Value: #vID#)\n                        \n                        Button(Body: LangRes(back), Class: btn btn-default, Page: voting_view, PageParams: \"vID=#vID#\")\n                        Button(Body: LangRes(save), Class: btn btn-primary, Page: voting_view, PageParams: \"vID=#vID#\", Contract: voting_SubjectDocument)\n                    }\n                }\n            }\n        }\n    }.Else{\n        Div(md-12 alert alert-danger text-center){\n            Span(Body: LangRes(attention))\n        }\n    }\n}",
            "Name": "voting_decision_document",
            "Menu": "default_menu"
        },
        {
            "Conditions": "ContractAccess(\"@1EditPage\")",
            "Value": "Div(content-wrapper){\n    If(#vID# > 0){\n        DBFind(Name: votings, Source: src_voting).Columns(\"id,voting->name,optional->role_id,optional->role_vacancies,optional->contract_accept,optional->contract_reject,optional->contract_accept_params,optional->contract_reject_params\").Where(\"id=#vID#\").Vars(instance)\n        \n        SetTitle($subject_voting$)\n        Div(breadcrumb){\n            LinkPage($voting$, voting_list)\n            Span(/).Style(margin-right: 10px; margin-left: 10px;)\n            LinkPage(#instance_voting_name#, voting_view,, \"vID=#vID#\")\n            Span(/).Style(margin-right: 10px; margin-left: 10px;)\n            Span(Class: text-muted, Body: $subject_voting$)\n        }\n        \n        Div(row){\n            Div(col-sm-10 col-sm-offset-1 col-lg-8 col-lg-offset-2){\n                Form(panel panel-primary){\n                    Div(panel-body){\n                        Div(list-group-item){\n                            Div(row){\n                                Div(col-md-3 mt-sm text-right){\n                                    Label(){\n                                        Span(Body: LangRes(candidates)).(Class: text-danger, Body:*)\n                                    }\n                                }\n                                Div(col-md-9 mc-sm text-left){\n                                    Div(input-group){\n                                        DBFind(Name: members, Source: src_members).Columns(\"id,member_name\").Custom(custom_username){\n                                            #member_name# (Address(#id#) )\n                                        }\n                                        Select(Name: memberID, Source: src_members, NameColumn: custom_username, ValueColumn: id)\n                                        Div(input-group-btn){\n                                            Button(Body: LangRes(add), Class: btn btn-primary, Page: voting_decision_election, PageParams: \"vID=#vID#\", Contract: voting_SubjectCandidates)\n                                        }\n                                    }\n                                }\n                            }\n                            Div(row df){\n                                Div(col-lg-8 col-lg-offset-3){\n                                    DBFind(Name: votings_subject, Source: src_subject).Columns(\"id,subject->member_id,subject->member_name\").Where(\"voting_id=#vID#\").Custom(custom_address){\n                                        Address(#subject.member_id#)\n                                    }.Custom(custom_member){\n                                        LinkPage(Class: text-primary h5 text-bold, Page: profile_view, PageParams: \"v_member_id=#subject.member_id#\"){\n                                            Span(Body: #subject.member_name#)\n                                        }\n                                    }\n                                    Table(src_subject, \"$candidates$=custom_member,$address$=custom_address\")\n                                }\n                            }\n                        }\n                        Div(list-group-item){\n                            Div(row){\n                                Div(col-md-3 mt-sm text-right){\n                                    Label(){\n                                        Span(Body: LangRes(role)).(Class: text-danger, Body:*)\n                                    }\n                                }\n                                Div(col-md-9 mb-sm text-left){\n                                    DBFind(Name: roles, Source: src_roles).Columns(\"id,role_name\").Where(\"role_type=2 and deleted=0\")\n                                    Select(Name: roleID, Source: src_roles, NameColumn: role_name, ValueColumn: id, Value: #instance_optional_role_id#)\n                                }\n                            }\n                            \n                            Div(row){\n                                Div(col-md-3 mt-sm text-right){\n                                    Label(){\n                                        Span(Body: LangRes(vacancies)).(Class: text-danger, Body:*)\n                                    }\n                                }\n                                Div(col-md-9 mc-sm text-left){\n                                    Input(Name: vacancies, Class: form-control, Type: Number, Value: #instance_optional_role_vacancies#)\n                                }\n                            }\n                        }\n                        Div(list-group-item){\n                            Div(row){\n                                Div(col-md-3 mt-sm text-right){\n                                    Label(){\n                                        Span(Body: LangRes(contract_accept))\n                                    }\n                                }\n                                Div(col-md-9 mb-sm text-left){\n                                    Input(Name: contract_accept, Value: #instance_optional_contract_accept#, Placeholder: \"$contract_accept_des$\").Validate(minLength:3, maxLength:255)\n                                    InputErr(Name: contract_accept, minLength: $validate_contract_name$, maxLength: $validate_contract_name$)\n                                }\n                            }\n                            Div(row){\n                                Div(col-md-3 mt-sm text-right){\n                                    Label(){\n                                        Span(Body: LangRes(params))\n                                    }\n                                }\n                                Div(col-md-9 mb-sm text-left){\n                                    Input(Name: contract_accept_params, Value: #instance_optional_contract_accept_params#, Placeholder: \"$contract_params_des$\")\n                                }\n                            }\n                            Div(row){\n                                Div(col-md-3 mt-sm text-right){\n                                    Label(){\n                                        Span(Body: LangRes(contract_reject))\n                                    }\n                                }\n                                Div(col-md-9 mb-sm text-left){\n                                    Input(Name: contract_reject, Value: #instance_optional_contract_reject#, Placeholder: \"$contract_reject_des$\").Validate(minLength:3, maxLength:255)\n                                    InputErr(Name: contract_reject, minLength: $validate_contract_name$, maxLength: $validate_contract_name$)\n                                }\n                            }\n                            Div(row){\n                                Div(col-md-3 mt-sm text-right){\n                                    Label(){\n                                        Span(Body: LangRes(params))\n                                    }\n                                }\n                                Div(col-md-9 mc-sm text-left){\n                                    Input(Name: contract_reject_params, Value: #instance_optional_contract_reject_params#, Placeholder: \"$contract_params_des$\")\n                                }\n                            }\n                        }\n                    }\n                    Div(panel-footer text-right){\n                        Input(Name: votingID, Type: hidden, Value: #vID#)\n                        Button(Body: LangRes(back), Class: btn btn-default, Page: voting_view, PageParams: \"vID=#vID#\")\n                        Button(Body: LangRes(save), Class: btn btn-primary, Page: voting_view, PageParams: \"vID=#vID#\", Contract: voting_SubjectSettings)\n                    }\n                }\n            }\n        }\n    }.Else{\n        Div(md-12 alert alert-danger text-center){\n            Span(Body: LangRes(attention))\n        }\n    }\n}",
            "Name": "voting_decision_election",
            "Menu": "default_menu"
        },
        {
            "Conditions": "ContractAccess(\"@1EditPage\")",
            "Value": "Div(content-wrapper){\n    If(#vID# > 0){\n        DBFind(Name: votings, Source: src_voting).Columns(\"id,voting->name,optional->contract_accept,optional->contract_reject,optional->contract_accept_params,optional->contract_reject_params\").Where(\"id=#vID#\").Vars(instance)\n        DBFind(Name: votings_subject, Source: src_subject).Columns(\"id,subject->column,subject->column_value,subject->table_id,subject->table,subject->description\").Where(\"voting_id=#vID#\").Vars(prefix)\n        \n        If(#prefix_id#>0){\n        }.Else{\n            SetVar(Name: prefix_subject_description, Value: \"\")\n            SetVar(Name: prefix_subject_table, Value: \"\")\n            SetVar(Name: prefix_subject_table_id, Value: \"\")\n            SetVar(Name: prefix_subject_column, Value: \"\")\n            SetVar(Name: prefix_subject_column_value, Value: \"\")\n        }\n        \n        SetTitle($subject_voting$)\n        Div(breadcrumb){\n            LinkPage($voting$, voting_list)\n            Span(/).Style(margin-right: 10px; margin-left: 10px;)\n            LinkPage(#instance_voting_name#, voting_view,, \"vID=#vID#\")\n            Span(/).Style(margin-right: 10px; margin-left: 10px;)\n            Span(Class: text-muted, Body: $subject_voting$)\n        }\n        \n        Div(row){\n            Div(col-sm-10 col-sm-offset-1 col-lg-8 col-lg-offset-2){\n                Form(panel panel-primary){\n                    Div(panel-body){\n                        Div(form-group){\n                            Div(row){\n                                Div(col-md-3 mt-sm text-right){\n                                    Label(){\n                                        Span(Body: LangRes(table_to_written))\n                                        Span(Class: text-danger, Body:*)\n                                    }\n                                }\n                                Div(col-md-9 mb-sm text-left){\n                                    Input(Name: table_to_written, Value: #prefix_subject_table#, Placeholder: \"$table_to_written_desc$\")\n                                }\n                            }\n                            Div(row){\n                                Div(col-md-3 mt-sm text-right){\n                                    Label(){\n                                        Span(Body: LangRes(row_id))\n                                        Span(Class: text-danger, Body:*)\n                                    }\n                                }\n                                Div(col-md-9 mb-sm text-left){\n                                    Input(Name: row_id, Class: form-control, Type: number, Value: #prefix_subject_table_id#, Placeholder: \"$row_id_desc$\")\n                                }\n                            }\n                            Div(row){\n                                Div(col-md-3 mt-sm text-right){\n                                    Label(){\n                                        Span(Body: LangRes(column_name))\n                                        Span(Class: text-danger, Body:*)\n                                    }\n                                }\n                                Div(col-md-9 mb-sm text-left){\n                                    Input(Name: column_name, Value: #prefix_subject_column#, Placeholder: \"$column_name_desc$\")\n                                }\n                            }\n                            Div(row){\n                                Div(col-md-3 mt-sm text-right){\n                                    Label(){\n                                        Span(Body: LangRes(written_value))\n                                        Span(Class: text-danger, Body:*)\n                                    }\n                                }\n                                Div(col-md-9 mc-sm text-left){\n                                    Input(Name: written_value, Value: #prefix_subject_column_value#, Placeholder: \"$written_value_desc$\")\n                                }\n                            }\n                        }\n                        Div(form-group){\n                            Div(row){\n                                Div(col-md-3 mt-lg text-right){\n                                    Label(){\n                                        Span(Body: LangRes(description))\n                                    }\n                                }\n                                Div(col-md-9 mc-sm text-left){\n                                    Input(Name: description, Class: form-control, Type: textarea, Value: #prefix_subject_description#)\n                                }\n                            }\n                        }\n                        Div(form-group){\n                            Div(row){\n                                Div(col-md-3 mt-sm text-right){\n                                    Label(){\n                                        Span(Body: LangRes(contract_accept))\n                                    }\n                                }\n                                Div(col-md-9 mb-sm text-left){\n                                    Input(Name: contract_accept, Value: #instance_optional_contract_accept#, Placeholder: \"$contract_accept_des$\").Validate(minLength:3, maxLength:255)\n                                    InputErr(Name: contract_accept, minLength: $validate_contract_name$, maxLength: $validate_contract_name$)\n                                }\n                            }\n                            Div(row){\n                                Div(col-md-3 mt-sm text-right){\n                                    Label(){\n                                        Span(Body: LangRes(params))\n                                    }\n                                }\n                                Div(col-md-9 mb-sm text-left){\n                                    Input(Name: contract_accept_params, Value: #instance_optional_contract_accept_params#, Placeholder: \"$contract_params_des$\")\n                                }\n                            }\n                            Div(row){\n                                Div(col-md-3 mt-sm text-right){\n                                    Label(){\n                                        Span(Body: LangRes(contract_reject))\n                                    }\n                                }\n                                Div(col-md-9 mb-sm text-left){\n                                    Input(Name: contract_reject, Value: #instance_optional_contract_reject#, Placeholder: \"$contract_reject_des$\").Validate(minLength:3, maxLength:255)\n                                    InputErr(Name: contract_reject, minLength: $validate_contract_name$, maxLength: $validate_contract_name$)\n                                }\n                            }\n                            Div(row){\n                                Div(col-md-3 mt-sm text-right){\n                                    Label(){\n                                        Span(Body: LangRes(params))\n                                    }\n                                }\n                                Div(col-md-9 mc-sm text-left){\n                                    Input(Name: contract_reject_params, Value: #instance_optional_contract_reject_params#, Placeholder: \"$contract_params_des$\")\n                                }\n                            }\n                        }\n                    }\n                    Div(panel-footer text-right){\n                        Input(Name: votingID, Type: hidden, Value: #vID#)\n                        Button(Body: LangRes(back), Class: btn btn-default, Page: voting_view, PageParams: \"vID=#vID#\")\n                        Button(Body: LangRes(save), Class: btn btn-primary, Page: voting_view, PageParams: \"vID=#vID#\", Contract: voting_SubjectFormal)\n                    }\n                }\n            }\n        }\n    }.Else{\n        Div(md-12 alert alert-danger text-center){\n            Span(Body: LangRes(attention))\n        }\n    }\n}",
            "Name": "voting_decision_formal",
            "Menu": "default_menu"
        },
        {
            "Conditions": "ContractAccess(\"@1EditPage\")",
            "Value": "Div(content-wrapper){\n    If(#vID# > 0){\n        DBFind(Name: votings, Source: src_voting).Columns(\"id,voting->name,voting->type_participants\").Where(\"id=#vID#\").Vars(instance)\n        \n        SetTitle($participants$)\n        Div(breadcrumb){\n            LinkPage($voting$, voting_list)\n            Span(/).Style(margin-right: 10px; margin-left: 10px;)\n            LinkPage(#instance_voting_name#, voting_view,, \"vID=#vID#\")\n            Span(/).Style(margin-right: 10px; margin-left: 10px;)\n            Span(Class: text-muted, Body: $participants$)\n        }\n        \n        Div(row){\n            Div(col-sm-10 col-sm-offset-1 col-lg-8 col-lg-offset-2){\n                Form(panel panel-primary){\n                    Div(panel-heading){LangRes(participants)}\n                    Div(panel-body){\n                        Div(form-group){\n                            If(#instance_voting_type_participants# == 1){\n                                Div(row){\n                                    Div(col-md-12){\n                                        Input(Name: voting_all_members, Disabled: 1, Value: \"$voting_all_members$\")\n                                    }\n                                }\n                            }\n                            If(#instance_voting_type_participants# == 2){\n                                Div(row){\n                                    Div(col-md-12){\n                                        Label(){\n                                            Span(Body: LangRes(select_member))\n                                            Span(Class: text-danger, Body:*)\n                                        }\n                                        DBFind(Name: members, Source: src_members).Columns(\"id,member_name\").Custom(custom_username){\n                                            #member_name# (Address(#id#) )\n                                        }\n                                        Select(Name: var_id, Source: src_members, NameColumn: custom_username, ValueColumn: id)\n                                    }\n                                }\n                            }\n                            If(#instance_voting_type_participants# == 3){\n                                Div(row){\n                                    Div(col-md-12){\n                                        Label(){\n                                            Span(Body: LangRes(select_role))\n                                            Span(Class: text-danger, Body:*)\n                                        }\n                                        DBFind(Name: roles, Source: src_roles).Columns(\"id,role_name\").Where(\"deleted=0\")\n                                        Select(Name: var_id, Source: src_roles, NameColumn: role_name, ValueColumn: id)\n                                    }\n                                }\n                            }\n                        }\n                        DBFind(Name: votings_participants, Source: src_participants).Columns(\"id\").Where(\"voting_id=#vID#\").Vars(participant)\n                        If(#participant_id#>0){\n                            Div(form-group){\n                                Div(row){\n                                    Div(col-md-12){\n                                        DBFind(Name: votings_participants, Source: src_participants).Columns(\"id,member->member_id,member->member_name\").Where(\"voting_id=#vID#\").Custom(custom_id){\n                                            Span(Body: #id#)\n                                        }.Custom(custom_member){\n                                            LinkPage(Class: text-primary h5 text-bold, Page: profile_view, PageParams: \"v_member_id=#member.member_id#\"){\n                                                Span(Body: #member.member_name#)\n                                            }\n                                        }\n                                        Table(src_participants, \"$id$=custom_id,$member_name$=custom_member\")\n                                    }\n                                }\n                            }\n                        }\n                    }\n                    Div(panel-footer text-right){\n                        Input(Name: votingID, Type: hidden, Value: #vID#)\n                        Button(Body: LangRes(back), Class: btn btn-default, Page: voting_view, PageParams: \"vID=#vID#\")\n                        If(#instance_voting_type_participants# == 2){\n                            Button(Body: LangRes(add_member), Class: btn btn-primary, Page: voting_view, PageParams: \"vID=#vID#\", Contract: voting_Invite)\n                        }\n                        If(#instance_voting_type_participants# == 3){\n                            Button(Body: LangRes(add_role), Class: btn btn-primary, Page: voting_view, PageParams: \"vID=#vID#\", Contract: voting_Invite)\n                        }\n                    }\n                }\n            }\n        }\n    }.Else{\n        Div(md-12 alert alert-danger text-center){\n            Span(Body: LangRes(attention))\n        }\n    }\n}",
            "Name": "voting_invite",
            "Menu": "default_menu"
        },
        {
            "Conditions": "ContractAccess(\"@1EditPage\")",
            "Value": "Div(content-wrapper){\n    \n    SetTitle($voting$)\n    Div(breadcrumb){\n        Span(Class: text-muted, Body: $voting$)\n    }\n    \n    If(GetVar(isSearch) == 1){\n        SetVar(Name: v_Where, Value: \"voting->name='#v_Search#' and deleted=0\")\n    }.Else{\n        SetVar(Name: v_Where, Value: \"deleted=0\")\n        SetVar(Name: v_Search, Value: \"\")\n    }\n    \n    DBFind(Name: votings, Source: src_voting).Columns(\"id,voting->name,voting->type,voting->type_decision,voting->type_participants,flags->notifics,flags->success,flags->decision,progress->percent_success,creator->member_id,creator->member_name,date_started,date_ended,deleted\").Custom(custom_id){\n        Span(Class: h5, Body: #id#)\n        SetVar(Name: vDateNow, Value: Now(\"YYYY-MM-DD HH:MI\"))\n        SetVar(Name: vStartDate, Value: DateTime(DateTime: #date_started#, Format: \"YYYY-MM-DD HH:MI\"))\n        SetVar(Name: vEndDate, Value: DateTime(#date_ended#, \"YYYY-MM-DD HH:MI\"))\n        SetVar(Name: vCmpStartDate, Value: CmpTime(#vStartDate#,#vDateNow#))\n        SetVar(Name: vCmpEndDate, Value: CmpTime(#vEndDate#,#vDateNow#))\n    }.Custom(custom_name){\n        LinkPage(Page: voting_view, PageParams: \"vID=#id#\"){\n            Span(Class: h5 text-bold, Body: #voting.name#)\n        }\n    }.Custom(custom_subject){\n        If(Or(#vCmpStartDate#<=0,#voting.type#==2)){\n            Span(Class: h6, Body: EcosysParam(Name: type_voting_decisions, Index: #voting.type_decision#))\n        }.Else{\n            If(#voting.type_decision# == 1){\n                LinkPage(Page: voting_decision_candidates, PageParams: \"vID=#id#\"){\n                    Span(Class: h6 text-bold, Body: EcosysParam(Name: type_voting_decisions, Index: #voting.type_decision#))\n                }\n            }\n            If(#voting.type_decision# == 2){\n                LinkPage(Page: voting_decision_election, PageParams: \"vID=#id#\"){\n                    Span(Class: h6 text-bold, Body: EcosysParam(Name: type_voting_decisions, Index: #voting.type_decision#))\n                }\n            }\n            If(#voting.type_decision# == 3){\n                LinkPage(Page: voting_decision_document, PageParams: \"vID=#id#\"){\n                    Span(Class: h6 text-bold, Body: EcosysParam(Name: type_voting_decisions, Index: #voting.type_decision#))\n                }\n            }\n            If(#voting.type_decision# == 4){\n                LinkPage(Page: voting_decision_formal, PageParams: \"vID=#id#\"){\n                    Span(Class: h6 text-bold, Body: EcosysParam(Name: type_voting_decisions, Index: #voting.type_decision#))\n                }\n            }\n            If(#voting.type_decision# == 5){\n                LinkPage(Page: voting_decision_contract, PageParams: \"vID=#id#\"){\n                    Span(Class: h6 text-bold, Body: EcosysParam(Name: type_voting_decisions, Index: #voting.type_decision#))\n                }\n            }\n        }\n    }.Custom(custom_participants){\n        If(Or(#vCmpStartDate#<=0,#voting.type#==2)){\n            Span(Class: h6, Body: EcosysParam(Name: type_voting_participants, Index: #voting.type_participants#))\n        }.Else{\n            LinkPage(Page: voting_invite, PageParams: \"vID=#id#\"){\n                Span(Class: h6 text-bold, Body: EcosysParam(Name: type_voting_participants, Index: #voting.type_participants#))\n            }\n        }\n    }.Custom(custom_notifics){\n        If(#flags.notifics# == 1){\n            Div(Class: text-center text-bold, Body: LangRes(yes))\n        }.Else{\n            If(And(#flags.success#!=1,#vCmpEndDate#>0,#vCmpStartDate#<0,#creator.member_id#==#key_id#)){\n                Div(Class: text-center, Body: Button(Body: LangRes(send), Class: btn btn-primary, Contract: voting_SendNotifics, Params: \"votingID=#id#\", Page: voting_list))\n            }.Else{\n                Div(Class: text-center text-bold, Body: LangRes(no))\n            }\n        }\n    }.Custom(custom_creator){\n        LinkPage(Class: text-primary h5 text-bold, Page: profile_view, PageParams: \"v_member_id=#creator.member_id#\"){\n            Span(Body: #creator.member_name#)\n        }\n    }.Custom(custom_date){\n        If(#vCmpStartDate# < 0){\n            Div(Class: text-muted, Body: DateTime(DateTime: #date_started#, Format: \"DD.MM.YYYY HH:MI\"))\n        }.Else{\n            Div(Class: text-bold, Body: DateTime(DateTime: #date_started#, Format: \"DD.MM.YYYY HH:MI\"))\n        }\n        If(#vCmpEndDate# < 0){\n            Div(Class: text-muted, Body: DateTime(DateTime: #date_ended#, Format: \"DD.MM.YYYY HH:MI\"))\n        }.Else{\n            Div(Class: text-bold, Body: DateTime(DateTime: #date_ended#, Format: \"DD.MM.YYYY HH:MI\"))\n        }\n    }.Custom(custom_type){\n        Span(Class: h6, Body: EcosysParam(Name: type_voting, Index: #voting.type#))\n    }.Custom(custom_progress){\n        Div(Class: text-center h5 text-bold, Body: #progress.percent_success# %)\n    }.Custom(custom_decision){\n        If(#flags.decision# == 0){\n            If(And(#vCmpEndDate#<0,#creator.member_id#==#key_id#)){\n                Div(Class: text-center, Body: Button(Body: LangRes(decision), Class: btn btn-primary, Contract: voting_CheckDecision, Params: \"votingID=#id#\", Page: voting_list))\n            }.Else{\n                Div(Class: text-muted text-center, Body: LangRes(no))\n            }\n        }\n        If(#flags.decision# == -2){\n            Div(Class: text-muted text-center, Body: LangRes(not_enough_votes))\n        }\n        If(#flags.decision# == 1){\n            Div(Class: text-success text-center, Body: LangRes(accepted))\n        }\n        If(#flags.decision# == -1){\n            Div(Class: text-danger text-center, Body: LangRes(rejected))\n        }\n    }.Custom(custom_status){\n        If(#flags.success# == 1){\n            Div(Class: text-success text-center, Body: LangRes(success))\n        }.Else{\n            If(#vCmpEndDate# < 0){\n                Div(Class: text-muted text-center, Body: LangRes(finished))\n            }.Else{\n                If(#vCmpStartDate# < 0){\n                    Div(text-center){\n                        Button(Class: btn btn-link, Page: voting_view, PageParams: \"vID=#id#\"){\n                            Span(Class: h4, Body: Em(Class: fa icon-eye))\n                        }\n                    }\n                }.Else{\n                    Div(Class: text-warning text-center, Body: LangRes(waiting))\n                }\n            }\n        }\n    }.Custom(actions){\n        Div(text-right){\n            If(#vCmpStartDate# > 0){\n                Button(Body: Em(Class: fa fa-trash), Class: btn btn-default, Contract: voting_Delete, Params: \"votingID=#id#\", Page: voting_list).Alert(Text: $want_delete_voting$, ConfirmButton: $yes$, CancelButton: $no$, Icon: question)\n            }\n        }\n    }.Where(#v_Where#).Order(id desc)\n    \n    Div(panel panel-primary){\n        Form(panel-body){\n            Div(row){\n                Div(col-md-1 mt-sm text-right){\n                    Label(For: Search){\n                        Span(Body: LangRes(name))\n                    }\n                }\n                Div(col-md-9){\n                    Div(input-group){\n                        Input(Name: Search, Value: #v_Search#)\n                        Div(input-group-btn){\n                            Button(Body: Em(Class: fa fa-search), Class: btn btn-default, Page: voting_list, PageParams: \"isSearch=1,v_Search=Val(Search)\")\n                        }\n                    }\n                }\n                Div(col-md-2){\n                    Button(Body: LangRes(create), Class: btn btn-primary btn-block, Page: voting_create)\n                }\n            }\n            \n            Div(table-responsive){\n                Table(src_voting, \"$id$=custom_id,$name$=custom_name,$type$=custom_type,$subject_voting$=custom_subject,$participants$=custom_participants,$date_start$/$date_end$=custom_date,$creator$=custom_creator,$notifications$=custom_notifics,$progress$=custom_progress,$decision$=custom_decision,$status$=custom_status,=actions\")\n                If(GetVar(isSearch) == 1){\n                    Div(text-center){\n                        Button(Body: $view_all$, Class: btn btn-primary, Page: voting_list, PageParams: \"isSearch=0\")\n                    }\n                }\n            }\n        }\n    }\n}",
            "Name": "voting_list",
            "Menu": "default_menu"
        },
        {
            "Conditions": "ContractAccess(\"@1EditPage\")",
            "Value": "SetTitle($template_create$)\n\nIf(#TemplateId#>0){\n    DBFind(Name:voting_templates, Source: templates).Where(id=#TemplateId#).Vars(template)\n    SetVar(title, #template_title#)\n    SetVar(typevoting, #template_type_voting#)\n    SetVar(volume, #template_volume#)\n    SetVar(subj, #template_subject#)\n    SetVar(quorum, #template_quorum#)\n    SetVar(voters, #template_voters#)\n    SetVar(candidates, #template_voters#)\n    SetVar(vacancies, #template_vacancies#)\n    SetVar(contract_init, #template_init_contract#)\n    SetVar(contract_accept, #template_contract_accept#)\n    SetVar(accept_params, #template_accept_params#)\n    SetVar(contract_reject, #template_contract_reject#)\n    SetVar(reject_params, #template_reject_params#)\n    \n}.Else{\n    SetVar(template_id, 0)\n    SetVar(title, New voting)\n    SetVar(typevoting, 0)\n    SetVar(volume, 50)\n    SetVar(quorum, 50)\n    SetVar(subj, \"\")\n    SetVar(voters, \"\")\n    SetVar(candidates, \"\")\n    SetVar(vacancies, 1)\n    SetVar(contract_init, \"\")\n    SetVar(contract_accept, \"\")\n    SetVar(accept_params, \"\")\n    SetVar(contract_reject, \"\")\n    SetVar(reject_params, \"\")\n    \n}\nIf(#TypeDecision#>0){\n    SetVar(typedec, #TypeDecision#)\n}.Else{\n    SetVar(typedec, 0)\n}\nIf(#TypeParticipants#>0){\n    SetVar(typepart, #TypeParticipants#)\n}.Else{\n    SetVar(typepart, 0)\n}\nEcosysParam(Name: type_voting_participants, Source: src_typepart)\nEcosysParam(Name: type_voting, Source: src_typevoting)\nEcosysParam(Name: type_voting_decisions, Source: src_typedec)\nDBFind(Name: roles, Source: src_roles).Where(\"deleted=0\").Order(id).Custom(name){\n    #role_name#\n}\n\nIf(#typedec#>0){\n    Data(data_inputs, Columns: \"data\"){\n        commons_req\n        decisions\n        participants\n        commons\n    }\n    Data(commons_req, Columns: \"name,type,res,star,value,control,src,desc\"){\n        Title,text,name,*,#title#,input,\"\",\"\"\n        TypeParticipants,text,participants,*,#typepart#,disabled,\"EcosysParam(Name: type_voting_participants, Index: #typepart#)\",\"\"\n        TypeDecision,text,decision,*,#typedec#,disabled,\"EcosysParam(Name: type_voting_decisions, Index: #typedec#)\",\"\"\n        TypeVoting,text,voting_type,*,#typevoting#,select,src_typevoting,\"\"\n        Volume,number,voting_volume,*,#volume#,validate,\"\",$voting_volume_desc$\n        Quorum,number,voting_quorum,*,#quorum#,validate,\"\",$voting_quorum_desc$\n        Subject,text,voting_subject,*,#subj#,input,\"\",\"\"\n    }\n    Data(commons, Columns: \"name,type,res,star,value,control,src,desc\"){\n        InitContract,text,voting_init_contract,\"\",#contract_init#,input,\"\",$voting_init_contract_desc$\n        ContractAccept,text,voting_contract_accept,\"\",#contract_accept#,contract,ParamsAccept,#accept_params#\n        ContractReject,text,voting_contract_reject,\"\",#contract_reject#,contract,ParamsReject,#reject_params#\n    }\n    If(Or(#typedec#==1,#typedec#==2)){\n        Data(decisions, Columns: \"name,type,res,star,value,control,src,desc\"){\n            Vacancies,number,vacancies,\"*\",#vacancies#,input,\"\",\"\"\n            Candidates,text,candidates_role,\"*\",#voters#,select,src_roles,\"\"\n        }\n    }.Else{\n        Data(decisions, Columns: \"name,type,res,star,value,control,src,desc\"){}\n    }\n    If(#typepart#==3){\n        Data(participants, Columns: \"name,type,res,star,value,control,src,desc\"){\n            Voters,text,voters_role,\"*\",#voters#,select,src_roles,\"\"\n        }\n    }.Else{\n        Data(participants, Columns: \"name,type,res,star,value,control,src,desc\"){}\n    }\n}.Else{\n    Data(data_inputs, Columns: \"data\"){\n        commons\n    }\n    Data(commons, Columns: \"name,type,res,star,value,control,src,desc\"){\n        TypeDecision,text,decision,*,#typedec#,radio,src_typedec,\"\"\n        TypeParticipants,text,participants,*,#typepart#,select,src_typepart,\"\"\n    }\n}\nDiv(content-wrapper){\n    Div(breadcrumb){\n        LinkPage($voting_templates$, voting_templates)\n        Span(/).Style(margin-right: 10px; margin-left: 10px;)\n        Span(Class: text-muted, Body: $template_create$)\n    }\n    Div(row){\n        Div(col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3){\n            Form(panel panel-primary){\n                Div(panel-heading){LangRes(voting_params)}\n                Div(panel-body){\n                    ForList(data_inputs){\n                        ForList(#data#){\n                            Div(row form-group){\n                                Div(col-md-4 mt-sm text-right){\n                                    Label(For: #name#){\n                                        LangRes(#res#)\n                                        If(#star#==\"*\"){\n                                            Span(Class: text-danger, Body:*)\n                                        }\n                                    }\n                                }\n                                Div(col-md-8 text-left){\n                                    If(#control#==\"select\"){\n                                        Select(Name: #name#, Source: #src#, NameColumn: name, ValueColumn: id, Value: #value#)\n                                    }\n                                    If(#control#==\"disabled\"){\n                                        #src#\n                                        Input(Name: #name#, Type: hidden, Value: #value#)\n                                    }\n                                    If(#control#==\"input\"){\n                                        Input(Name: #name#, Value: #value#, Type: #type#)\n                                    }\n                                    If(#control#==\"validate\"){\n                                        Input(Name: #name#, Type: #type#, Value: #value#).Validate(minLength: 1)\n                                        InputErr(Name: #name#, minLength: Please enter #name#)\n                                    }\n                                    If(#control#==\"contract\"){\n                                        Div(row){\n                                            Div(col-md-6){\n                                                Input(Name: #name#, Type: #type#, Placeholder: $contract$, Value: #value#)\n                                            }\n                                            Div(col-md-6){\n                                                Input(Name: #src#, Type: #type#, Placeholder: $arguments$, Value: #desc#)\n                                            }\n                                        }\n                                    }\n                                    If(#control#==\"radio\"){\n                                        RadioGroup(Name: #name#, Value: #value#, Source: #src#, ValueColumn: id, NameColumn: name)\n                                    }\n                                    If(And(#desc#!=\"\",#desc#!=\"NULL\")){\n                                        P(Class: m0 text-muted, Body: #desc#)\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n                \n                Div(panel-footer text-right){\n                    \n                    If(#typedec#>0){\n                        Button(Body: LangRes(back), Class: btn btn-default, Page: voting_template_create, PageParams: \"TemplateId=#TemplateId#\")\n                        Button(Body: LangRes(create), Class: btn btn-primary, Page: voting_templates, Contract: voting_TemplateStore)\n                    }.Else{\n                        If(#TemplateId#>0){\n                            Button(Body: LangRes(back), Class: btn btn-default, Page: voting_template_start, PageParams: \"TemplateId=#TemplateId#\")\n                        }.Else{\n                            Button(Body: LangRes(back), Class: btn btn-default, Page: voting_templates)\n                        }\n                        Button(Body: LangRes(next), Class: btn btn-primary, Page: voting_template_create, PageParams: \"TemplateId=#TemplateId#,TypeDecision=Val(TypeDecision),TypeParticipants=Val(TypeParticipants)\")\n                    }\n                }\n            }\n        }\n    }\n}",
            "Name": "voting_template_create",
            "Menu": "default_menu"
        },
        {
            "Conditions": "ContractAccess(\"@1EditPage\")",
            "Value": "SetTitle($voting_start$)\nIf(#TemplateId#>0){\n    DBFind(Name:voting_templates, Source: templates).Where(id=#TemplateId#).Vars(template)\n    If(#template_voters#>0){\n        DBFind(Name:roles, Source: vid_roles).Columns(\"role_name\").Where(\"id=#template_voters#\").Vars(vid)\n        SetVar(v_role, \"#vid_role_name#\")\n    }.Else{\n        SetVar(v_role, \"\")\n    }\n    \n    If(#template_candidates#>0){\n        DBFind(Name:roles, Source: cid_roles).Columns(\"role_name\").Where(\"id=#template_candidates#\").Vars(cid)\n        SetVar(c_role, \"#cid_role_name#\")\n    }.Else{\n        SetVar(c_role, \"\")\n    }\n    Data(inputs, \"res,value\"){\n        name,\"#template_title#\"\n        participants,\"EcosysParam(Name: type_voting_participants, Index: #template_type_participants#)\"\n        voting_type,\"EcosysParam(Name: type_voting, Index: #template_type_voting#)\"\n        decision,\"EcosysParam(Name: type_voting_decisions, Index: #template_type_decision#)\"\n        voting_volume,\"#template_volume#\"\n        voting_quorum,\"#template_quorum#\"\n        voting_subject,\"#template_subject#\"\n        voters,\"#v_role#\"\n        candidates,\"#c_role#\"\n        vacancies,\"#template_vacancies#\"\n        init_contract,\"#template_init_contract#\"\n        voting_contract_accept,\"#template_contract_accept#(#template_accept_params#)\"\n        voting_contract_reject,\"#template_contract_reject#(#template_reject_params#)\"\n        date_start,\"Input(Name:Start, Type: date)\"\n        date_end,\"Input(Name:End, Type: date)\"\n    }\n    \n    If(#template_type_decision#==3){\n        Data(decision_inputs, Columns: \"name,type,res,star,value,control\"){\n            TextDocument,textarea,text_document,*,\"\",textarea\n        }\n    }.Else{\n        If(#template_type_decision#==4){\n            Data(decision_inputs, Columns: \"name,type,res,star,value,control\"){\n                TableWritten,text,table_to_written,*,\"\",input\n                RowId,number,row_id,*,\"\",input\n                ColumnName,text,column_name,*,\"\",input\n                NewValue,text,written_value,*,\"\",input\n            }\n        }.Else{\n            Data(decision_inputs, Columns: \"name,type,res,star,value,control\"){}\n        }\n    }\n}\nDiv(content-wrapper){\n    Div(breadcrumb){\n        LinkPage($voting_templates$, voting_templates)\n        Span(/).Style(margin-right: 10px; margin-left: 10px;)\n        Span(Class: text-muted, Body: $voting_start$)\n    }\n    \n    If(#TemplateId#>0){\n        Div(row){\n            Div(col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3){\n                Form(panel panel-primary){\n                    Div(panel-heading){LangRes(voting_params)}\n                    Div(panel-body){\n                        ForList(inputs){\n                            Div(row form-group){\n                                Div(col-md-4 text-right){\n                                    Strong(LangRes(#res#))\n                                }\n                                Div(col-md-8 text-left){\n                                    If(\"#value#\"!=\"()\"){\n                                        #value#\n                                    }\n                                }\n                            }\n                        }\n                        ForList(decision_inputs){\n                            Div(row form-group){\n                                If(#control#!=\"textarea\"){\n                                    Div(col-md-4 mt-sm text-right){\n                                        Label(For: #name#){\n                                            LangRes(#res#)\n                                            If(#star#==\"*\"){\n                                                Span(Class: text-danger, Body:*)\n                                            }\n                                        }\n                                    }\n                                    Div(col-md-8 text-left){\n                                        If(#control#==\"input\"){\n                                            Input(Name: #name#, Value: #value#, Type: #type#)\n                                        }\n                                    }\n                                }\n                                If(#control#==\"textarea\"){\n                                    Div(col-md-12){\n                                        Label(For: #name#){LangRes(#res#)}\n                                        Input(Name: #name#, Type: textarea, Value: #value#)\n                                    }\n                                }\n                            }\n                        }\n                    }\n                    Input(Name:StartTime, Type: hidden, Value: Now(\"HH:MI\", 5 minutes))\n                    Div(panel-footer){\n                        Div(pull-left){\n                            Button(Class: fa fa-copy btn btn-default, Page: voting_template_create, PageParams: \"TemplateId=#TemplateId#\")\n                        }\n                        Div(text-right){\n                            Button(Body: LangRes(back), Class: btn btn-default, Page: voting_templates)\n                            Button(Body: LangRes(voting_start), Class: btn btn-primary, Page: voting_list, Contract: voting_TemplateRun, Params: \"TemplateId=#TemplateId#\")\n                        }\n                    }\n                }\n            }\n        }\n    }.Else{\n        Div(col-md-12 alert alert-danger text-center){\n            LangRes(attention)\n        }\n    }\n}",
            "Name": "voting_template_start",
            "Menu": "default_menu"
        },
        {
            "Conditions": "ContractAccess(\"@1EditPage\")",
            "Value": "Div(content-wrapper){\n    SetTitle($voting_templates$)\n    Div(breadcrumb){\n        Span(Class: text-muted, Body: $voting_templates$)\n    }\n    DBFind(Name:voting_templates, Source: templates).Order(id desc).Custom(_participants){\n        EcosysParam(Name:type_voting_participants, #type_participants#)\n    }.Custom(_decision){\n        EcosysParam(Name:type_voting_decisions, #type_decision#)\n    }.Custom(_type){\n        EcosysParam(Name:type_voting, #type_voting#)\n    }.Custom(_buttons){\n        Button(Class: btn btn-success, Page: voting_template_start, PageParams: \"TemplateId=#id#\", Body: $use$)\n    }.Custom(_contracts){\n        If(And(#init_contract#!=\"\",#init_contract#!=\"NULL\")){\n            Div(){#init_contract#}\n        }\n        If(And(#contract_accept#!=\"\",#contract_accept#!=\"NULL\")){\n            Div(){#contract_accept#}\n        }\n        If(And(#contract_reject#!=\"\",#contract_reject#!=\"NULL\")){\n            Div(){#contract_reject#}\n        }\n    }.Custom(_vq){\n        #volume#/#quorum#\n    }\n    \n    Div(panel panel-primary){\n        Form(){\n            Div(table-responsive){\n                Table(Source: templates, Columns:\"id=id,$title$=title,$voting_subject$=subject,$volume$/$quorum$=_vq,$voting_type$=_type,$participants$=_participants,$decision$=_decision,$vacancies$=vacancies,$contracts$=_contracts,=_buttons\")\n            }\n            Div(panel-footer text-right){\n                Button(Body: LangRes(create), Class: btn btn-primary, Page: voting_template_create)\n            }\n        }\n    }\n}",
            "Name": "voting_templates",
            "Menu": "default_menu"
        },
        {
            "Conditions": "ContractAccess(\"@1EditPage\")",
            "Value": "Div(content-wrapper){\n    If(#notific_id#>0){\n        DBFind(Name: notifications, Source: src_notifications).Where(\"id=#notific_id#\").Columns(\"page_params->voting_id\").Vars(notific)\n        SetVar(Name: vID, Value: #notific_page_params_voting_id#)\n    }\n    \n    If(#vID# > 0){\n        DBFind(Name: votings, Source: src_voting).Columns(\"id,voting->name,voting->volume,voting->quorum,voting->type,voting->type_decision,voting->description,optional->role_id,optional->role_vacancies,optional->number_candidates,optional->contract_accept,optional->contract_reject,progress->number_participants,progress->number_voters,progress->percent_success,progress->percent_voters,flags->success,flags->full_data,flags->decision,flags->notifics,date_started,date_ended\").Where(\"id=#vID#\").Vars(instance)\n        \n        SetTitle(#instance_voting_name#)\n        Div(breadcrumb){\n            LinkPage($voting$, voting_list)\n            Span(/).Style(margin-right: 10px; margin-left: 10px;)\n            Span(Class: text-muted, Body: #instance_voting_name#)\n        }\n        \n        SetVar(Name: vDateNow, Value: Now(\"YYYY-MM-DD HH:MI\"))\n        SetVar(Name: vStartDate, Value: DateTime(DateTime: #instance_date_started#, Format: \"YYYY-MM-DD HH:MI\"))\n        SetVar(Name: vEndDate, Value: DateTime(#instance_date_ended#, \"YYYY-MM-DD HH:MI\"))\n        SetVar(Name: vCmpStartDate, Value: CmpTime(#vStartDate#,#vDateNow#))\n        SetVar(Name: vCmpEndDate, Value: CmpTime(#vEndDate#,#vDateNow#))\n        \n        DBFind(Name: votings_participants, Source: src_check).Columns(\"id\").Where(\"voting_id=#vID# and member->member_id='#key_id#' and decision=0\").Vars(participant)\n        If(And(#vCmpStartDate#<0,#vCmpEndDate#>0,#instance_flags_full_data#==1,#instance_flags_decision#==0,#participant_id#>0)){\n            SetVar(Name: vOpportunityVote, Value: 1)\n        }.Else{\n            SetVar(Name: vOpportunityVote, Value: 0)\n        }\n        \n        Div(row){\n            Div(col-lg-10 col-lg-offset-1){\n                Form(panel panel-default){\n                    Input(Type: hidden, Name: votingID, Value: #vID#)\n                    \n                    Div(list-group-item text-center){\n                        P(Class: h3 text-bold m0, Body: #instance_voting_name#)\n                        Div(row){\n                            Div(col-md-12 mt-sm){\n                                P(Class: h5 text-muted m0, Body: EcosysParam(Name: type_voting_decisions, Index: #instance_voting_type_decision#))\n                            }\n                        }\n                        Div(row){\n                            Div(col-md-6 mt-sm text-right){\n                                P(Class: h5 text-muted m0, Body: LangRes(description))\n                            }\n                            Div(col-md-6 mt-sm text-left){\n                                P(Class: h5 text-muted m0, Body: #instance_voting_description#)\n                            }\n                        }\n                    }\n                    \n                    Div(list-group-item text-center){\n                        Div(row){\n                            Div(col-md-6 mt-sm text-right){\n                                P(Class: h4 text-normal m0, Body: LangRes(type))\n                            }\n                            Div(col-md-6 mt-sm text-left){\n                                P(Class: h4 text-normal m0, Body: EcosysParam(Name: type_voting, Index: #instance_voting_type#))\n                            }\n                        }\n                        If(Or(#instance_voting_type_decision#==1,#instance_voting_type_decision#==2,#instance_voting_type_decision#==3,#instance_voting_type_decision#==4)){\n                            Div(row){\n                                Div(col-md-6 mt-sm text-right){\n                                    P(Class: h4 text-normal m0, Body: LangRes(contract_accept))\n                                }\n                                Div(col-md-6 mt-sm text-left){\n                                    If(#instance_optional_contract_accept# == \"\"){\n                                        P(Class: h4 text-muted m0, Body: LangRes(optional))\n                                    }.Else{\n                                        P(Class: h4 text-normal m0, Body: #instance_optional_contract_accept#)\n                                    }\n                                }\n                            }\n                            Div(row){\n                                Div(col-md-6 mt-sm text-right){\n                                    P(Class: h4 text-normal m0, Body: LangRes(contract_reject))\n                                }\n                                Div(col-md-6 mt-sm text-left){\n                                    If(#instance_optional_contract_reject# == \"\"){\n                                        P(Class: h4 text-muted m0, Body: LangRes(optional))\n                                    }.Else{\n                                        P(Class: h4 text-normal m0, Body: #instance_optional_contract_reject#)\n                                    }\n                                }\n                            }\n                        }\n                        Div(row){\n                            Div(col-md-6 mt-sm text-right){\n                                P(Class: h4 text-normal m0, Body: LangRes(filled))\n                            }\n                            Div(col-md-6 mt-sm text-left){\n                                If(#instance_flags_full_data# == 1){\n                                    P(Class: h4 text-success m0, Body: LangRes(yes))\n                                }.Else{\n                                    P(Class: h4 text-danger m0, Body: LangRes(no))\n                                }\n                            }\n                        }\n                        If(Or(#instance_voting_type_decision#==1,#instance_voting_type_decision#==2)){\n                            Div(row){\n                                Div(col-md-6 mt-sm text-right){\n                                    P(Class: h5 text-normal m0){\n                                        Span(Body: LangRes(role))\n                                        Span(Class: text-danger, Body:*)\n                                    }\n                                }\n                                Div(col-md-6 mt-sm text-left){\n                                    If(#instance_optional_role_id# > 0){\n                                        DBFind(Name: roles, Source: src_roles).Columns(\"id,role_name\").Where(\"id=#instance_optional_role_id#\").Vars(prefix)\n                                        P(Class: h5 text-normal m0, Body: #prefix_role_name# (LangRes(id): #prefix_id#))\n                                    }.Else{\n                                        P(Class: h5 text-danger m0, Body: LangRes(empty))\n                                    }\n                                }\n                            }\n                            Div(row){\n                                Div(col-md-6 mt-sm text-right){\n                                    P(Class: h5 text-normal m0){\n                                        Span(Body: LangRes(vacancies))\n                                        Span(Class: text-danger, Body:*)\n                                    }\n                                }\n                                Div(col-md-6 mt-sm text-left){\n                                    If(#instance_optional_role_vacancies# > 0){\n                                        P(Class: h5 text-normal m0, Body: #instance_optional_role_vacancies#)\n                                    }.Else{\n                                        P(Class: h5 text-danger m0, Body: #instance_optional_role_vacancies#)\n                                    }\n                                }\n                            }\n                            Div(row){\n                                Div(col-md-6 mt-sm text-right){\n                                    P(Class: h5 text-normal m0){\n                                        Span(Body: LangRes(candidates))\n                                        Span(Class: text-danger, Body:*)\n                                    }\n                                }\n                                Div(col-md-6 mt-sm text-left){\n                                    If(#instance_optional_number_candidates# > 0){\n                                        P(Class: h5 text-normal m0, Body: #instance_optional_number_candidates#)\n                                    }.Else{\n                                        P(Class: h5 text-danger m0, Body: #instance_optional_number_candidates#)\n                                    }\n                                }\n                            }\n                            Div(row){\n                                Div(col-sm-8 col-sm-offset-2 col-lg-8 col-lg-offset-2){\n                                    DBFind(Name: votings_subject, Source: src_voting_subject).Columns(\"id,subject->member_id,subject->member_name\").Where(\"voting_id=#vID#\").Custom(custom_address){\n                                        Span(Class: h6, Body: Address(#subject.member_id#))\n                                    }.Custom(custom_member){\n                                        LinkPage(Class: text-primary h5 text-bold, Page: profile_view, PageParams: \"v_member_id=#subject.member_id#\"){\n                                            Span(Body: #subject.member_name#)\n                                        }\n                                    }.Custom(custom_voting){\n                                        If(#vOpportunityVote#==1){\n                                            Button(Body: LangRes(vote), Class: btn btn-success, Page: voting_view, PageParams: \"vID=#vID#\", Contract: voting_AcceptCandidates, Params: \"candidateID=#subject.member_id#\")\n                                        }\n                                    }.Order(\"id\")\n                                    Table(src_voting_subject, \"=custom_member,=custom_address,=custom_voting\")\n                                }\n                            }\n                            Div(row){\n                                Div(col-md-12 mt-sm){\n                                    If(And(#vCmpStartDate#>0,#instance_voting_type#==1)){\n                                        If(#instance_voting_type_decision#==1){\n                                            Button(Class: btn btn-link, Page: voting_decision_candidates, PageParams: \"vID=#vID#\"){\n                                                Span(Class: h5 text-bold, Body: LangRes(subject_voting_edit))\n                                            }\n                                        }\n                                        If(#instance_voting_type_decision#==2){\n                                            Button(Class: btn btn-link, Page: voting_decision_election, PageParams: \"vID=#vID#\"){\n                                                Span(Class: h5 text-bold, Body: LangRes(subject_voting_edit))\n                                            }\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                        If(#instance_voting_type_decision#==3){\n                            DBFind(Name: votings_subject, Source: src_voting_subject).Columns(\"id,subject->text,subject->hash\").Where(\"voting_id=#vID#\").Vars(subject)\n                            Div(row){\n                                Div(col-sm-8 col-sm-offset-2 col-lg-8 col-lg-offset-2 mt-lg){\n                                    Div(list-group-item){\n                                        If(#subject_id# > 0){\n                                            P(Class: h5 text-normal m0, Body: #subject_subject_text#)\n                                        }.Else{\n                                            P(Class: h5 text-danger m0, Body: LangRes(empty))\n                                        }\n                                    }\n                                    Div(list-group-item){\n                                        If(#subject_id# > 0){\n                                            P(Class: h6 text-muted m0, Body: Hash: #subject_subject_hash#)\n                                        }.Else{\n                                            P(Class: h6 text-muted m0, Body: Hash: LangRes(empty))\n                                        }\n                                    }\n                                }\n                            }\n                            Div(row){\n                                Div(col-md-12 mt-sm){\n                                    If(And(#vCmpStartDate#>0,#instance_voting_type#==1)){\n                                        Button(Class: btn btn-link, Page: voting_decision_document, PageParams: \"vID=#vID#\"){\n                                            Span(Class: h5 text-bold, Body: LangRes(subject_voting_edit))\n                                        }\n                                    }\n                                }\n                            }\n                            Div(row){\n                                Div(col-sm-8 col-sm-offset-2 col-lg-8 col-lg-offset-2){\n                                    If(#vOpportunityVote#==1){\n                                        Div(pull-left){\n                                            Button(Body: LangRes(reject), Class: btn btn-danger, Contract: voting_RejectDecision, PageParams: \"vID=#vID#\", Page: voting_view)\n                                        }\n                                        Div(pull-right){\n                                            Button(Body: LangRes(accept), Class: btn btn-success, Contract: voting_AcceptDecision, PageParams: \"vID=#vID#\", Page: voting_view)\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                        If(#instance_voting_type_decision#==4){\n                            DBFind(Name: votings_subject, Source: src_voting_subject).Columns(\"id,subject->description,subject->table,subject->table_id,subject->column,subject->column_value\").Where(\"voting_id=#vID#\").Vars(subject)\n                            Div(row){\n                                Div(col-md-6 mt-sm text-right){\n                                    P(Class: h5 text-normal m0){\n                                        Span(Body: LangRes(table_to_written))\n                                        Span(Class: text-danger, Body:*)\n                                    }\n                                }\n                                Div(col-md-6 mt-sm text-left){\n                                    If(#subject_id# > 0){\n                                        P(Class: h5 text-normal m0, Body: #subject_subject_table#)\n                                    }.Else{\n                                        P(Class: h5 text-danger m0, Body: LangRes(empty))\n                                    }\n                                }\n                            }\n                            If(#instance_voting_type#==1){\n                                Div(row){\n                                    Div(col-md-6 mt-sm text-right){\n                                        P(Class: h5 text-normal m0){\n                                            Span(Body: LangRes(row_id))\n                                            Span(Class: text-danger, Body:*)\n                                        }\n                                    }\n                                    Div(col-md-6 mt-sm text-left){\n                                        If(#subject_id# > 0){\n                                            P(Class: h5 text-normal m0, Body: #subject_subject_table_id#)\n                                        }.Else{\n                                            P(Class: h5 text-danger m0, Body: LangRes(empty))\n                                        }\n                                    }\n                                }\n                            }\n                            Div(row){\n                                Div(col-md-6 mt-sm text-right){\n                                    P(Class: h5 text-normal m0){\n                                        If(#instance_voting_type#==1){\n                                            Span(Body: LangRes(column_name))\n                                        }.Else{\n                                            Span(Body: LangRes(parameter_name))\n                                        }\n                                        Span(Class: text-danger, Body:*)\n                                    }\n                                }\n                                Div(col-md-6 mt-sm text-left){\n                                    If(#subject_id# > 0){\n                                        P(Class: h5 text-normal m0, Body: #subject_subject_column#)\n                                    }.Else{\n                                        P(Class: h5 text-danger m0, Body: LangRes(empty))\n                                    }\n                                }\n                            }\n                            Div(row){\n                                Div(col-md-6 mt-sm text-right){\n                                    P(Class: h5 text-normal m0){\n                                        Span(Body: LangRes(written_value))\n                                        Span(Class: text-danger, Body:*)\n                                    }\n                                }\n                                Div(col-md-6 mt-sm text-left){\n                                    If(#subject_id# > 0){\n                                        P(Class: h5 text-normal m0, Body: #subject_subject_column_value#)\n                                    }.Else{\n                                        P(Class: h5 text-danger m0, Body: LangRes(empty))\n                                    }\n                                }\n                            }\n                            Div(row){\n                                Div(col-md-6 mt-sm text-right){\n                                    P(Class: h5 text-normal m0){\n                                        Span(Body: LangRes(description))\n                                    }\n                                }\n                                Div(col-md-6 mt-sm text-left){\n                                    If(#subject_id# > 0){\n                                        If(#subject_subject_description# == \"\"){\n                                            P(Class: h5 text-muted m0, Body: LangRes(optional))\n                                        }.Else{\n                                            P(Class: h5 text-normal m0, Body: #subject_subject_description#)\n                                        }\n                                    }.Else{\n                                        P(Class: h5 text-danger m0, Body: LangRes(empty))\n                                    }\n                                }\n                            }\n                            Div(row){\n                                Div(col-md-12 mt-sm){\n                                    If(And(#vCmpStartDate#>0,#instance_voting_type#==1)){\n                                        Button(Class: btn btn-link, Page: voting_decision_formal, PageParams: \"vID=#vID#\"){\n                                            Span(Class: h5 text-bold, Body: LangRes(subject_voting_edit))\n                                        }\n                                    }\n                                }\n                            }\n                            Div(row){\n                                Div(col-sm-8 col-sm-offset-2 col-lg-8 col-lg-offset-2){\n                                    If(#vOpportunityVote#==1){\n                                        Div(pull-left){\n                                            Button(Body: LangRes(reject), Class: btn btn-danger, Contract: voting_RejectDecision, PageParams: \"vID=#vID#\", Page: voting_view)\n                                        }\n                                        Div(pull-right){\n                                            Button(Body: LangRes(accept), Class: btn btn-success, Contract: voting_AcceptDecision, PageParams: \"vID=#vID#\", Page: voting_view)\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                        If(#instance_voting_type_decision#==5){\n                            DBFind(Name: votings_subject, Source: src_voting_subject).Columns(\"id,subject->contract_accept,subject->contract_reject\").Where(\"voting_id=#vID#\").Vars(subject)\n                            Div(row){\n                                Div(col-md-6 mt-sm text-right){\n                                    P(Class: h5 text-normal m0){\n                                        Span(Body: LangRes(contract_accept))\n                                        Span(Class: text-danger, Body:*)\n                                    }\n                                }\n                                Div(col-md-6 mt-sm text-left){\n                                    If(#subject_id# > 0){\n                                        P(Class: h5 text-normal m0, Body: #subject_subject_contract_accept#)\n                                    }.Else{\n                                        P(Class: h5 text-danger m0, Body: LangRes(empty))\n                                    }\n                                }\n                            }\n                            Div(row){\n                                Div(col-md-6 mt-sm text-right){\n                                    P(Class: h5 text-normal m0){\n                                        Span(Body: LangRes(contract_reject))\n                                        Span(Class: text-danger, Body:*)\n                                    }\n                                }\n                                Div(col-md-6 mt-sm text-left){\n                                    If(#subject_id# > 0){\n                                        P(Class: h5 text-normal m0, Body: #subject_subject_contract_reject#)\n                                    }.Else{\n                                        P(Class: h5 text-danger m0, Body: LangRes(empty))\n                                    }\n                                }\n                            }\n                            Div(row){\n                                Div(col-md-12 mt-sm){\n                                    If(And(#vCmpStartDate#>0,#instance_voting_type#==1)){\n                                        Button(Class: btn btn-link, Page: voting_decision_contract, PageParams: \"vID=#vID#\"){\n                                            Span(Class: h5 text-bold, Body: LangRes(subject_voting_edit))\n                                        }\n                                    }\n                                }\n                            }\n                            Div(row){\n                                Div(col-sm-8 col-sm-offset-2 col-lg-8 col-lg-offset-2){\n                                    If(#vOpportunityVote#==1){\n                                        Div(pull-left){\n                                            Button(Body: LangRes(reject), Class: btn btn-danger, Contract: voting_RejectDecision, PageParams: \"vID=#vID#\", Page: voting_view)\n                                        }\n                                        Div(pull-right){\n                                            Button(Body: LangRes(accept), Class: btn btn-success, Contract: voting_AcceptDecision, PageParams: \"vID=#vID#\", Page: voting_view)\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                    }\n                    \n                    Div(list-group-item text-center){\n                        Div(row){\n                            Div(col-md-6 mt-sm text-right){\n                                P(Class: h5 text-normal m0, Body: LangRes(status))\n                            }\n                            Div(col-md-6 mt-sm text-left){\n                                If(#instance_flags_success#==1){\n                                    P(Class: h5 text-success m0, Body: LangRes(success))\n                                }.Else{\n                                    If(#vCmpEndDate#<0){\n                                        P(Class: h5 text-muted m0, Body: LangRes(finished))\n                                    }.Else{\n                                        If(#vCmpStartDate#<0){\n                                            P(Class: h5 text-success m0, Body: LangRes(started))\n                                        }.Else{\n                                            P(Class: h5 text-warning m0, Body: LangRes(waiting))\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                        Div(row){\n                            Div(col-md-6 mt-sm text-right){\n                                P(Class: h5 text-normal m0, Body: LangRes(notifications))\n                            }\n                            Div(col-md-6 mt-sm text-left){\n                                If(#instance_flags_notifics#==1){\n                                    P(Class: h5 text-normal m0, Body: LangRes(yes))\n                                }.Else{\n                                    P(Class: h5 text-normal m0, Body: LangRes(no))\n                                }\n                            }\n                        }\n                        Div(row){\n                            Div(col-md-6 mt-sm text-right){\n                                P(Class: h5 text-normal m0, Body: LangRes(decision))\n                            }\n                            Div(col-md-6 mt-sm text-left){\n                                If(#instance_flags_decision#==-2){\n                                    P(Class: h5 text-normal m0, Body: LangRes(not_enough_votes))\n                                }\n                                If(#instance_flags_decision#==-1){\n                                    P(Class: h5 text-danger m0, Body: LangRes(rejected))\n                                }\n                                If(#instance_flags_decision#==0){\n                                    P(Class: h5 text-normal m0, Body: LangRes(no))\n                                }\n                                If(#instance_flags_decision#==1){\n                                    P(Class: h5 text-success m0, Body: LangRes(accepted))\n                                }\n                            }\n                        }\n                        Div(row){\n                            Div(col-md-6 mt-sm text-right){\n                                P(Class: h5 text-normal m0, Body: LangRes(date_start))\n                            }\n                            Div(col-md-6 mt-sm text-left){\n                                If(#vCmpStartDate#<0){\n                                    P(Class: h5 text-muted m0, Body: DateTime(DateTime: #instance_date_started#, Format: \"DD.MM.YYYY HH:MI\"))\n                                }.Else{\n                                    P(Class: h5 text-normal m0, Body: DateTime(DateTime: #instance_date_started#, Format: \"DD.MM.YYYY HH:MI\"))\n                                }\n                            }\n                        }\n                        Div(row){\n                            Div(col-md-6 mt-sm text-right){\n                                P(Class: h5 text-normal m0, Body: LangRes(date_end))\n                            }\n                            Div(col-md-6 mt-sm text-left){\n                                If(#vCmpEndDate#<0){\n                                    P(Class: h5 text-muted m0, Body: DateTime(DateTime: #instance_date_ended#, Format: \"DD.MM.YYYY HH:MI\"))\n                                }.Else{\n                                    P(Class: h5 text-normal m0, Body: DateTime(DateTime: #instance_date_ended#, Format: \"DD.MM.YYYY HH:MI\"))\n                                }\n                            }\n                        }\n                        Div(row){\n                            Div(col-md-6 mt-sm text-right){\n                                P(Class: h5 text-normal m0, Body: LangRes(voting_volume))\n                            }\n                            Div(col-md-6 mt-sm text-left){\n                                P(Class: h5 text-normal m0, Body: #instance_voting_volume#)\n                            }\n                        }\n                        Div(row){\n                            Div(col-md-6 mt-sm text-right){\n                                P(Class: h5 text-normal m0, Body: LangRes(voting_quorum))\n                            }\n                            Div(col-md-6 mt-sm text-left){\n                                P(Class: h5 text-normal m0, Body: #instance_voting_quorum#)\n                            }\n                        }\n                        Div(row){\n                            Div(col-md-6 mt-sm text-right){\n                                P(Class: h5 text-normal m0){\n                                    Span(Body: LangRes(participants))\n                                    Span(Class: text-danger, Body:*)\n                                }\n                            }\n                            Div(col-md-6 mt-sm text-left){\n                                If(#instance_progress_number_participants# > 0){\n                                    P(Class: h5 text-normal m0, Body: #instance_progress_number_participants#)\n                                }.Else{\n                                    P(Class: h5 text-danger m0, Body: #instance_progress_number_participants#)\n                                }\n                            }\n                        }\n                        Div(row){\n                            Div(col-sm-8 col-sm-offset-2 col-lg-8 col-lg-offset-2){\n                                DBFind(Name: votings_participants, Source: src_voting_participants).Columns(\"id,member->member_id,member->member_name,decision_date,decision\").Where(\"voting_id=#vID#\").Custom(custom_address){\n                                    P(Class: h6 m0, Body: Address(#member.member_id#))\n                                }.Custom(custom_member){\n                                    LinkPage(Class: text-primary h5 text-bold, Page: profile_view, PageParams: \"v_member_id=#member.member_id#\"){\n                                        Span(Body: #member.member_name#)\n                                    }\n                                }.Custom(custom_decision){\n                                    \n                                    If(Or(#instance_voting_type_decision#==1,#instance_voting_type_decision#==2)){\n                                        If(#decision#==0){\n                                            P(Class: h6 m0, Body: LangRes(did_not_vote))\n                                        }.Else{\n                                            P(Class: text-success text-center h6 m0, Body: $vote_for_candidate$:)\n                                            P(Class: text-success text-center h6 m0, Body: Address(#decision#) )\n                                            P(Class: text-success text-center h6 m0, Body: $at$ DateTime(DateTime: #decision_date#, Format: \"DD.MM.YYYY HH:MI\"))\n                                        }\n                                    }\n                                    If(#instance_voting_type_decision#==3){\n                                        If(#decision#==0){\n                                            P(Class: h6 m0, Body: LangRes(did_not_vote))\n                                        }\n                                        If(#decision#==1){\n                                            P(Class: text-success h6 m0, Body: $document_accept$ $at$ DateTime(DateTime: #decision_date#, Format: \"DD.MM.YYYY HH:MI\"))\n                                        }\n                                        If(#decision#==-1){\n                                            P(Class: text-danger h6 m0, Body: $document_reject$ $at$ DateTime(DateTime: #decision_date#, Format: \"DD.MM.YYYY HH:MI\"))\n                                        }\n                                    }\n                                    If(#instance_voting_type_decision#==4){\n                                        If(#decision#==0){\n                                            P(Class: h6 m0, Body: LangRes(did_not_vote))\n                                        }\n                                        If(#decision#==1){\n                                            P(Class: text-success h6 m0, Body: $decision_accept$ $at$ DateTime(DateTime: #decision_date#, Format: \"DD.MM.YYYY HH:MI\"))\n                                        }\n                                        If(#decision#==-1){\n                                            P(Class: text-danger h6 m0, Body: $decision_reject$ $at$ DateTime(DateTime: #decision_date#, Format: \"DD.MM.YYYY HH:MI\"))\n                                        }\n                                    }\n                                    If(#instance_voting_type_decision#==5){\n                                        If(#decision#==0){\n                                            P(Class: h6 m0, Body: LangRes(did_not_vote))\n                                        }\n                                        If(#decision#==1){\n                                            P(Class: text-success h6 m0, Body: $contract_accepted$ $at$ DateTime(DateTime: #decision_date#, Format: \"DD.MM.YYYY HH:MI\"))\n                                        }\n                                        If(#decision#==-1){\n                                            P(Class: text-danger h6 m0, Body: $contract_rejected$ $at$ DateTime(DateTime: #decision_date#, Format: \"DD.MM.YYYY HH:MI\"))\n                                        }\n                                    }\n                                }.Order(\"id\")\n                                Table(src_voting_participants, \"=custom_member,=custom_decision\")\n                            }\n                        }\n                        Div(row){\n                            Div(col-md-12 mt-sm){\n                                If(And(#vCmpStartDate#>0,#instance_voting_type#==1)){\n                                    Button(Class: btn btn-link, Page: voting_invite, PageParams: \"vID=#vID#\"){\n                                        Span(Class: h5 text-bold, Body: LangRes(participants_add))\n                                    }\n                                }\n                            }\n                        }\n                    }\n                    \n                    Div(list-group-item text-center){\n                        Div(row){\n                            Div(col-md-1 mt-sm)\n                            Div(col-md-5 mt-sm text-center){\n                                P(Class: h4 text-normal m0, Body: LangRes(voted))\n                            }\n                            Div(col-md-5 mt-sm text-center){\n                                P(Class: h4 text-normal m0, Body: LangRes(progress))\n                            }\n                            Div(col-md-1 mt-sm)\n                        }\n                        Div(row){\n                            Div(col-md-1 mt-sm)\n                            Div(col-md-5 mt-sm text-center){\n                                P(Class: h6 text-muted m0, Body: LangRes(voting_graph_voted))\n                            }\n                            Div(col-md-5 mt-sm text-center){\n                                P(Class: h6 text-muted m0, Body: LangRes(voting_graph_progress))\n                            }\n                            Div(col-md-1 mt-sm)\n                        }\n                        Div(row){\n                            Div(col-md-1 mt-sm)\n                            Div(col-md-5 mt-sm text-center){\n                                P(Class: h3 text-normal m0, Body: #instance_progress_number_voters# / #instance_progress_percent_voters#)\n                            }\n                            Div(col-md-5 mt-sm text-center){\n                                P(Class: h3 text-normal m0, Body: #instance_progress_percent_success# / 100)\n                            }\n                            Div(col-md-1 mt-sm)\n                        }\n                    }\n                }\n            }\n        }\n    }.Else{\n        Div(md-12 alert alert-danger text-center){\n            Span(Body: LangRes(attention))\n        }\n    }\n}",
            "Name": "voting_view",
            "Menu": "default_menu"
        }
    ],
    "parameters": [
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "APL_not_required,APL_required",
            "Name": "catalog_ecosystems_freetype"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "Ecosystem #1,Ecosystem #2,Ecosystem #3,Ecosystem #4,Ecosystem #5,Ecosystem #6,Ecosystem #7,Ecosystem #8,Ecosystem #9,Ecosystem #10,Ecosystem #11,Ecosystem #12,Ecosystem #13,Ecosystem #14,Ecosystem #15,Ecosystem #16,Ecosystem #17,Ecosystem #18,Ecosystem #19,Ecosystem #20",
            "Name": "catalog_ecosystems_list"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "public_org,business,finance",
            "Name": "catalog_ecosystems_type"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "0",
            "Name": "investors_number"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "0",
            "Name": "last_ecosystem_number"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "single,multiple",
            "Name": "notification_closure"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "fa-bell,fa-comment,fa-envelope,fa-bookmark,fa-check,fa-exclamation-triangle,fa-info-circle",
            "Name": "notification_icon"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "notification_sender_member,notification_sender_role",
            "Name": "notification_sender"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "single,role",
            "Name": "notification_type"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "assigned_role,elective_role,system_role,company_role",
            "Name": "roles_types"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "type_voting_custom,type_voting_system",
            "Name": "type_voting"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "voting_decisions_candidate_requests,voting_decisions_candidate_manual,voting_decisions_document,voting_decisions_db,voting_decisions_contract",
            "Name": "type_voting_decisions"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "voting_participants_everybody,voting_participants_manual,voting_participants_role",
            "Name": "type_voting_participants"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "0",
            "Name": "voting_sysparams_template_id"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "0",
            "Name": "voting_validators_template_id"
        }
    ],
    "tables": [
        {
            "Name": "binaries",
            "Columns": "[\n    {\n        \"name\": \"data\",\n        \"type\": \"bytea\",\n        \"conditions\": \"ContractConditions(\\\"MainCondition\\\")\"\n    },\n    {\n        \"name\": \"hash\",\n        \"type\": \"varchar\",\n        \"conditions\": \"ContractConditions(\\\"MainCondition\\\")\"\n    },\n    {\n        \"name\": \"name\",\n        \"type\": \"varchar\",\n        \"conditions\": \"ContractConditions(\\\"MainCondition\\\")\"\n    },\n    {\n        \"name\": \"app_id\",\n        \"type\": \"number\",\n        \"conditions\": \"ContractConditions(\\\"MainCondition\\\")\"\n    },\n    {\n        \"name\": \"member_id\",\n        \"type\": \"number\",\n        \"conditions\": \"ContractConditions(\\\"MainCondition\\\")\"\n    }\n]",
            "Permissions": "{\"insert\":\"true\",\"update\":\"true\",\"new_column\":\"true\"}"
        },
        {
            "Name": "catalog_ecosystems",
            "Columns": "[{\"name\":\"url_address\",\"type\":\"json\",\"conditions\":\"true\"},{\"name\":\"ecosystem_info\",\"type\":\"json\",\"conditions\":\"true\"},{\"name\":\"ecosystem_name\",\"type\":\"varchar\",\"conditions\":\"true\"},{\"name\":\"ecosystem_type\",\"type\":\"number\",\"conditions\":\"true\"},{\"name\":\"ecosystem_number\",\"type\":\"number\",\"conditions\":\"true\"},{\"name\":\"deleted\",\"type\":\"number\",\"conditions\":\"true\"},{\"name\":\"image_id\",\"type\":\"number\",\"conditions\":\"true\"},{\"name\":\"flag_free\",\"type\":\"number\",\"conditions\":\"true\"}]",
            "Permissions": "{\"insert\":\"true\",\"update\":\"true\",\"new_column\":\"true\"}"
        },
        {
            "Name": "members",
            "Columns": "[{\"name\":\"image_id\",\"type\":\"number\",\"conditions\":\"true\"},{\"name\":\"member_info\",\"type\":\"json\",\"conditions\":\"true\"},{\"name\":\"member_name\",\"type\":\"varchar\",\"conditions\":\"true\"}]",
            "Permissions": "{\"insert\":\"true\",\"update\":\"true\",\"new_column\":\"true\"}"
        },
        {
            "Name": "notifications",
            "Columns": "[{\"name\":\"closed\",\"type\":\"number\",\"conditions\":\"true\"},{\"name\":\"sender\",\"type\":\"json\",\"conditions\":\"true\"},{\"name\":\"page_name\",\"type\":\"varchar\",\"conditions\":\"true\"},{\"name\":\"date_created\",\"type\":\"datetime\",\"conditions\":\"true\"},{\"name\":\"notification\",\"type\":\"json\",\"conditions\":\"true\"},{\"name\":\"date_start_processing\",\"type\":\"datetime\",\"conditions\":\"true\"},{\"name\":\"recipient\",\"type\":\"json\",\"conditions\":\"true\"},{\"name\":\"date_closed\",\"type\":\"datetime\",\"conditions\":\"true\"},{\"name\":\"page_params\",\"type\":\"json\",\"conditions\":\"true\"},{\"name\":\"processing_info\",\"type\":\"json\",\"conditions\":\"true\"}]",
            "Permissions": "{\"insert\":\"true\",\"update\":\"true\",\"new_column\":\"true\"}"
        },
        {
            "Name": "roles",
            "Columns": "[{\"name\":\"date_deleted\",\"type\":\"datetime\",\"conditions\":\"true\"},{\"name\":\"deleted\",\"type\":\"number\",\"conditions\":\"true\"},{\"name\":\"image_id\",\"type\":\"number\",\"conditions\":\"true\"},{\"name\":\"role_name\",\"type\":\"varchar\",\"conditions\":\"true\"},{\"name\":\"company_id\",\"type\":\"number\",\"conditions\":\"true\"},{\"name\":\"creator\",\"type\":\"json\",\"conditions\":\"true\"},{\"name\":\"role_type\",\"type\":\"number\",\"conditions\":\"true\"},{\"name\":\"date_created\",\"type\":\"datetime\",\"conditions\":\"true\"},{\"name\":\"default_page\",\"type\":\"varchar\",\"conditions\":\"true\"}]",
            "Permissions": "{\"insert\":\"true\",\"update\":\"true\",\"new_column\":\"true\"}"
        },
        {
            "Name": "roles_participants",
            "Columns": "[{\"name\":\"appointed\",\"type\":\"json\",\"conditions\":\"true\"},{\"name\":\"date_created\",\"type\":\"datetime\",\"conditions\":\"true\"},{\"name\":\"date_deleted\",\"type\":\"datetime\",\"conditions\":\"true\"},{\"name\":\"role\",\"type\":\"json\",\"conditions\":\"true\"},{\"name\":\"member\",\"type\":\"json\",\"conditions\":\"true\"},{\"name\":\"deleted\",\"type\":\"number\",\"conditions\":\"true\"}]",
            "Permissions": "{\"insert\":\"true\",\"update\":\"true\",\"new_column\":\"true\"}"
        },
        {
            "Name": "sysparams_candidate",
            "Columns": "[\n    {\n        \"name\": \"commission_address\",\n        \"type\": \"number\",\n        \"conditions\": \"true\"\n    },\n    {\n        \"name\": \"comment\",\n        \"type\": \"text\",\n        \"conditions\": \"true\"\n    },\n    {\n        \"name\": \"deleted\",\n        \"type\": \"number\",\n        \"conditions\": \"true\"\n    },\n    {\n        \"name\": \"host_ip\",\n        \"type\": \"varchar\",\n        \"conditions\": \"true\"\n    },\n    {\n        \"name\": \"description\",\n        \"type\": \"text\",\n        \"conditions\": \"true\"\n    },\n    {\n        \"name\": \"date_created\",\n        \"type\": \"datetime\",\n        \"conditions\": \"true\"\n    },\n    {\n        \"name\": \"commission_pub\",\n        \"type\": \"varchar\",\n        \"conditions\": \"true\"\n    },\n    {\n        \"name\": \"candidate_key_id\",\n        \"type\": \"number\",\n        \"conditions\": \"true\"\n    }\n]",
            "Permissions": "{\"insert\":\"true\",\"update\":\"true\",\"new_column\":\"true\"}"
        },
        {
            "Name": "voting_templates",
            "Columns": "[\n    {\n        \"name\": \"voters\",\n        \"type\": \"varchar\",\n        \"conditions\": \"true\"\n    },\n    {\n        \"name\": \"candidates\",\n        \"type\": \"varchar\",\n        \"conditions\": \"true\"\n    },\n    {\n        \"name\": \"type_participants\",\n        \"type\": \"number\",\n        \"conditions\": \"true\"\n    },\n    {\n        \"name\": \"init_contract\",\n        \"type\": \"varchar\",\n        \"conditions\": \"true\"\n    },\n    {\n        \"name\": \"type\",\n        \"type\": \"varchar\",\n        \"conditions\": \"true\"\n    },\n    {\n        \"name\": \"title\",\n        \"type\": \"varchar\",\n        \"conditions\": \"true\"\n    },\n    {\n        \"name\": \"type_decision\",\n        \"type\": \"number\",\n        \"conditions\": \"true\"\n    },\n    {\n        \"name\": \"quorum\",\n        \"type\": \"number\",\n        \"conditions\": \"true\"\n    },\n    {\n        \"name\": \"subject\",\n        \"type\": \"varchar\",\n        \"conditions\": \"true\"\n    },\n    {\n        \"name\": \"type_voting\",\n        \"type\": \"number\",\n        \"conditions\": \"true\"\n    },\n    {\n        \"name\": \"volume\",\n        \"type\": \"number\",\n        \"conditions\": \"true\"\n    },\n    {\n        \"name\": \"type_id\",\n        \"type\": \"number\",\n        \"conditions\": \"true\"\n    },\n    {\n        \"name\": \"vacancies\",\n        \"type\": \"number\",\n        \"conditions\": \"true\"\n    },\n    {\n        \"name\": \"contract_accept\",\n        \"type\": \"varchar\",\n        \"conditions\": \"true\"\n    },\n    {\n        \"name\": \"accept_params\",\n        \"type\": \"varchar\",\n        \"conditions\": \"true\"\n    },\n    {\n        \"name\": \"contract_reject\",\n        \"type\": \"varchar\",\n        \"conditions\": \"true\"\n    },\n    {\n        \"name\": \"reject_params\",\n        \"type\": \"varchar\",\n        \"conditions\": \"true\"\n    }\n]",
            "Permissions": "{\"insert\":\"true\",\"update\":\"true\",\"new_column\":\"true\"}"
        },
        {
            "Name": "votings",
            "Columns": "[{\"name\":\"date_ended\",\"type\":\"datetime\",\"conditions\":\"true\"},{\"name\":\"date_started\",\"type\":\"datetime\",\"conditions\":\"true\"},{\"name\":\"flags\",\"type\":\"json\",\"conditions\":\"true\"},{\"name\":\"voting\",\"type\":\"json\",\"conditions\":\"true\"},{\"name\":\"creator\",\"type\":\"json\",\"conditions\":\"true\"},{\"name\":\"deleted\",\"type\":\"number\",\"conditions\":\"true\"},{\"name\":\"optional\",\"type\":\"json\",\"conditions\":\"true\"},{\"name\":\"progress\",\"type\":\"json\",\"conditions\":\"true\"}]",
            "Permissions": "{\"insert\":\"true\",\"update\":\"true\",\"new_column\":\"true\"}"
        },
        {
            "Name": "votings_participants",
            "Columns": "[{\"name\":\"member\",\"type\":\"json\",\"conditions\":\"true\"},{\"name\":\"decision\",\"type\":\"number\",\"conditions\":\"true\"},{\"name\":\"voting_id\",\"type\":\"number\",\"conditions\":\"true\"},{\"name\":\"decision_date\",\"type\":\"datetime\",\"conditions\":\"true\"}]",
            "Permissions": "{\"insert\":\"true\",\"update\":\"true\",\"new_column\":\"true\"}"
        },
        {
            "Name": "votings_subject",
            "Columns": "[{\"name\":\"subject\",\"type\":\"json\",\"conditions\":\"true\"},{\"name\":\"voting_id\",\"type\":\"number\",\"conditions\":\"true\"},{\"name\":\"number_accept\",\"type\":\"number\",\"conditions\":\"true\"}]",
            "Permissions": "{\"insert\":\"true\",\"update\":\"true\",\"new_column\":\"true\"}"
        }
    ]
}